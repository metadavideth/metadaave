import{H as su,a as ou,t as au,c as uu,b as zs,d as cu,e as fu,r as Do,f as lu,s as du,g as hu,h as ns,i as is,j as Ds}from"./index-D-xXYKUG.js";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ss=BigInt(0),qi=BigInt(1);function en(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function os(r){if(!en(r))throw new Error("Uint8Array expected")}function tr(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}function un(r){const e=r.toString(16);return e.length&1?"0"+e:e}function jo(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?ss:BigInt("0x"+r)}const qo=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",pu=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Sr(r){if(os(r),qo)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=pu[r[t]];return e}const $t={_0:48,_9:57,A:65,F:70,a:97,f:102};function js(r){if(r>=$t._0&&r<=$t._9)return r-$t._0;if(r>=$t.A&&r<=$t.F)return r-($t.A-10);if(r>=$t.a&&r<=$t.f)return r-($t.a-10)}function gn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(qo)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const c=js(r.charCodeAt(i)),d=js(r.charCodeAt(i+1));if(c===void 0||d===void 0){const p=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+i)}n[s]=c*16+d}return n}function ar(r){return jo(Sr(r))}function Pr(r){return os(r),jo(Sr(Uint8Array.from(r).reverse()))}function tn(r,e){return gn(r.toString(16).padStart(e*2,"0"))}function yn(r,e){return tn(r,e).reverse()}function Ve(r,e,t){let n;if(typeof e=="string")try{n=gn(e)}catch(i){throw new Error(r+" must be hex string or Uint8Array, cause: "+i)}else if(en(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const s=n.length;if(typeof t=="number"&&s!==t)throw new Error(r+" of length "+t+" expected, got "+s);return n}function Ar(...r){let e=0;for(let n=0;n<r.length;n++){const s=r[n];os(s),e+=s.length}const t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){const i=r[n];t.set(i,s),s+=i.length}return t}const gi=r=>typeof r=="bigint"&&ss<=r;function as(r,e,t){return gi(r)&&gi(e)&&gi(t)&&e<=r&&r<t}function Nt(r,e,t,n){if(!as(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function mu(r){let e;for(e=0;r>ss;r>>=qi,e+=1);return e}const qn=r=>(qi<<BigInt(r))-qi,yi=r=>new Uint8Array(r),qs=r=>Uint8Array.from(r);function gu(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=yi(r),s=yi(r),i=0;const c=()=>{n.fill(1),s.fill(0),i=0},d=(...R)=>t(s,n,...R),p=(R=yi(0))=>{s=d(qs([0]),R),n=d(),R.length!==0&&(s=d(qs([1]),R),n=d())},v=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let R=0;const z=[];for(;R<e;){n=d();const C=n.slice();z.push(C),R+=n.length}return Ar(...z)};return(R,z)=>{c(),p(R);let C;for(;!(C=z(v()));)p();return c(),C}}const yu={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||en(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function rn(r,e,t={}){const n=(s,i,c)=>{const d=yu[i];if(typeof d!="function")throw new Error("invalid validator function");const p=r[s];if(!(c&&p===void 0)&&!d(p,r))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+p)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(t))n(s,i,!0);return r}function wn(r){const e=new WeakMap;return(t,...n)=>{const s=e.get(t);if(s!==void 0)return s;const i=r(t,...n);return e.set(t,i),i}}class $o extends su{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ou(e);const n=au(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=e.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),uu(i)}update(e){return zs(this),this.iHash.update(e),this}digestInto(e){zs(this),cu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:c,outputLen:d}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=c,e.outputLen=d,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Zo=(r,e,t)=>new $o(r,e).update(t).digest();Zo.create=(r,e)=>new $o(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kt=BigInt(0),ht=BigInt(1),or=BigInt(2),wu=BigInt(3),Vo=BigInt(4),Ko=BigInt(5),Wo=BigInt(8);function Pe(r,e){const t=r%e;return t>=kt?t:e+t}function qe(r,e,t){let n=r;for(;e-- >kt;)n*=n,n%=t;return n}function $i(r,e){if(r===kt)throw new Error("invert: expected non-zero number");if(e<=kt)throw new Error("invert: expected positive modulus, got "+e);let t=Pe(r,e),n=e,s=kt,i=ht;for(;t!==kt;){const d=n/t,p=n%t,v=s-i*d;n=t,t=p,s=i,i=v}if(n!==ht)throw new Error("invert: does not exist");return Pe(s,e)}function Ho(r,e){const t=(r.ORDER+ht)/Vo,n=r.pow(e,t);if(!r.eql(r.sqr(n),e))throw new Error("Cannot find square root");return n}function vu(r,e){const t=(r.ORDER-Ko)/Wo,n=r.mul(e,or),s=r.pow(n,t),i=r.mul(e,s),c=r.mul(r.mul(i,or),s),d=r.mul(i,r.sub(c,r.ONE));if(!r.eql(r.sqr(d),e))throw new Error("Cannot find square root");return d}function bu(r){if(r<BigInt(3))throw new Error("sqrt is not defined for small field");let e=r-ht,t=0;for(;e%or===kt;)e/=or,t++;let n=or;const s=nn(r);for(;$s(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return Ho;let i=s.pow(n,e);const c=(e+ht)/or;return function(p,v){if(p.is0(v))return v;if($s(p,v)!==1)throw new Error("Cannot find square root");let E=t,R=p.mul(p.ONE,i),z=p.pow(v,e),C=p.pow(v,c);for(;!p.eql(z,p.ONE);){if(p.is0(z))return p.ZERO;let q=1,M=p.sqr(z);for(;!p.eql(M,p.ONE);)if(q++,M=p.sqr(M),q===E)throw new Error("Cannot find square root");const T=ht<<BigInt(E-q-1),J=p.pow(R,T);E=q,R=p.sqr(J),z=p.mul(z,R),C=p.mul(C,J)}return C}}function xu(r){return r%Vo===wu?Ho:r%Wo===Ko?vu:bu(r)}const _u=(r,e)=>(Pe(r,e)&ht)===ht,Eu=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Su(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Eu.reduce((n,s)=>(n[s]="function",n),e);return rn(r,t)}function Au(r,e,t){if(t<kt)throw new Error("invalid exponent, negatives unsupported");if(t===kt)return r.ONE;if(t===ht)return e;let n=r.ONE,s=e;for(;t>kt;)t&ht&&(n=r.mul(n,s)),s=r.sqr(s),t>>=ht;return n}function us(r,e,t=!1){const n=new Array(e.length).fill(t?r.ZERO:void 0),s=e.reduce((c,d,p)=>r.is0(d)?c:(n[p]=c,r.mul(c,d)),r.ONE),i=r.inv(s);return e.reduceRight((c,d,p)=>r.is0(d)?c:(n[p]=r.mul(c,n[p]),r.mul(c,d)),i),n}function $s(r,e){const t=(r.ORDER-ht)/or,n=r.pow(e,t),s=r.eql(n,r.ONE),i=r.eql(n,r.ZERO),c=r.eql(n,r.neg(r.ONE));if(!s&&!i&&!c)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Jo(r,e){e!==void 0&&fu(e);const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function nn(r,e,t=!1,n={}){if(r<=kt)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:s,nByteLength:i}=Jo(r,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const d=Object.freeze({ORDER:r,isLE:t,BITS:s,BYTES:i,MASK:qn(s),ZERO:kt,ONE:ht,create:p=>Pe(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return kt<=p&&p<r},is0:p=>p===kt,isOdd:p=>(p&ht)===ht,neg:p=>Pe(-p,r),eql:(p,v)=>p===v,sqr:p=>Pe(p*p,r),add:(p,v)=>Pe(p+v,r),sub:(p,v)=>Pe(p-v,r),mul:(p,v)=>Pe(p*v,r),pow:(p,v)=>Au(d,p,v),div:(p,v)=>Pe(p*$i(v,r),r),sqrN:p=>p*p,addN:(p,v)=>p+v,subN:(p,v)=>p-v,mulN:(p,v)=>p*v,inv:p=>$i(p,r),sqrt:n.sqrt||(p=>(c||(c=xu(r)),c(d,p))),toBytes:p=>t?yn(p,i):tn(p,i),fromBytes:p=>{if(p.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+p.length);return t?Pr(p):ar(p)},invertBatch:p=>us(d,p),cmov:(p,v,E)=>E?v:p});return Object.freeze(d)}function Go(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Yo(r){const e=Go(r);return e+Math.ceil(e/2)}function ku(r,e,t=!1){const n=r.length,s=Go(e),i=Yo(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const c=t?Pr(r):ar(r),d=Pe(c,e-ht)+ht;return t?yn(d,s):tn(d,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zs=BigInt(0),Zi=BigInt(1);function wi(r,e){const t=e.negate();return r?t:e}function Xo(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function vi(r,e){Xo(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1),s=2**r,i=qn(r),c=BigInt(r);return{windows:t,windowSize:n,mask:i,maxNumber:s,shiftBy:c}}function Vs(r,e,t){const{windowSize:n,mask:s,maxNumber:i,shiftBy:c}=t;let d=Number(r&s),p=r>>c;d>n&&(d-=i,p+=Zi);const v=e*n,E=v+Math.abs(d)-1,R=d===0,z=d<0,C=e%2!==0;return{nextN:p,offset:E,isZero:R,isNeg:z,isNegF:C,offsetF:v}}function Iu(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function Bu(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const bi=new WeakMap,Qo=new WeakMap;function xi(r){return Qo.get(r)||1}function ea(r,e){return{constTimeNegate:wi,hasPrecomputes(t){return xi(t)!==1},unsafeLadder(t,n,s=r.ZERO){let i=t;for(;n>Zs;)n&Zi&&(s=s.add(i)),i=i.double(),n>>=Zi;return s},precomputeWindow(t,n){const{windows:s,windowSize:i}=vi(n,e),c=[];let d=t,p=d;for(let v=0;v<s;v++){p=d,c.push(p);for(let E=1;E<i;E++)p=p.add(d),c.push(p);d=p.double()}return c},wNAF(t,n,s){let i=r.ZERO,c=r.BASE;const d=vi(t,e);for(let p=0;p<d.windows;p++){const{nextN:v,offset:E,isZero:R,isNeg:z,isNegF:C,offsetF:q}=Vs(s,p,d);s=v,R?c=c.add(wi(C,n[q])):i=i.add(wi(z,n[E]))}return{p:i,f:c}},wNAFUnsafe(t,n,s,i=r.ZERO){const c=vi(t,e);for(let d=0;d<c.windows&&s!==Zs;d++){const{nextN:p,offset:v,isZero:E,isNeg:R}=Vs(s,d,c);if(s=p,!E){const z=n[v];i=i.add(R?z.negate():z)}}return i},getPrecomputes(t,n,s){let i=bi.get(n);return i||(i=this.precomputeWindow(n,t),t!==1&&bi.set(n,s(i))),i},wNAFCached(t,n,s){const i=xi(t);return this.wNAF(i,this.getPrecomputes(i,t,s),n)},wNAFCachedUnsafe(t,n,s,i){const c=xi(t);return c===1?this.unsafeLadder(t,n,i):this.wNAFUnsafe(c,this.getPrecomputes(c,t,s),n,i)},setWindowSize(t,n){Xo(n,e),Qo.set(t,n),bi.delete(t)}}}function ta(r,e,t,n){Iu(t,r),Bu(n,e);const s=t.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const c=r.ZERO,d=mu(BigInt(s));let p=1;d>12?p=d-3:d>4?p=d-2:d>0&&(p=2);const v=qn(p),E=new Array(Number(v)+1).fill(c),R=Math.floor((e.BITS-1)/p)*p;let z=c;for(let C=R;C>=0;C-=p){E.fill(c);for(let M=0;M<i;M++){const T=n[M],J=Number(T>>BigInt(C)&v);E[J]=E[J].add(t[M])}let q=c;for(let M=E.length-1,T=c;M>0;M--)T=T.add(E[M]),q=q.add(T);if(z=z.add(q),C!==0)for(let M=0;M<p;M++)z=z.double()}return z}function cs(r){return Su(r.Fp),rn(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jo(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ks(r){r.lowS!==void 0&&tr("lowS",r.lowS),r.prehash!==void 0&&tr("prehash",r.prehash)}function Mu(r){const e=cs(r);rn(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Ru extends Error{constructor(e=""){super(e)}}const Vt={Err:Ru,_tlv:{encode:(r,e)=>{const{Err:t}=Vt;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const n=e.length/2,s=un(n);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const i=n>127?un(s.length/2|128):"";return un(r)+i+s+e},decode(r,e){const{Err:t}=Vt;let n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let c=0;if(!i)c=s;else{const p=s&127;if(!p)throw new t("tlv.decode(long): indefinite length not supported");if(p>4)throw new t("tlv.decode(long): byte length is too big");const v=e.subarray(n,n+p);if(v.length!==p)throw new t("tlv.decode: length bytes not complete");if(v[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const E of v)c=c<<8|E;if(n+=p,c<128)throw new t("tlv.decode(long): not minimal encoding")}const d=e.subarray(n,n+c);if(d.length!==c)throw new t("tlv.decode: wrong value length");return{v:d,l:e.subarray(n+c)}}},_int:{encode(r){const{Err:e}=Vt;if(r<Kt)throw new e("integer: negative integers are not allowed");let t=un(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Vt;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ar(r)}},toSig(r){const{Err:e,_int:t,_tlv:n}=Vt,s=Ve("signature",r),{v:i,l:c}=n.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:d,l:p}=n.decode(2,i),{v,l:E}=n.decode(2,p);if(E.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(d),s:t.decode(v)}},hexFromSig(r){const{_tlv:e,_int:t}=Vt,n=e.encode(2,t.encode(r.r)),s=e.encode(2,t.encode(r.s)),i=n+s;return e.encode(48,i)}};function _i(r,e){return Sr(tn(r,e))}const Kt=BigInt(0),lt=BigInt(1);BigInt(2);const Ei=BigInt(3),Tu=BigInt(4);function Ou(r){const e=Mu(r),{Fp:t}=e,n=nn(e.n,e.nBitLength),s=e.toBytes||((Z,P,W)=>{const G=P.toAffine();return Ar(Uint8Array.from([4]),t.toBytes(G.x),t.toBytes(G.y))}),i=e.fromBytes||(Z=>{const P=Z.subarray(1),W=t.fromBytes(P.subarray(0,t.BYTES)),G=t.fromBytes(P.subarray(t.BYTES,2*t.BYTES));return{x:W,y:G}});function c(Z){const{a:P,b:W}=e,G=t.sqr(Z),re=t.mul(G,Z);return t.add(t.add(re,t.mul(Z,P)),W)}function d(Z,P){const W=t.sqr(P),G=c(Z);return t.eql(W,G)}if(!d(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const p=t.mul(t.pow(e.a,Ei),Tu),v=t.mul(t.sqr(e.b),BigInt(27));if(t.is0(t.add(p,v)))throw new Error("bad curve params: a or b");function E(Z){return as(Z,lt,e.n)}function R(Z){const{allowedPrivateKeyLengths:P,nByteLength:W,wrapPrivateKey:G,n:re}=e;if(P&&typeof Z!="bigint"){if(en(Z)&&(Z=Sr(Z)),typeof Z!="string"||!P.includes(Z.length))throw new Error("invalid private key");Z=Z.padStart(W*2,"0")}let ae;try{ae=typeof Z=="bigint"?Z:ar(Ve("private key",Z,W))}catch{throw new Error("invalid private key, expected hex or "+W+" bytes, got "+typeof Z)}return G&&(ae=Pe(ae,re)),Nt("private key",ae,lt,re),ae}function z(Z){if(!(Z instanceof M))throw new Error("ProjectivePoint expected")}const C=wn((Z,P)=>{const{px:W,py:G,pz:re}=Z;if(t.eql(re,t.ONE))return{x:W,y:G};const ae=Z.is0();P==null&&(P=ae?t.ONE:t.inv(re));const V=t.mul(W,P),N=t.mul(G,P),F=t.mul(re,P);if(ae)return{x:t.ZERO,y:t.ZERO};if(!t.eql(F,t.ONE))throw new Error("invZ was invalid");return{x:V,y:N}}),q=wn(Z=>{if(Z.is0()){if(e.allowInfinityPoint&&!t.is0(Z.py))return;throw new Error("bad point: ZERO")}const{x:P,y:W}=Z.toAffine();if(!t.isValid(P)||!t.isValid(W))throw new Error("bad point: x or y not FE");if(!d(P,W))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class M{constructor(P,W,G){if(P==null||!t.isValid(P))throw new Error("x required");if(W==null||!t.isValid(W)||t.is0(W))throw new Error("y required");if(G==null||!t.isValid(G))throw new Error("z required");this.px=P,this.py=W,this.pz=G,Object.freeze(this)}static fromAffine(P){const{x:W,y:G}=P||{};if(!P||!t.isValid(W)||!t.isValid(G))throw new Error("invalid affine point");if(P instanceof M)throw new Error("projective point not allowed");const re=ae=>t.eql(ae,t.ZERO);return re(W)&&re(G)?M.ZERO:new M(W,G,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){const W=us(t,P.map(G=>G.pz));return P.map((G,re)=>G.toAffine(W[re])).map(M.fromAffine)}static fromHex(P){const W=M.fromAffine(i(Ve("pointHex",P)));return W.assertValidity(),W}static fromPrivateKey(P){return M.BASE.multiply(R(P))}static msm(P,W){return ta(M,n,P,W)}_setWindowSize(P){Y.setWindowSize(this,P)}assertValidity(){q(this)}hasEvenY(){const{y:P}=this.toAffine();if(t.isOdd)return!t.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){z(P);const{px:W,py:G,pz:re}=this,{px:ae,py:V,pz:N}=P,F=t.eql(t.mul(W,N),t.mul(ae,re)),H=t.eql(t.mul(G,N),t.mul(V,re));return F&&H}negate(){return new M(this.px,t.neg(this.py),this.pz)}double(){const{a:P,b:W}=e,G=t.mul(W,Ei),{px:re,py:ae,pz:V}=this;let N=t.ZERO,F=t.ZERO,H=t.ZERO,b=t.mul(re,re),o=t.mul(ae,ae),h=t.mul(V,V),m=t.mul(re,ae);return m=t.add(m,m),H=t.mul(re,V),H=t.add(H,H),N=t.mul(P,H),F=t.mul(G,h),F=t.add(N,F),N=t.sub(o,F),F=t.add(o,F),F=t.mul(N,F),N=t.mul(m,N),H=t.mul(G,H),h=t.mul(P,h),m=t.sub(b,h),m=t.mul(P,m),m=t.add(m,H),H=t.add(b,b),b=t.add(H,b),b=t.add(b,h),b=t.mul(b,m),F=t.add(F,b),h=t.mul(ae,V),h=t.add(h,h),b=t.mul(h,m),N=t.sub(N,b),H=t.mul(h,o),H=t.add(H,H),H=t.add(H,H),new M(N,F,H)}add(P){z(P);const{px:W,py:G,pz:re}=this,{px:ae,py:V,pz:N}=P;let F=t.ZERO,H=t.ZERO,b=t.ZERO;const o=e.a,h=t.mul(e.b,Ei);let m=t.mul(W,ae),S=t.mul(G,V),x=t.mul(re,N),_=t.add(W,G),I=t.add(ae,V);_=t.mul(_,I),I=t.add(m,S),_=t.sub(_,I),I=t.add(W,re);let y=t.add(ae,N);return I=t.mul(I,y),y=t.add(m,x),I=t.sub(I,y),y=t.add(G,re),F=t.add(V,N),y=t.mul(y,F),F=t.add(S,x),y=t.sub(y,F),b=t.mul(o,I),F=t.mul(h,x),b=t.add(F,b),F=t.sub(S,b),b=t.add(S,b),H=t.mul(F,b),S=t.add(m,m),S=t.add(S,m),x=t.mul(o,x),I=t.mul(h,I),S=t.add(S,x),x=t.sub(m,x),x=t.mul(o,x),I=t.add(I,x),m=t.mul(S,I),H=t.add(H,m),m=t.mul(y,I),F=t.mul(_,F),F=t.sub(F,m),m=t.mul(_,S),b=t.mul(y,b),b=t.add(b,m),new M(F,H,b)}subtract(P){return this.add(P.negate())}is0(){return this.equals(M.ZERO)}wNAF(P){return Y.wNAFCached(this,P,M.normalizeZ)}multiplyUnsafe(P){const{endo:W,n:G}=e;Nt("scalar",P,Kt,G);const re=M.ZERO;if(P===Kt)return re;if(this.is0()||P===lt)return this;if(!W||Y.hasPrecomputes(this))return Y.wNAFCachedUnsafe(this,P,M.normalizeZ);let{k1neg:ae,k1:V,k2neg:N,k2:F}=W.splitScalar(P),H=re,b=re,o=this;for(;V>Kt||F>Kt;)V&lt&&(H=H.add(o)),F&lt&&(b=b.add(o)),o=o.double(),V>>=lt,F>>=lt;return ae&&(H=H.negate()),N&&(b=b.negate()),b=new M(t.mul(b.px,W.beta),b.py,b.pz),H.add(b)}multiply(P){const{endo:W,n:G}=e;Nt("scalar",P,lt,G);let re,ae;if(W){const{k1neg:V,k1:N,k2neg:F,k2:H}=W.splitScalar(P);let{p:b,f:o}=this.wNAF(N),{p:h,f:m}=this.wNAF(H);b=Y.constTimeNegate(V,b),h=Y.constTimeNegate(F,h),h=new M(t.mul(h.px,W.beta),h.py,h.pz),re=b.add(h),ae=o.add(m)}else{const{p:V,f:N}=this.wNAF(P);re=V,ae=N}return M.normalizeZ([re,ae])[0]}multiplyAndAddUnsafe(P,W,G){const re=M.BASE,ae=(N,F)=>F===Kt||F===lt||!N.equals(re)?N.multiplyUnsafe(F):N.multiply(F),V=ae(this,W).add(ae(P,G));return V.is0()?void 0:V}toAffine(P){return C(this,P)}isTorsionFree(){const{h:P,isTorsionFree:W}=e;if(P===lt)return!0;if(W)return W(M,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:P,clearCofactor:W}=e;return P===lt?this:W?W(M,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return tr("isCompressed",P),this.assertValidity(),s(M,this,P)}toHex(P=!0){return tr("isCompressed",P),Sr(this.toRawBytes(P))}}M.BASE=new M(e.Gx,e.Gy,t.ONE),M.ZERO=new M(t.ZERO,t.ONE,t.ZERO);const{endo:T,nBitLength:J}=e,Y=ea(M,T?Math.ceil(J/2):J);return{CURVE:e,ProjectivePoint:M,normPrivateKeyToScalar:R,weierstrassEquation:c,isWithinCurveOrder:E}}function Lu(r){const e=cs(r);return rn(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Cu(r){const e=Lu(r),{Fp:t,n,nByteLength:s,nBitLength:i}=e,c=t.BYTES+1,d=2*t.BYTES+1;function p(h){return Pe(h,n)}function v(h){return $i(h,n)}const{ProjectivePoint:E,normPrivateKeyToScalar:R,weierstrassEquation:z,isWithinCurveOrder:C}=Ou({...e,toBytes(h,m,S){const x=m.toAffine(),_=t.toBytes(x.x),I=Ar;return tr("isCompressed",S),S?I(Uint8Array.from([m.hasEvenY()?2:3]),_):I(Uint8Array.from([4]),_,t.toBytes(x.y))},fromBytes(h){const m=h.length,S=h[0],x=h.subarray(1);if(m===c&&(S===2||S===3)){const _=ar(x);if(!as(_,lt,t.ORDER))throw new Error("Point is not on curve");const I=z(_);let y;try{y=t.sqrt(I)}catch(w){const k=w instanceof Error?": "+w.message:"";throw new Error("Point is not on curve"+k)}const a=(y&lt)===lt;return(S&1)===1!==a&&(y=t.neg(y)),{x:_,y}}else if(m===d&&S===4){const _=t.fromBytes(x.subarray(0,t.BYTES)),I=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:_,y:I}}else{const _=c,I=d;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+I+", got "+m)}}});function q(h){const m=n>>lt;return h>m}function M(h){return q(h)?p(-h):h}const T=(h,m,S)=>ar(h.slice(m,S));class J{constructor(m,S,x){Nt("r",m,lt,n),Nt("s",S,lt,n),this.r=m,this.s=S,x!=null&&(this.recovery=x),Object.freeze(this)}static fromCompact(m){const S=s;return m=Ve("compactSignature",m,S*2),new J(T(m,0,S),T(m,S,2*S))}static fromDER(m){const{r:S,s:x}=Vt.toSig(Ve("DER",m));return new J(S,x)}assertValidity(){}addRecoveryBit(m){return new J(this.r,this.s,m)}recoverPublicKey(m){const{r:S,s:x,recovery:_}=this,I=re(Ve("msgHash",m));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const y=_===2||_===3?S+e.n:S;if(y>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const a=(_&1)===0?"02":"03",u=E.fromHex(a+_i(y,t.BYTES)),w=v(y),k=p(-I*w),L=p(x*w),$=E.BASE.multiplyAndAddUnsafe(u,k,L);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return q(this.s)}normalizeS(){return this.hasHighS()?new J(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return gn(this.toDERHex())}toDERHex(){return Vt.hexFromSig(this)}toCompactRawBytes(){return gn(this.toCompactHex())}toCompactHex(){const m=s;return _i(this.r,m)+_i(this.s,m)}}const Y={isValidPrivateKey(h){try{return R(h),!0}catch{return!1}},normPrivateKeyToScalar:R,randomPrivateKey:()=>{const h=Yo(e.n);return ku(e.randomBytes(h),e.n)},precompute(h=8,m=E.BASE){return m._setWindowSize(h),m.multiply(BigInt(3)),m}};function Z(h,m=!0){return E.fromPrivateKey(h).toRawBytes(m)}function P(h){if(typeof h=="bigint")return!1;if(h instanceof E)return!0;const S=Ve("key",h).length,x=t.BYTES,_=x+1,I=2*x+1;if(!(e.allowedPrivateKeyLengths||s===_))return S===_||S===I}function W(h,m,S=!0){if(P(h)===!0)throw new Error("first arg must be private key");if(P(m)===!1)throw new Error("second arg must be public key");return E.fromHex(m).multiply(R(h)).toRawBytes(S)}const G=e.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const m=ar(h),S=h.length*8-i;return S>0?m>>BigInt(S):m},re=e.bits2int_modN||function(h){return p(G(h))},ae=qn(i);function V(h){return Nt("num < 2^"+i,h,Kt,ae),tn(h,s)}function N(h,m,S=F){if(["recovered","canonical"].some(ie=>ie in S))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:_}=e;let{lowS:I,prehash:y,extraEntropy:a}=S;I==null&&(I=!0),h=Ve("msgHash",h),Ks(S),y&&(h=Ve("prehashed msgHash",x(h)));const u=re(h),w=R(m),k=[V(w),V(u)];if(a!=null&&a!==!1){const ie=a===!0?_(t.BYTES):a;k.push(Ve("extraEntropy",ie))}const L=Ar(...k),$=u;function ee(ie){const Be=G(ie);if(!C(Be))return;const ve=v(Be),we=E.BASE.multiply(Be).toAffine(),Oe=p(we.x);if(Oe===Kt)return;const be=p(ve*p($+Oe*w));if(be===Kt)return;let Ae=(we.x===Oe?0:2)|Number(we.y&lt),Pt=be;return I&&q(be)&&(Pt=M(be),Ae^=1),new J(Oe,Pt,Ae)}return{seed:L,k2sig:ee}}const F={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function b(h,m,S=F){const{seed:x,k2sig:_}=N(h,m,S),I=e;return gu(I.hash.outputLen,I.nByteLength,I.hmac)(x,_)}E.BASE._setWindowSize(8);function o(h,m,S,x=H){const _=h;m=Ve("msgHash",m),S=Ve("publicKey",S);const{lowS:I,prehash:y,format:a}=x;if(Ks(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(a!==void 0&&a!=="compact"&&a!=="der")throw new Error("format must be compact or der");const u=typeof _=="string"||en(_),w=!u&&!a&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!u&&!w)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let k,L;try{if(w&&(k=new J(_.r,_.s)),u){try{a!=="compact"&&(k=J.fromDER(_))}catch(Ae){if(!(Ae instanceof Vt.Err))throw Ae}!k&&a!=="der"&&(k=J.fromCompact(_))}L=E.fromHex(S)}catch{return!1}if(!k||I&&k.hasHighS())return!1;y&&(m=e.hash(m));const{r:$,s:ee}=k,ie=re(m),Be=v(ee),ve=p(ie*Be),we=p($*Be),Oe=E.BASE.multiplyAndAddUnsafe(L,ve,we)?.toAffine();return Oe?p(Oe.x)===$:!1}return{CURVE:e,getPublicKey:Z,getSharedSecret:W,sign:b,verify:o,ProjectivePoint:E,Signature:J,utils:Y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nu(r){return{hash:r,hmac:(e,...t)=>Zo(r,e,lu(...t)),randomBytes:Do}}function Uu(r,e){const t=n=>Cu({...r,...Nu(n)});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ra=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ws=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fu=BigInt(0),Pu=BigInt(1),Vi=BigInt(2),Hs=(r,e)=>(r+e/Vi)/e;function zu(r){const e=ra,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),c=BigInt(23),d=BigInt(44),p=BigInt(88),v=r*r*r%e,E=v*v*r%e,R=qe(E,t,e)*E%e,z=qe(R,t,e)*E%e,C=qe(z,Vi,e)*v%e,q=qe(C,s,e)*C%e,M=qe(q,i,e)*q%e,T=qe(M,d,e)*M%e,J=qe(T,p,e)*T%e,Y=qe(J,d,e)*M%e,Z=qe(Y,t,e)*E%e,P=qe(Z,c,e)*q%e,W=qe(P,n,e)*v%e,G=qe(W,Vi,e);if(!Ki.eql(Ki.sqr(G),r))throw new Error("Cannot find square root");return G}const Ki=nn(ra,void 0,void 0,{sqrt:zu}),Du=Uu({a:Fu,b:BigInt(7),Fp:Ki,n:Ws,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=Ws,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Pu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,c=BigInt("0x100000000000000000000000000000000"),d=Hs(i*r,e),p=Hs(-n*r,e);let v=Pe(r-d*t-p*s,e),E=Pe(-d*n-p*i,e);const R=v>c,z=E>c;if(R&&(v=e-v),z&&(E=e-E),v>c||E>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:R,k1:v,k2neg:z,k2:E}}}},du);let Or=class extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}};class ju extends Or{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}let qu=class extends Or{name="AddMiniApp.RejectedByUser";constructor(){super("Add miniapp rejected by user")}},na=class extends Or{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}};class $u extends Or{name="SignManifest.RejectedByUser";constructor(){super("Sign manifest rejected by user")}}class Zu extends Or{name="SignManifest.InvalidDomain";constructor(){super("Invalid domain provided")}}class Vu extends Or{name="SignManifest.GenericError";constructor(e="Manifest signing failed"){super(e)}}var Ie;(function(r){r.assertEqual=s=>{};function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{const i={};for(const c of s)i[c]=c;return i},r.getValidEnumValues=s=>{const i=r.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),c={};for(const d of i)c[d]=s[d];return r.objectValues(c)},r.objectValues=s=>r.objectKeys(s).map(function(i){return s[i]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&i.push(c);return i},r.find=(s,i)=>{for(const c of s)if(i(c))return c},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ie||(Ie={}));var Js;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Js||(Js={}));const ue=Ie.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xt=r=>{switch(typeof r){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return Number.isNaN(r)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(r)?ue.array:r===null?ue.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?ue.promise:typeof Map<"u"&&r instanceof Map?ue.map:typeof Set<"u"&&r instanceof Set?ue.set:typeof Date<"u"&&r instanceof Date?ue.date:ue.object;default:return ue.unknown}},Q=Ie.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Gt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const c of i.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)n._errors.push(t(c));else{let d=n,p=0;for(;p<c.path.length;){const v=c.path[p];p===c.path.length-1?(d[v]=d[v]||{_errors:[]},d[v]._errors.push(t(c))):d[v]=d[v]||{_errors:[]},d=d[v],p++}}};return s(this),n}static assert(e){if(!(e instanceof Gt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ie.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];t[i]=t[i]||[],t[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Gt.create=r=>new Gt(r);const Wi=(r,e)=>{let t;switch(r.code){case Q.invalid_type:r.received===ue.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ie.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ie.joinValues(r.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ie.joinValues(r.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${Ie.joinValues(r.options)}, received '${r.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ie.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Q.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Q.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ie.assertNever(r)}return{message:t}};let Ku=Wi;function Wu(){return Ku}const Hu=r=>{const{data:e,path:t,errorMaps:n,issueData:s}=r,i=[...t,...s.path||[]],c={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let d="";const p=n.filter(v=>!!v).slice().reverse();for(const v of p)d=v(c,{data:e,defaultError:d}).message;return{...s,path:i,message:d}};function ne(r,e){const t=Wu(),n=Hu({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Wi?void 0:Wi].filter(s=>!!s)});r.common.issues.push(n)}class Ot{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if(s.status==="aborted")return de;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const s of t){const i=await s.key,c=await s.value;n.push({key:i,value:c})}return Ot.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:i,value:c}=s;if(i.status==="aborted"||c.status==="aborted")return de;i.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(n[i.value]=c.value)}return{status:e.value,value:n}}}const de=Object.freeze({status:"aborted"}),Fr=r=>({status:"dirty",value:r}),Lt=r=>({status:"valid",value:r}),Gs=r=>r.status==="aborted",Ys=r=>r.status==="dirty",kr=r=>r.status==="valid",vn=r=>typeof Promise<"u"&&r instanceof Promise;var ce;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(ce||(ce={}));class nr{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xs=(r,e)=>{if(kr(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Gt(r.common.issues);return this._error=t,this._error}}};function _e(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,d)=>{const{message:p}=r;return c.code==="invalid_enum_value"?{message:p??d.defaultError}:typeof d.data>"u"?{message:p??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:p??t??d.defaultError}},description:s}}class ke{get description(){return this._def.description}_getType(e){return Xt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ot,ctx:{common:e.parent.common,data:e.data,parsedType:Xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(vn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Xs(n,s)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return kr(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>kr(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(vn(s)?s:Promise.resolve(s));return Xs(n,i)}refine(e,t){const n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const c=e(s),d=()=>i.addIssue({code:Q.custom,...n(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new lr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Jt.create(this,this._def)}nullable(){return dr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dt.create(this)}promise(){return Sn.create(this,this._def)}or(e){return xn.create([this,e],this._def)}and(e){return _n.create(this,e,this._def)}transform(e){return new lr({..._e(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new An({..._e(this._def),innerType:this,defaultValue:t,typeName:pe.ZodDefault})}brand(){return new aa({typeName:pe.ZodBranded,type:this,..._e(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new kn({..._e(this._def),innerType:this,catchValue:t,typeName:pe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ls.create(this,e)}readonly(){return In.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ju=/^c[^\s-]{8,}$/i,Gu=/^[0-9a-z]+$/,Yu=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xu=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qu=/^[a-z0-9_-]{21}$/i,ec=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tc=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rc=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nc="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Si;const ic=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ac=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uc=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cc=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ia="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fc=new RegExp(`^${ia}$`);function sa(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function lc(r){return new RegExp(`^${sa(r)}$`)}function dc(r){let e=`${ia}T${sa(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function hc(r,e){return!!((e==="v4"||!e)&&ic.test(r)||(e==="v6"||!e)&&oc.test(r))}function pc(r,e){if(!ec.test(r))return!1;try{const[t]=r.split(".");if(!t)return!1;const n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function mc(r,e){return!!((e==="v4"||!e)&&sc.test(r)||(e==="v6"||!e)&&ac.test(r))}class Qt extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ue.string){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:ue.string,received:i.parsedType}),de}const n=new Ot;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const c=e.data.length>i.value,d=e.data.length<i.value;(c||d)&&(s=this._getOrReturnCtx(e,s),c?ne(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):d&&ne(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")rc.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Si||(Si=new RegExp(nc,"u")),Si.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Xu.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Qu.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ju.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Gu.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Yu.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:Q.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:Q.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?dc(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?fc.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?lc(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?tc.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"duration",code:Q.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?hc(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:Q.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?pc(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?mc(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?uc.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64",code:Q.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?cc.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),n.dirty()):Ie.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:Q.invalid_string,...ce.errToObj(n)})}_addCheck(e){return new Qt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ce.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ce.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...ce.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ce.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ce.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ce.errToObj(t)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new Qt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Qt.create=r=>new Qt({checks:[],typeName:pe.ZodString,coerce:r?.coerce??!1,..._e(r)});function gc(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,i=Number.parseInt(r.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return i%c/10**s}class Ir extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ue.number){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:ue.number,received:i.parsedType}),de}let n;const s=new Ot;for(const i of this._def.checks)i.kind==="int"?Ie.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?gc(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.not_finite,message:i.message}),s.dirty()):Ie.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ce.toString(t))}setLimit(e,t,n,s){return new Ir({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new Ir({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ie.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ir.create=r=>new Ir({checks:[],typeName:pe.ZodNumber,coerce:r?.coerce||!1,..._e(r)});class zr extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ue.bigint)return this._getInvalidInput(e);let n;const s=new Ot;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ie.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ne(t,{code:Q.invalid_type,expected:ue.bigint,received:t.parsedType}),de}gte(e,t){return this.setLimit("min",e,!0,ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ce.toString(t))}setLimit(e,t,n,s){return new zr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new zr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}zr.create=r=>new zr({checks:[],typeName:pe.ZodBigInt,coerce:r?.coerce??!1,..._e(r)});class Hi extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ue.boolean){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.boolean,received:n.parsedType}),de}return Lt(e.data)}}Hi.create=r=>new Hi({typeName:pe.ZodBoolean,coerce:r?.coerce||!1,..._e(r)});class bn extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ue.date){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:ue.date,received:i.parsedType}),de}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_date}),de}const n=new Ot;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ie.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}bn.create=r=>new bn({checks:[],coerce:r?.coerce||!1,typeName:pe.ZodDate,..._e(r)});class Qs extends ke{_parse(e){if(this._getType(e)!==ue.symbol){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.symbol,received:n.parsedType}),de}return Lt(e.data)}}Qs.create=r=>new Qs({typeName:pe.ZodSymbol,..._e(r)});class Ji extends ke{_parse(e){if(this._getType(e)!==ue.undefined){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.undefined,received:n.parsedType}),de}return Lt(e.data)}}Ji.create=r=>new Ji({typeName:pe.ZodUndefined,..._e(r)});class Gi extends ke{_parse(e){if(this._getType(e)!==ue.null){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.null,received:n.parsedType}),de}return Lt(e.data)}}Gi.create=r=>new Gi({typeName:pe.ZodNull,..._e(r)});class eo extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Lt(e.data)}}eo.create=r=>new eo({typeName:pe.ZodAny,..._e(r)});class to extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Lt(e.data)}}to.create=r=>new to({typeName:pe.ZodUnknown,..._e(r)});class ir extends ke{_parse(e){const t=this._getOrReturnCtx(e);return ne(t,{code:Q.invalid_type,expected:ue.never,received:t.parsedType}),de}}ir.create=r=>new ir({typeName:pe.ZodNever,..._e(r)});class ro extends ke{_parse(e){if(this._getType(e)!==ue.undefined){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.void,received:n.parsedType}),de}return Lt(e.data)}}ro.create=r=>new ro({typeName:pe.ZodVoid,..._e(r)});class Dt extends ke{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==ue.array)return ne(t,{code:Q.invalid_type,expected:ue.array,received:t.parsedType}),de;if(s.exactLength!==null){const c=t.data.length>s.exactLength.value,d=t.data.length<s.exactLength.value;(c||d)&&(ne(t,{code:c?Q.too_big:Q.too_small,minimum:d?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(ne(t,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(ne(t,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((c,d)=>s.type._parseAsync(new nr(t,c,t.path,d)))).then(c=>Ot.mergeArray(n,c));const i=[...t.data].map((c,d)=>s.type._parseSync(new nr(t,c,t.path,d)));return Ot.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new Dt({...this._def,minLength:{value:e,message:ce.toString(t)}})}max(e,t){return new Dt({...this._def,maxLength:{value:e,message:ce.toString(t)}})}length(e,t){return new Dt({...this._def,exactLength:{value:e,message:ce.toString(t)}})}nonempty(e){return this.min(1,e)}}Dt.create=(r,e)=>new Dt({type:r,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,..._e(e)});function vr(r){if(r instanceof ct){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=Jt.create(vr(n))}return new ct({...r._def,shape:()=>e})}else return r instanceof Dt?new Dt({...r._def,type:vr(r.element)}):r instanceof Jt?Jt.create(vr(r.unwrap())):r instanceof dr?dr.create(vr(r.unwrap())):r instanceof cr?cr.create(r.items.map(e=>vr(e))):r}class ct extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ie.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ue.object){const v=this._getOrReturnCtx(e);return ne(v,{code:Q.invalid_type,expected:ue.object,received:v.parsedType}),de}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof ir&&this._def.unknownKeys==="strip"))for(const v in s.data)c.includes(v)||d.push(v);const p=[];for(const v of c){const E=i[v],R=s.data[v];p.push({key:{status:"valid",value:v},value:E._parse(new nr(s,R,s.path,v)),alwaysSet:v in s.data})}if(this._def.catchall instanceof ir){const v=this._def.unknownKeys;if(v==="passthrough")for(const E of d)p.push({key:{status:"valid",value:E},value:{status:"valid",value:s.data[E]}});else if(v==="strict")d.length>0&&(ne(s,{code:Q.unrecognized_keys,keys:d}),n.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const v=this._def.catchall;for(const E of d){const R=s.data[E];p.push({key:{status:"valid",value:E},value:v._parse(new nr(s,R,s.path,E)),alwaysSet:E in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const v=[];for(const E of p){const R=await E.key,z=await E.value;v.push({key:R,value:z,alwaysSet:E.alwaysSet})}return v}).then(v=>Ot.mergeObjectSync(n,v)):Ot.mergeObjectSync(n,p)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{const s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:ce.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const t={};for(const n of Ie.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new ct({...this._def,shape:()=>t})}omit(e){const t={};for(const n of Ie.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new ct({...this._def,shape:()=>t})}deepPartial(){return vr(this)}partial(e){const t={};for(const n of Ie.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}return new ct({...this._def,shape:()=>t})}required(e){const t={};for(const n of Ie.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Jt;)i=i._def.innerType;t[n]=i}return new ct({...this._def,shape:()=>t})}keyof(){return oa(Ie.objectKeys(this.shape))}}ct.create=(r,e)=>new ct({shape:()=>r,unknownKeys:"strip",catchall:ir.create(),typeName:pe.ZodObject,..._e(e)});ct.strictCreate=(r,e)=>new ct({shape:()=>r,unknownKeys:"strict",catchall:ir.create(),typeName:pe.ZodObject,..._e(e)});ct.lazycreate=(r,e)=>new ct({shape:r,unknownKeys:"strip",catchall:ir.create(),typeName:pe.ZodObject,..._e(e)});class xn extends ke{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function s(i){for(const d of i)if(d.result.status==="valid")return d.result;for(const d of i)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const c=i.map(d=>new Gt(d.ctx.common.issues));return ne(t,{code:Q.invalid_union,unionErrors:c}),de}if(t.common.async)return Promise.all(n.map(async i=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(s);{let i;const c=[];for(const p of n){const v={...t,common:{...t.common,issues:[]},parent:null},E=p._parseSync({data:t.data,path:t.path,parent:v});if(E.status==="valid")return E;E.status==="dirty"&&!i&&(i={result:E,ctx:v}),v.common.issues.length&&c.push(v.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const d=c.map(p=>new Gt(p));return ne(t,{code:Q.invalid_union,unionErrors:d}),de}}get options(){return this._def.options}}xn.create=(r,e)=>new xn({options:r,typeName:pe.ZodUnion,..._e(e)});const Zt=r=>r instanceof Xi?Zt(r.schema):r instanceof lr?Zt(r.innerType()):r instanceof En?[r.value]:r instanceof fr?r.options:r instanceof Qi?Ie.objectValues(r.enum):r instanceof An?Zt(r._def.innerType):r instanceof Ji?[void 0]:r instanceof Gi?[null]:r instanceof Jt?[void 0,...Zt(r.unwrap())]:r instanceof dr?[null,...Zt(r.unwrap())]:r instanceof aa||r instanceof In?Zt(r.unwrap()):r instanceof kn?Zt(r._def.innerType):[];class fs extends ke{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ue.object)return ne(t,{code:Q.invalid_type,expected:ue.object,received:t.parsedType}),de;const n=this.discriminator,s=t.data[n],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(ne(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),de)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const i of t){const c=Zt(i.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(s.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);s.set(d,i)}}return new fs({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,..._e(n)})}}function Yi(r,e){const t=Xt(r),n=Xt(e);if(r===e)return{valid:!0,data:r};if(t===ue.object&&n===ue.object){const s=Ie.objectKeys(e),i=Ie.objectKeys(r).filter(d=>s.indexOf(d)!==-1),c={...r,...e};for(const d of i){const p=Yi(r[d],e[d]);if(!p.valid)return{valid:!1};c[d]=p.data}return{valid:!0,data:c}}else if(t===ue.array&&n===ue.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<r.length;i++){const c=r[i],d=e[i],p=Yi(c,d);if(!p.valid)return{valid:!1};s.push(p.data)}return{valid:!0,data:s}}else return t===ue.date&&n===ue.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class _n extends ke{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(i,c)=>{if(Gs(i)||Gs(c))return de;const d=Yi(i.value,c.value);return d.valid?((Ys(i)||Ys(c))&&t.dirty(),{status:t.value,value:d.data}):(ne(n,{code:Q.invalid_intersection_types}),de)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,c])=>s(i,c)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_n.create=(r,e,t)=>new _n({left:r,right:e,typeName:pe.ZodIntersection,..._e(t)});class cr extends ke{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.array)return ne(n,{code:Q.invalid_type,expected:ue.array,received:n.parsedType}),de;if(n.data.length<this._def.items.length)return ne(n,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map((c,d)=>{const p=this._def.items[d]||this._def.rest;return p?p._parse(new nr(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(i).then(c=>Ot.mergeArray(t,c)):Ot.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new cr({...this._def,rest:e})}}cr.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cr({items:r,typeName:pe.ZodTuple,rest:null,..._e(e)})};class no extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.map)return ne(n,{code:Q.invalid_type,expected:ue.map,received:n.parsedType}),de;const s=this._def.keyType,i=this._def.valueType,c=[...n.data.entries()].map(([d,p],v)=>({key:s._parse(new nr(n,d,n.path,[v,"key"])),value:i._parse(new nr(n,p,n.path,[v,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const p of c){const v=await p.key,E=await p.value;if(v.status==="aborted"||E.status==="aborted")return de;(v.status==="dirty"||E.status==="dirty")&&t.dirty(),d.set(v.value,E.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const p of c){const v=p.key,E=p.value;if(v.status==="aborted"||E.status==="aborted")return de;(v.status==="dirty"||E.status==="dirty")&&t.dirty(),d.set(v.value,E.value)}return{status:t.value,value:d}}}}no.create=(r,e,t)=>new no({valueType:e,keyType:r,typeName:pe.ZodMap,..._e(t)});class Dr extends ke{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.set)return ne(n,{code:Q.invalid_type,expected:ue.set,received:n.parsedType}),de;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ne(n,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ne(n,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function c(p){const v=new Set;for(const E of p){if(E.status==="aborted")return de;E.status==="dirty"&&t.dirty(),v.add(E.value)}return{status:t.value,value:v}}const d=[...n.data.values()].map((p,v)=>i._parse(new nr(n,p,n.path,v)));return n.common.async?Promise.all(d).then(p=>c(p)):c(d)}min(e,t){return new Dr({...this._def,minSize:{value:e,message:ce.toString(t)}})}max(e,t){return new Dr({...this._def,maxSize:{value:e,message:ce.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Dr.create=(r,e)=>new Dr({valueType:r,minSize:null,maxSize:null,typeName:pe.ZodSet,..._e(e)});class Xi extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Xi.create=(r,e)=>new Xi({getter:r,typeName:pe.ZodLazy,..._e(e)});class En extends ke{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ne(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:e.data}}get value(){return this._def.value}}En.create=(r,e)=>new En({value:r,typeName:pe.ZodLiteral,..._e(e)});function oa(r,e){return new fr({values:r,typeName:pe.ZodEnum,..._e(e)})}class fr extends ke{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return ne(t,{expected:Ie.joinValues(n),received:t.parsedType,code:Q.invalid_type}),de}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ne(t,{received:t.data,code:Q.invalid_enum_value,options:n}),de}return Lt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return fr.create(e,{...this._def,...t})}exclude(e,t=this._def){return fr.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}fr.create=oa;class Qi extends ke{_parse(e){const t=Ie.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ue.string&&n.parsedType!==ue.number){const s=Ie.objectValues(t);return ne(n,{expected:Ie.joinValues(s),received:n.parsedType,code:Q.invalid_type}),de}if(this._cache||(this._cache=new Set(Ie.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ie.objectValues(t);return ne(n,{received:n.data,code:Q.invalid_enum_value,options:s}),de}return Lt(e.data)}get enum(){return this._def.values}}Qi.create=(r,e)=>new Qi({values:r,typeName:pe.ZodNativeEnum,..._e(e)});class Sn extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ue.promise&&t.common.async===!1)return ne(t,{code:Q.invalid_type,expected:ue.promise,received:t.parsedType}),de;const n=t.parsedType===ue.promise?t.data:Promise.resolve(t.data);return Lt(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Sn.create=(r,e)=>new Sn({type:r,typeName:pe.ZodPromise,..._e(e)});class lr extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:c=>{ne(n,c),c.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const c=s.transform(n.data,i);if(n.common.async)return Promise.resolve(c).then(async d=>{if(t.value==="aborted")return de;const p=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return p.status==="aborted"?de:p.status==="dirty"||t.value==="dirty"?Fr(p.value):p});{if(t.value==="aborted")return de;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?de:d.status==="dirty"||t.value==="dirty"?Fr(d.value):d}}if(s.type==="refinement"){const c=d=>{const p=s.refinement(d,i);if(n.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?de:(d.status==="dirty"&&t.dirty(),c(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?de:(d.status==="dirty"&&t.dirty(),c(d.value).then(()=>({status:t.value,value:d.value}))))}if(s.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!kr(c))return de;const d=s.transform(c.value,i);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>kr(c)?Promise.resolve(s.transform(c.value,i)).then(d=>({status:t.value,value:d})):de);Ie.assertNever(s)}}lr.create=(r,e,t)=>new lr({schema:r,typeName:pe.ZodEffects,effect:e,..._e(t)});lr.createWithPreprocess=(r,e,t)=>new lr({schema:e,effect:{type:"preprocess",transform:r},typeName:pe.ZodEffects,..._e(t)});class Jt extends ke{_parse(e){return this._getType(e)===ue.undefined?Lt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jt.create=(r,e)=>new Jt({innerType:r,typeName:pe.ZodOptional,..._e(e)});class dr extends ke{_parse(e){return this._getType(e)===ue.null?Lt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dr.create=(r,e)=>new dr({innerType:r,typeName:pe.ZodNullable,..._e(e)});class An extends ke{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}An.create=(r,e)=>new An({innerType:r,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class kn extends ke{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vn(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}kn.create=(r,e)=>new kn({innerType:r,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class io extends ke{_parse(e){if(this._getType(e)!==ue.nan){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.nan,received:n.parsedType}),de}return{status:"valid",value:e.data}}}io.create=r=>new io({typeName:pe.ZodNaN,..._e(r)});class aa extends ke{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ls extends ke{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?de:i.status==="dirty"?(t.dirty(),Fr(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?de:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new ls({in:e,out:t,typeName:pe.ZodPipeline})}}class In extends ke{_parse(e){const t=this._def.innerType._parse(e),n=s=>(kr(s)&&(s.value=Object.freeze(s.value)),s);return vn(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}}In.create=(r,e)=>new In({innerType:r,typeName:pe.ZodReadonly,..._e(e)});var pe;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(pe||(pe={}));const $e=Qt.create,ua=Ir.create,yc=Hi.create;ir.create;const ur=Dt.create,pt=ct.create,Bn=xn.create,ca=fs.create;_n.create;cr.create;const bt=En.create,ds=fr.create;Sn.create;Jt.create;dr.create;const wc=/[@#$%^&*+=/\\|~«»]/,vc=/(!{2,}|\?{2,}|-{2,})/,bc=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,Lr=({max:r,noSpaces:e}={})=>(e?$e().max(r??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):$e().max(r??Number.POSITIVE_INFINITY)).refine(n=>!bc.test(n),{message:"Emojis and symbols are not allowed"}).refine(n=>!wc.test(n),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, «, ») are not allowed"}).refine(n=>!vc.test(n),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),_t=$e().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(r=>!r.includes(" "),{message:"URL must not contain spaces"}).refine(r=>{try{const e=new URL(r).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),hs=$e().max(32),fa=$e().max(32),xc=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,_c=$e().regex(xc,{message:"Invalid CAIP-19 asset ID"}),ps=$e().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),Ec=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Sc=$e().max(1024).regex(Ec,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(r=>!r.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(r=>!r.includes("/"),{message:"Domain must not include path separators"}).refine(r=>!r.includes("@"),{message:"Domain must not include @ symbol"}).refine(r=>!r.includes(":"),{message:"Domain must not include port numbers"}),Ac=Bn([bt("1:1"),bt("3:2")]),kc=pt({header:$e(),payload:$e(),signature:$e()});pt({fid:ua(),type:bt("app_key"),key:$e().startsWith("0x")});const Ic=pt({type:bt("launch_frame"),name:hs,url:_t.optional(),splashImageUrl:_t.optional(),splashBackgroundColor:ps.optional()}),Bc=pt({type:bt("launch_miniapp"),name:hs,url:_t.optional(),splashImageUrl:_t.optional(),splashBackgroundColor:ps.optional()}),Mc=pt({type:bt("view_token"),token:_c}),Rc=ca("type",[Bc,Mc,Ic]),Tc=pt({title:fa,action:Rc});pt({version:Bn([$e(),ua()]).transform(r=>String(r)).pipe(Bn([bt("next"),bt("1")])),imageUrl:_t,aspectRatio:Ac.optional(),button:Tc});const la=pt({url:$e(),token:$e()});pt({notificationId:$e().max(128),title:$e().max(32),body:$e().max(128),targetUrl:_t,tokens:$e().array().max(100)});pt({result:pt({successfulTokens:ur($e()),invalidTokens:ur($e()),rateLimitedTokens:ur($e())})});const Oc=pt({event:bt("miniapp_added"),notificationDetails:la.optional()}),Lc=pt({event:bt("miniapp_removed")}),Cc=pt({event:bt("notifications_enabled"),notificationDetails:la.required()}),Nc=pt({event:bt("notifications_disabled")});ca("event",[Oc,Lc,Cc,Nc]);const Uc=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],Fc=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],Pc=ds(Fc),zc=Bn([bt("0.0.0"),bt("0.0.1"),bt("1"),bt("next")]),Dc=Lr({max:30}),jc=Lr({max:170}),qc=ur(_t).max(3),$c=ur(Lr({max:20,noSpaces:!0})).max(5),Zc=Lr({max:30}),Vc=Lr({max:30}),Kc=Lr({max:100}),Wc=yc(),Hc=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function da(r){const e=new Set(r);return Array.from(e)}const Jc=ur(ds(Hc)).transform(da),Gc=ur(ds(Uc)).transform(da),so=pt({version:zc,name:hs,iconUrl:_t,homeUrl:_t,imageUrl:_t.optional(),buttonTitle:fa.optional(),splashImageUrl:_t.optional(),splashBackgroundColor:ps.optional(),webhookUrl:_t.optional(),subtitle:Dc.optional(),description:jc.optional(),screenshotUrls:qc.optional(),primaryCategory:Pc.optional(),tags:$c.optional(),heroImageUrl:_t.optional(),tagline:Zc.optional(),ogTitle:Vc.optional(),ogDescription:Kc.optional(),ogImageUrl:_t.optional(),noindex:Wc.optional(),requiredChains:Jc.optional(),requiredCapabilities:Gc.optional(),castShareUrl:_t.optional(),canonicalDomain:Sc.optional()}).refine(r=>{if(r.castShareUrl===void 0)return!0;try{const e=new URL(r.homeUrl).hostname,t=new URL(r.castShareUrl).hostname;return e===t}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});pt({accountAssociation:kc,miniapp:so.optional(),frame:so.optional()}).refine(r=>r.frame&&r.miniapp?JSON.stringify(r.frame)===JSON.stringify(r.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(r=>({...r,frame:r.frame??r.miniapp}));var Ai={},Ur={},oo;function Yc(){if(oo)return Ur;oo=1,Ur.byteLength=d,Ur.toByteArray=v,Ur.fromByteArray=z;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)r[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function c(C){var q=C.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=C.indexOf("=");M===-1&&(M=q);var T=M===q?0:4-M%4;return[M,T]}function d(C){var q=c(C),M=q[0],T=q[1];return(M+T)*3/4-T}function p(C,q,M){return(q+M)*3/4-M}function v(C){var q,M=c(C),T=M[0],J=M[1],Y=new t(p(C,T,J)),Z=0,P=J>0?T-4:T,W;for(W=0;W<P;W+=4)q=e[C.charCodeAt(W)]<<18|e[C.charCodeAt(W+1)]<<12|e[C.charCodeAt(W+2)]<<6|e[C.charCodeAt(W+3)],Y[Z++]=q>>16&255,Y[Z++]=q>>8&255,Y[Z++]=q&255;return J===2&&(q=e[C.charCodeAt(W)]<<2|e[C.charCodeAt(W+1)]>>4,Y[Z++]=q&255),J===1&&(q=e[C.charCodeAt(W)]<<10|e[C.charCodeAt(W+1)]<<4|e[C.charCodeAt(W+2)]>>2,Y[Z++]=q>>8&255,Y[Z++]=q&255),Y}function E(C){return r[C>>18&63]+r[C>>12&63]+r[C>>6&63]+r[C&63]}function R(C,q,M){for(var T,J=[],Y=q;Y<M;Y+=3)T=(C[Y]<<16&16711680)+(C[Y+1]<<8&65280)+(C[Y+2]&255),J.push(E(T));return J.join("")}function z(C){for(var q,M=C.length,T=M%3,J=[],Y=16383,Z=0,P=M-T;Z<P;Z+=Y)J.push(R(C,Z,Z+Y>P?P:Z+Y));return T===1?(q=C[M-1],J.push(r[q>>2]+r[q<<4&63]+"==")):T===2&&(q=(C[M-2]<<8)+C[M-1],J.push(r[q>>10]+r[q>>4&63]+r[q<<2&63]+"=")),J.join("")}return Ur}var cn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ao;function Xc(){return ao||(ao=1,cn.read=function(r,e,t,n,s){var i,c,d=s*8-n-1,p=(1<<d)-1,v=p>>1,E=-7,R=t?s-1:0,z=t?-1:1,C=r[e+R];for(R+=z,i=C&(1<<-E)-1,C>>=-E,E+=d;E>0;i=i*256+r[e+R],R+=z,E-=8);for(c=i&(1<<-E)-1,i>>=-E,E+=n;E>0;c=c*256+r[e+R],R+=z,E-=8);if(i===0)i=1-v;else{if(i===p)return c?NaN:(C?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-v}return(C?-1:1)*c*Math.pow(2,i-n)},cn.write=function(r,e,t,n,s,i){var c,d,p,v=i*8-s-1,E=(1<<v)-1,R=E>>1,z=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:i-1,q=n?1:-1,M=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=E):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+R>=1?e+=z/p:e+=z*Math.pow(2,1-R),e*p>=2&&(c++,p/=2),c+R>=E?(d=0,c=E):c+R>=1?(d=(e*p-1)*Math.pow(2,s),c=c+R):(d=e*Math.pow(2,R-1)*Math.pow(2,s),c=0));s>=8;r[t+C]=d&255,C+=q,d/=256,s-=8);for(c=c<<s|d,v+=s;v>0;r[t+C]=c&255,C+=q,c/=256,v-=8);r[t+C-q]|=M*128}),cn}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var uo;function ms(){return uo||(uo=1,(function(r){const e=Yc(),t=Xc(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=d,r.SlowBuffer=Y,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,d.TYPED_ARRAY_SUPPORT=i(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(g,f),g.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function c(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const f=new Uint8Array(g);return Object.setPrototypeOf(f,d.prototype),f}function d(g,f,l){if(typeof g=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(g)}return p(g,f,l)}d.poolSize=8192;function p(g,f,l){if(typeof g=="string")return z(g,f);if(ArrayBuffer.isView(g))return q(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Bt(g,ArrayBuffer)||g&&Bt(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Bt(g,SharedArrayBuffer)||g&&Bt(g.buffer,SharedArrayBuffer)))return M(g,f,l);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const A=g.valueOf&&g.valueOf();if(A!=null&&A!==g)return d.from(A,f,l);const O=T(g);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return d.from(g[Symbol.toPrimitive]("string"),f,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}d.from=function(g,f,l){return p(g,f,l)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function v(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function E(g,f,l){return v(g),g<=0?c(g):f!==void 0?typeof l=="string"?c(g).fill(f,l):c(g).fill(f):c(g)}d.alloc=function(g,f,l){return E(g,f,l)};function R(g){return v(g),c(g<0?0:J(g)|0)}d.allocUnsafe=function(g){return R(g)},d.allocUnsafeSlow=function(g){return R(g)};function z(g,f){if((typeof f!="string"||f==="")&&(f="utf8"),!d.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const l=Z(g,f)|0;let A=c(l);const O=A.write(g,f);return O!==l&&(A=A.slice(0,O)),A}function C(g){const f=g.length<0?0:J(g.length)|0,l=c(f);for(let A=0;A<f;A+=1)l[A]=g[A]&255;return l}function q(g){if(Bt(g,Uint8Array)){const f=new Uint8Array(g);return M(f.buffer,f.byteOffset,f.byteLength)}return C(g)}function M(g,f,l){if(f<0||g.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<f+(l||0))throw new RangeError('"length" is outside of buffer bounds');let A;return f===void 0&&l===void 0?A=new Uint8Array(g):l===void 0?A=new Uint8Array(g,f):A=new Uint8Array(g,f,l),Object.setPrototypeOf(A,d.prototype),A}function T(g){if(d.isBuffer(g)){const f=J(g.length)|0,l=c(f);return l.length===0||g.copy(l,0,0,f),l}if(g.length!==void 0)return typeof g.length!="number"||Fe(g.length)?c(0):C(g);if(g.type==="Buffer"&&Array.isArray(g.data))return C(g.data)}function J(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function Y(g){return+g!=g&&(g=0),d.alloc(+g)}d.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==d.prototype},d.compare=function(f,l){if(Bt(f,Uint8Array)&&(f=d.from(f,f.offset,f.byteLength)),Bt(l,Uint8Array)&&(l=d.from(l,l.offset,l.byteLength)),!d.isBuffer(f)||!d.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===l)return 0;let A=f.length,O=l.length;for(let U=0,K=Math.min(A,O);U<K;++U)if(f[U]!==l[U]){A=f[U],O=l[U];break}return A<O?-1:O<A?1:0},d.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(f,l){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return d.alloc(0);let A;if(l===void 0)for(l=0,A=0;A<f.length;++A)l+=f[A].length;const O=d.allocUnsafe(l);let U=0;for(A=0;A<f.length;++A){let K=f[A];if(Bt(K,Uint8Array))U+K.length>O.length?(d.isBuffer(K)||(K=d.from(K)),K.copy(O,U)):Uint8Array.prototype.set.call(O,K,U);else if(d.isBuffer(K))K.copy(O,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=K.length}return O};function Z(g,f){if(d.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Bt(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const l=g.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&l===0)return 0;let O=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Re(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return Ce(g).length;default:if(O)return A?-1:Re(g).length;f=(""+f).toLowerCase(),O=!0}}d.byteLength=Z;function P(g,f,l){let A=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,f>>>=0,l<=f))return"";for(g||(g="utf8");;)switch(g){case"hex":return _(this,f,l);case"utf8":case"utf-8":return o(this,f,l);case"ascii":return S(this,f,l);case"latin1":case"binary":return x(this,f,l);case"base64":return b(this,f,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,f,l);default:if(A)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),A=!0}}d.prototype._isBuffer=!0;function W(g,f,l){const A=g[f];g[f]=g[l],g[l]=A}d.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<f;l+=2)W(this,l,l+1);return this},d.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<f;l+=4)W(this,l,l+3),W(this,l+1,l+2);return this},d.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<f;l+=8)W(this,l,l+7),W(this,l+1,l+6),W(this,l+2,l+5),W(this,l+3,l+4);return this},d.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?o(this,0,f):P.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(f){if(!d.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:d.compare(this,f)===0},d.prototype.inspect=function(){let f="";const l=r.INSPECT_MAX_BYTES;return f=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(f+=" ... "),"<Buffer "+f+">"},n&&(d.prototype[n]=d.prototype.inspect),d.prototype.compare=function(f,l,A,O,U){if(Bt(f,Uint8Array)&&(f=d.from(f,f.offset,f.byteLength)),!d.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(l===void 0&&(l=0),A===void 0&&(A=f?f.length:0),O===void 0&&(O=0),U===void 0&&(U=this.length),l<0||A>f.length||O<0||U>this.length)throw new RangeError("out of range index");if(O>=U&&l>=A)return 0;if(O>=U)return-1;if(l>=A)return 1;if(l>>>=0,A>>>=0,O>>>=0,U>>>=0,this===f)return 0;let K=U-O,xe=A-l;const me=Math.min(K,xe),he=this.slice(O,U),Ne=f.slice(l,A);for(let le=0;le<me;++le)if(he[le]!==Ne[le]){K=he[le],xe=Ne[le];break}return K<xe?-1:xe<K?1:0};function G(g,f,l,A,O){if(g.length===0)return-1;if(typeof l=="string"?(A=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Fe(l)&&(l=O?0:g.length-1),l<0&&(l=g.length+l),l>=g.length){if(O)return-1;l=g.length-1}else if(l<0)if(O)l=0;else return-1;if(typeof f=="string"&&(f=d.from(f,A)),d.isBuffer(f))return f.length===0?-1:re(g,f,l,A,O);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(g,f,l):Uint8Array.prototype.lastIndexOf.call(g,f,l):re(g,[f],l,A,O);throw new TypeError("val must be string, number or Buffer")}function re(g,f,l,A,O){let U=1,K=g.length,xe=f.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(g.length<2||f.length<2)return-1;U=2,K/=2,xe/=2,l/=2}function me(Ne,le){return U===1?Ne[le]:Ne.readUInt16BE(le*U)}let he;if(O){let Ne=-1;for(he=l;he<K;he++)if(me(g,he)===me(f,Ne===-1?0:he-Ne)){if(Ne===-1&&(Ne=he),he-Ne+1===xe)return Ne*U}else Ne!==-1&&(he-=he-Ne),Ne=-1}else for(l+xe>K&&(l=K-xe),he=l;he>=0;he--){let Ne=!0;for(let le=0;le<xe;le++)if(me(g,he+le)!==me(f,le)){Ne=!1;break}if(Ne)return he}return-1}d.prototype.includes=function(f,l,A){return this.indexOf(f,l,A)!==-1},d.prototype.indexOf=function(f,l,A){return G(this,f,l,A,!0)},d.prototype.lastIndexOf=function(f,l,A){return G(this,f,l,A,!1)};function ae(g,f,l,A){l=Number(l)||0;const O=g.length-l;A?(A=Number(A),A>O&&(A=O)):A=O;const U=f.length;A>U/2&&(A=U/2);let K;for(K=0;K<A;++K){const xe=parseInt(f.substr(K*2,2),16);if(Fe(xe))return K;g[l+K]=xe}return K}function V(g,f,l,A){return Te(Re(f,g.length-l),g,l,A)}function N(g,f,l,A){return Te(Ue(f),g,l,A)}function F(g,f,l,A){return Te(Ce(f),g,l,A)}function H(g,f,l,A){return Te(yr(f,g.length-l),g,l,A)}d.prototype.write=function(f,l,A,O){if(l===void 0)O="utf8",A=this.length,l=0;else if(A===void 0&&typeof l=="string")O=l,A=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(A)?(A=A>>>0,O===void 0&&(O="utf8")):(O=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-l;if((A===void 0||A>U)&&(A=U),f.length>0&&(A<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let K=!1;for(;;)switch(O){case"hex":return ae(this,f,l,A);case"utf8":case"utf-8":return V(this,f,l,A);case"ascii":case"latin1":case"binary":return N(this,f,l,A);case"base64":return F(this,f,l,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,f,l,A);default:if(K)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),K=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(g,f,l){return f===0&&l===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(f,l))}function o(g,f,l){l=Math.min(g.length,l);const A=[];let O=f;for(;O<l;){const U=g[O];let K=null,xe=U>239?4:U>223?3:U>191?2:1;if(O+xe<=l){let me,he,Ne,le;switch(xe){case 1:U<128&&(K=U);break;case 2:me=g[O+1],(me&192)===128&&(le=(U&31)<<6|me&63,le>127&&(K=le));break;case 3:me=g[O+1],he=g[O+2],(me&192)===128&&(he&192)===128&&(le=(U&15)<<12|(me&63)<<6|he&63,le>2047&&(le<55296||le>57343)&&(K=le));break;case 4:me=g[O+1],he=g[O+2],Ne=g[O+3],(me&192)===128&&(he&192)===128&&(Ne&192)===128&&(le=(U&15)<<18|(me&63)<<12|(he&63)<<6|Ne&63,le>65535&&le<1114112&&(K=le))}}K===null?(K=65533,xe=1):K>65535&&(K-=65536,A.push(K>>>10&1023|55296),K=56320|K&1023),A.push(K),O+=xe}return m(A)}const h=4096;function m(g){const f=g.length;if(f<=h)return String.fromCharCode.apply(String,g);let l="",A=0;for(;A<f;)l+=String.fromCharCode.apply(String,g.slice(A,A+=h));return l}function S(g,f,l){let A="";l=Math.min(g.length,l);for(let O=f;O<l;++O)A+=String.fromCharCode(g[O]&127);return A}function x(g,f,l){let A="";l=Math.min(g.length,l);for(let O=f;O<l;++O)A+=String.fromCharCode(g[O]);return A}function _(g,f,l){const A=g.length;(!f||f<0)&&(f=0),(!l||l<0||l>A)&&(l=A);let O="";for(let U=f;U<l;++U)O+=De[g[U]];return O}function I(g,f,l){const A=g.slice(f,l);let O="";for(let U=0;U<A.length-1;U+=2)O+=String.fromCharCode(A[U]+A[U+1]*256);return O}d.prototype.slice=function(f,l){const A=this.length;f=~~f,l=l===void 0?A:~~l,f<0?(f+=A,f<0&&(f=0)):f>A&&(f=A),l<0?(l+=A,l<0&&(l=0)):l>A&&(l=A),l<f&&(l=f);const O=this.subarray(f,l);return Object.setPrototypeOf(O,d.prototype),O};function y(g,f,l){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+f>l)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(f,l,A){f=f>>>0,l=l>>>0,A||y(f,l,this.length);let O=this[f],U=1,K=0;for(;++K<l&&(U*=256);)O+=this[f+K]*U;return O},d.prototype.readUintBE=d.prototype.readUIntBE=function(f,l,A){f=f>>>0,l=l>>>0,A||y(f,l,this.length);let O=this[f+--l],U=1;for(;l>0&&(U*=256);)O+=this[f+--l]*U;return O},d.prototype.readUint8=d.prototype.readUInt8=function(f,l){return f=f>>>0,l||y(f,1,this.length),this[f]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(f,l){return f=f>>>0,l||y(f,2,this.length),this[f]|this[f+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(f,l){return f=f>>>0,l||y(f,2,this.length),this[f]<<8|this[f+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(f,l){return f=f>>>0,l||y(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(f,l){return f=f>>>0,l||y(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},d.prototype.readBigUInt64LE=Ct(function(f){f=f>>>0,Oe(f,"offset");const l=this[f],A=this[f+7];(l===void 0||A===void 0)&&be(f,this.length-8);const O=l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,U=this[++f]+this[++f]*2**8+this[++f]*2**16+A*2**24;return BigInt(O)+(BigInt(U)<<BigInt(32))}),d.prototype.readBigUInt64BE=Ct(function(f){f=f>>>0,Oe(f,"offset");const l=this[f],A=this[f+7];(l===void 0||A===void 0)&&be(f,this.length-8);const O=l*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],U=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+A;return(BigInt(O)<<BigInt(32))+BigInt(U)}),d.prototype.readIntLE=function(f,l,A){f=f>>>0,l=l>>>0,A||y(f,l,this.length);let O=this[f],U=1,K=0;for(;++K<l&&(U*=256);)O+=this[f+K]*U;return U*=128,O>=U&&(O-=Math.pow(2,8*l)),O},d.prototype.readIntBE=function(f,l,A){f=f>>>0,l=l>>>0,A||y(f,l,this.length);let O=l,U=1,K=this[f+--O];for(;O>0&&(U*=256);)K+=this[f+--O]*U;return U*=128,K>=U&&(K-=Math.pow(2,8*l)),K},d.prototype.readInt8=function(f,l){return f=f>>>0,l||y(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},d.prototype.readInt16LE=function(f,l){f=f>>>0,l||y(f,2,this.length);const A=this[f]|this[f+1]<<8;return A&32768?A|4294901760:A},d.prototype.readInt16BE=function(f,l){f=f>>>0,l||y(f,2,this.length);const A=this[f+1]|this[f]<<8;return A&32768?A|4294901760:A},d.prototype.readInt32LE=function(f,l){return f=f>>>0,l||y(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},d.prototype.readInt32BE=function(f,l){return f=f>>>0,l||y(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},d.prototype.readBigInt64LE=Ct(function(f){f=f>>>0,Oe(f,"offset");const l=this[f],A=this[f+7];(l===void 0||A===void 0)&&be(f,this.length-8);const O=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(A<<24);return(BigInt(O)<<BigInt(32))+BigInt(l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),d.prototype.readBigInt64BE=Ct(function(f){f=f>>>0,Oe(f,"offset");const l=this[f],A=this[f+7];(l===void 0||A===void 0)&&be(f,this.length-8);const O=(l<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(O)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+A)}),d.prototype.readFloatLE=function(f,l){return f=f>>>0,l||y(f,4,this.length),t.read(this,f,!0,23,4)},d.prototype.readFloatBE=function(f,l){return f=f>>>0,l||y(f,4,this.length),t.read(this,f,!1,23,4)},d.prototype.readDoubleLE=function(f,l){return f=f>>>0,l||y(f,8,this.length),t.read(this,f,!0,52,8)},d.prototype.readDoubleBE=function(f,l){return f=f>>>0,l||y(f,8,this.length),t.read(this,f,!1,52,8)};function a(g,f,l,A,O,U){if(!d.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>O||f<U)throw new RangeError('"value" argument is out of bounds');if(l+A>g.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(f,l,A,O){if(f=+f,l=l>>>0,A=A>>>0,!O){const xe=Math.pow(2,8*A)-1;a(this,f,l,A,xe,0)}let U=1,K=0;for(this[l]=f&255;++K<A&&(U*=256);)this[l+K]=f/U&255;return l+A},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(f,l,A,O){if(f=+f,l=l>>>0,A=A>>>0,!O){const xe=Math.pow(2,8*A)-1;a(this,f,l,A,xe,0)}let U=A-1,K=1;for(this[l+U]=f&255;--U>=0&&(K*=256);)this[l+U]=f/K&255;return l+A},d.prototype.writeUint8=d.prototype.writeUInt8=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,1,255,0),this[l]=f&255,l+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,2,65535,0),this[l]=f&255,this[l+1]=f>>>8,l+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,2,65535,0),this[l]=f>>>8,this[l+1]=f&255,l+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,4,4294967295,0),this[l+3]=f>>>24,this[l+2]=f>>>16,this[l+1]=f>>>8,this[l]=f&255,l+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,4,4294967295,0),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4};function u(g,f,l,A,O){we(f,A,O,g,l,7);let U=Number(f&BigInt(4294967295));g[l++]=U,U=U>>8,g[l++]=U,U=U>>8,g[l++]=U,U=U>>8,g[l++]=U;let K=Number(f>>BigInt(32)&BigInt(4294967295));return g[l++]=K,K=K>>8,g[l++]=K,K=K>>8,g[l++]=K,K=K>>8,g[l++]=K,l}function w(g,f,l,A,O){we(f,A,O,g,l,7);let U=Number(f&BigInt(4294967295));g[l+7]=U,U=U>>8,g[l+6]=U,U=U>>8,g[l+5]=U,U=U>>8,g[l+4]=U;let K=Number(f>>BigInt(32)&BigInt(4294967295));return g[l+3]=K,K=K>>8,g[l+2]=K,K=K>>8,g[l+1]=K,K=K>>8,g[l]=K,l+8}d.prototype.writeBigUInt64LE=Ct(function(f,l=0){return u(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Ct(function(f,l=0){return w(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(f,l,A,O){if(f=+f,l=l>>>0,!O){const me=Math.pow(2,8*A-1);a(this,f,l,A,me-1,-me)}let U=0,K=1,xe=0;for(this[l]=f&255;++U<A&&(K*=256);)f<0&&xe===0&&this[l+U-1]!==0&&(xe=1),this[l+U]=(f/K>>0)-xe&255;return l+A},d.prototype.writeIntBE=function(f,l,A,O){if(f=+f,l=l>>>0,!O){const me=Math.pow(2,8*A-1);a(this,f,l,A,me-1,-me)}let U=A-1,K=1,xe=0;for(this[l+U]=f&255;--U>=0&&(K*=256);)f<0&&xe===0&&this[l+U+1]!==0&&(xe=1),this[l+U]=(f/K>>0)-xe&255;return l+A},d.prototype.writeInt8=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,1,127,-128),f<0&&(f=255+f+1),this[l]=f&255,l+1},d.prototype.writeInt16LE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,2,32767,-32768),this[l]=f&255,this[l+1]=f>>>8,l+2},d.prototype.writeInt16BE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,2,32767,-32768),this[l]=f>>>8,this[l+1]=f&255,l+2},d.prototype.writeInt32LE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,4,2147483647,-2147483648),this[l]=f&255,this[l+1]=f>>>8,this[l+2]=f>>>16,this[l+3]=f>>>24,l+4},d.prototype.writeInt32BE=function(f,l,A){return f=+f,l=l>>>0,A||a(this,f,l,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4},d.prototype.writeBigInt64LE=Ct(function(f,l=0){return u(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Ct(function(f,l=0){return w(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(g,f,l,A,O,U){if(l+A>g.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function L(g,f,l,A,O){return f=+f,l=l>>>0,O||k(g,f,l,4),t.write(g,f,l,A,23,4),l+4}d.prototype.writeFloatLE=function(f,l,A){return L(this,f,l,!0,A)},d.prototype.writeFloatBE=function(f,l,A){return L(this,f,l,!1,A)};function $(g,f,l,A,O){return f=+f,l=l>>>0,O||k(g,f,l,8),t.write(g,f,l,A,52,8),l+8}d.prototype.writeDoubleLE=function(f,l,A){return $(this,f,l,!0,A)},d.prototype.writeDoubleBE=function(f,l,A){return $(this,f,l,!1,A)},d.prototype.copy=function(f,l,A,O){if(!d.isBuffer(f))throw new TypeError("argument should be a Buffer");if(A||(A=0),!O&&O!==0&&(O=this.length),l>=f.length&&(l=f.length),l||(l=0),O>0&&O<A&&(O=A),O===A||f.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),f.length-l<O-A&&(O=f.length-l+A);const U=O-A;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,A,O):Uint8Array.prototype.set.call(f,this.subarray(A,O),l),U},d.prototype.fill=function(f,l,A,O){if(typeof f=="string"){if(typeof l=="string"?(O=l,l=0,A=this.length):typeof A=="string"&&(O=A,A=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!d.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(f.length===1){const K=f.charCodeAt(0);(O==="utf8"&&K<128||O==="latin1")&&(f=K)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(l<0||this.length<l||this.length<A)throw new RangeError("Out of range index");if(A<=l)return this;l=l>>>0,A=A===void 0?this.length:A>>>0,f||(f=0);let U;if(typeof f=="number")for(U=l;U<A;++U)this[U]=f;else{const K=d.isBuffer(f)?f:d.from(f,O),xe=K.length;if(xe===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(U=0;U<A-l;++U)this[U+l]=K[U%xe]}return this};const ee={};function ie(g,f,l){ee[g]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(g,f){return`The "${g}" argument must be of type number. Received type ${typeof f}`},TypeError),ie("ERR_OUT_OF_RANGE",function(g,f,l){let A=`The value of "${g}" is out of range.`,O=l;return Number.isInteger(l)&&Math.abs(l)>2**32?O=Be(String(l)):typeof l=="bigint"&&(O=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(O=Be(O)),O+="n"),A+=` It must be ${f}. Received ${O}`,A},RangeError);function Be(g){let f="",l=g.length;const A=g[0]==="-"?1:0;for(;l>=A+4;l-=3)f=`_${g.slice(l-3,l)}${f}`;return`${g.slice(0,l)}${f}`}function ve(g,f,l){Oe(f,"offset"),(g[f]===void 0||g[f+l]===void 0)&&be(f,g.length-(l+1))}function we(g,f,l,A,O,U){if(g>l||g<f){const K=typeof f=="bigint"?"n":"";let xe;throw f===0||f===BigInt(0)?xe=`>= 0${K} and < 2${K} ** ${(U+1)*8}${K}`:xe=`>= -(2${K} ** ${(U+1)*8-1}${K}) and < 2 ** ${(U+1)*8-1}${K}`,new ee.ERR_OUT_OF_RANGE("value",xe,g)}ve(A,O,U)}function Oe(g,f){if(typeof g!="number")throw new ee.ERR_INVALID_ARG_TYPE(f,"number",g)}function be(g,f,l){throw Math.floor(g)!==g?(Oe(g,l),new ee.ERR_OUT_OF_RANGE("offset","an integer",g)):f<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,g)}const Ae=/[^+/0-9A-Za-z-_]/g;function Pt(g){if(g=g.split("=")[0],g=g.trim().replace(Ae,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function Re(g,f){f=f||1/0;let l;const A=g.length;let O=null;const U=[];for(let K=0;K<A;++K){if(l=g.charCodeAt(K),l>55295&&l<57344){if(!O){if(l>56319){(f-=3)>-1&&U.push(239,191,189);continue}else if(K+1===A){(f-=3)>-1&&U.push(239,191,189);continue}O=l;continue}if(l<56320){(f-=3)>-1&&U.push(239,191,189),O=l;continue}l=(O-55296<<10|l-56320)+65536}else O&&(f-=3)>-1&&U.push(239,191,189);if(O=null,l<128){if((f-=1)<0)break;U.push(l)}else if(l<2048){if((f-=2)<0)break;U.push(l>>6|192,l&63|128)}else if(l<65536){if((f-=3)<0)break;U.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((f-=4)<0)break;U.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return U}function Ue(g){const f=[];for(let l=0;l<g.length;++l)f.push(g.charCodeAt(l)&255);return f}function yr(g,f){let l,A,O;const U=[];for(let K=0;K<g.length&&!((f-=2)<0);++K)l=g.charCodeAt(K),A=l>>8,O=l%256,U.push(O),U.push(A);return U}function Ce(g){return e.toByteArray(Pt(g))}function Te(g,f,l,A){let O;for(O=0;O<A&&!(O+l>=f.length||O>=g.length);++O)f[O+l]=g[O];return O}function Bt(g,f){return g instanceof f||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===f.name}function Fe(g){return g!==g}const De=(function(){const g="0123456789abcdef",f=new Array(256);for(let l=0;l<16;++l){const A=l*16;for(let O=0;O<16;++O)f[A+O]=g[l]+g[O]}return f})();function Ct(g){return typeof BigInt>"u"?je:g}function je(){throw new Error("BigInt not supported")}})(Ai)),Ai}var Ee=ms();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zt=BigInt(0),xt=BigInt(1),co=BigInt(2),Qc=BigInt(8),ef={zip215:!0};function tf(r){const e=cs(r);return rn(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function rf(r){const e=tf(r),{Fp:t,n,prehash:s,hash:i,randomBytes:c,nByteLength:d,h:p}=e,v=co<<BigInt(d*8)-xt,E=t.create,R=nn(e.n,e.nBitLength);function z(x,_){const I=t.sqr(x),y=t.sqr(_),a=t.add(t.mul(e.a,I),y),u=t.add(t.ONE,t.mul(e.d,t.mul(I,y)));return t.eql(a,u)}if(!z(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const C=e.uvRatio||((x,_)=>{try{return{isValid:!0,value:t.sqrt(x*t.inv(_))}}catch{return{isValid:!1,value:zt}}}),q=e.adjustScalarBytes||(x=>x),M=e.domain||((x,_,I)=>{if(tr("phflag",I),_.length||I)throw new Error("Contexts/pre-hash are not supported");return x});function T(x,_,I=!1){const y=I?xt:zt;Nt("coordinate "+x,_,y,v)}function J(x){if(!(x instanceof P))throw new Error("ExtendedPoint expected")}const Y=wn((x,_)=>{const{ex:I,ey:y,ez:a}=x,u=x.is0();_==null&&(_=u?Qc:t.inv(a));const w=E(I*_),k=E(y*_),L=E(a*_);if(u)return{x:zt,y:xt};if(L!==xt)throw new Error("invZ was invalid");return{x:w,y:k}}),Z=wn(x=>{const{a:_,d:I}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:y,ey:a,ez:u,et:w}=x,k=E(y*y),L=E(a*a),$=E(u*u),ee=E($*$),ie=E(k*_),Be=E($*E(ie+L)),ve=E(ee+E(I*E(k*L)));if(Be!==ve)throw new Error("bad point: equation left != right (1)");const we=E(y*a),Oe=E(u*w);if(we!==Oe)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(_,I,y,a){T("x",_),T("y",I),T("z",y,!0),T("t",a),this.ex=_,this.ey=I,this.ez=y,this.et=a,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof P)throw new Error("extended point not allowed");const{x:I,y}=_||{};return T("x",I),T("y",y),new P(I,y,xt,E(I*y))}static normalizeZ(_){const I=us(t,_.map(y=>y.ez));return _.map((y,a)=>y.toAffine(I[a])).map(P.fromAffine)}static msm(_,I){return ta(P,R,_,I)}_setWindowSize(_){re.setWindowSize(this,_)}assertValidity(){Z(this)}equals(_){J(_);const{ex:I,ey:y,ez:a}=this,{ex:u,ey:w,ez:k}=_,L=E(I*k),$=E(u*a),ee=E(y*k),ie=E(w*a);return L===$&&ee===ie}is0(){return this.equals(P.ZERO)}negate(){return new P(E(-this.ex),this.ey,this.ez,E(-this.et))}double(){const{a:_}=e,{ex:I,ey:y,ez:a}=this,u=E(I*I),w=E(y*y),k=E(co*E(a*a)),L=E(_*u),$=I+y,ee=E(E($*$)-u-w),ie=L+w,Be=ie-k,ve=L-w,we=E(ee*Be),Oe=E(ie*ve),be=E(ee*ve),Ae=E(Be*ie);return new P(we,Oe,Ae,be)}add(_){J(_);const{a:I,d:y}=e,{ex:a,ey:u,ez:w,et:k}=this,{ex:L,ey:$,ez:ee,et:ie}=_,Be=E(a*L),ve=E(u*$),we=E(k*y*ie),Oe=E(w*ee),be=E((a+u)*(L+$)-Be-ve),Ae=Oe-we,Pt=Oe+we,Re=E(ve-I*Be),Ue=E(be*Ae),yr=E(Pt*Re),Ce=E(be*Re),Te=E(Ae*Pt);return new P(Ue,yr,Te,Ce)}subtract(_){return this.add(_.negate())}wNAF(_){return re.wNAFCached(this,_,P.normalizeZ)}multiply(_){const I=_;Nt("scalar",I,xt,n);const{p:y,f:a}=this.wNAF(I);return P.normalizeZ([y,a])[0]}multiplyUnsafe(_,I=P.ZERO){const y=_;return Nt("scalar",y,zt,n),y===zt?G:this.is0()||y===xt?this:re.wNAFCachedUnsafe(this,y,P.normalizeZ,I)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return re.unsafeLadder(this,n).is0()}toAffine(_){return Y(this,_)}clearCofactor(){const{h:_}=e;return _===xt?this:this.multiplyUnsafe(_)}static fromHex(_,I=!1){const{d:y,a}=e,u=t.BYTES;_=Ve("pointHex",_,u),tr("zip215",I);const w=_.slice(),k=_[u-1];w[u-1]=k&-129;const L=Pr(w),$=I?v:t.ORDER;Nt("pointHex.y",L,zt,$);const ee=E(L*L),ie=E(ee-xt),Be=E(y*ee-a);let{isValid:ve,value:we}=C(ie,Be);if(!ve)throw new Error("Point.fromHex: invalid y coordinate");const Oe=(we&xt)===xt,be=(k&128)!==0;if(!I&&we===zt&&be)throw new Error("Point.fromHex: x=0 and x_0=1");return be!==Oe&&(we=E(-we)),P.fromAffine({x:we,y:L})}static fromPrivateKey(_){const{scalar:I}=N(_);return W.multiply(I)}toRawBytes(){const{x:_,y:I}=this.toAffine(),y=yn(I,t.BYTES);return y[y.length-1]|=_&xt?128:0,y}toHex(){return Sr(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,xt,E(e.Gx*e.Gy)),P.ZERO=new P(zt,xt,xt,zt);const{BASE:W,ZERO:G}=P,re=ea(P,d*8);function ae(x){return Pe(x,n)}function V(x){return ae(Pr(x))}function N(x){const _=t.BYTES;x=Ve("private key",x,_);const I=Ve("hashed private key",i(x),2*_),y=q(I.slice(0,_)),a=I.slice(_,2*_),u=V(y);return{head:y,prefix:a,scalar:u}}function F(x){const{head:_,prefix:I,scalar:y}=N(x),a=W.multiply(y),u=a.toRawBytes();return{head:_,prefix:I,scalar:y,point:a,pointBytes:u}}function H(x){return F(x).pointBytes}function b(x=Uint8Array.of(),..._){const I=Ar(..._);return V(i(M(I,Ve("context",x),!!s)))}function o(x,_,I={}){x=Ve("message",x),s&&(x=s(x));const{prefix:y,scalar:a,pointBytes:u}=F(_),w=b(I.context,y,x),k=W.multiply(w).toRawBytes(),L=b(I.context,k,u,x),$=ae(w+L*a);Nt("signature.s",$,zt,n);const ee=Ar(k,yn($,t.BYTES));return Ve("result",ee,t.BYTES*2)}const h=ef;function m(x,_,I,y=h){const{context:a,zip215:u}=y,w=t.BYTES;x=Ve("signature",x,2*w),_=Ve("message",_),I=Ve("publicKey",I,w),u!==void 0&&tr("zip215",u),s&&(_=s(_));const k=Pr(x.slice(w,2*w));let L,$,ee;try{L=P.fromHex(I,u),$=P.fromHex(x.slice(0,w),u),ee=W.multiplyUnsafe(k)}catch{return!1}if(!u&&L.isSmallOrder())return!1;const ie=b(a,$.toRawBytes(),L.toRawBytes(),_);return $.add(L.multiplyUnsafe(ie)).subtract(ee).clearCofactor().equals(P.ZERO)}return W._setWindowSize(8),{CURVE:e,getPublicKey:H,sign:o,verify:m,ExtendedPoint:P,utils:{getExtendedPublicKey:F,randomPrivateKey:()=>c(t.BYTES),precompute(x=8,_=P.BASE){return _._setWindowSize(x),_.multiply(BigInt(3)),_}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gs=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const nf=BigInt(1),lo=BigInt(2);BigInt(3);const sf=BigInt(5),of=BigInt(8);function af(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),s=BigInt(80),i=gs,d=r*r%i*r%i,p=qe(d,lo,i)*d%i,v=qe(p,nf,i)*r%i,E=qe(v,sf,i)*v%i,R=qe(E,e,i)*E%i,z=qe(R,t,i)*R%i,C=qe(z,n,i)*z%i,q=qe(C,s,i)*C%i,M=qe(q,s,i)*C%i,T=qe(M,e,i)*E%i;return{pow_p_5_8:qe(T,lo,i)*r%i,b2:d}}function uf(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function cf(r,e){const t=gs,n=Pe(e*e*e,t),s=Pe(n*n*e,t),i=af(r*s).pow_p_5_8;let c=Pe(r*n*i,t);const d=Pe(e*c*c,t),p=c,v=Pe(c*fo,t),E=d===r,R=d===Pe(-r,t),z=d===Pe(-r*fo,t);return E&&(c=p),(R||z)&&(c=v),_u(c,t)&&(c=Pe(-c,t)),{isValid:E||R,value:c}}const ho=nn(gs,void 0,!0),ff={a:ho.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ho,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:of,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:hu,randomBytes:Do,adjustScalarBytes:uf,uvRatio:cf},ys=rf(ff);var hn={exports:{}};const lf={},df=Object.freeze(Object.defineProperty({__proto__:null,default:lf},Symbol.toStringTag,{value:"Module"})),hf=ns(df);var pf=hn.exports,po;function ha(){return po||(po=1,(function(r){(function(e,t){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function s(b,o){b.super_=o;var h=function(){};h.prototype=o.prototype,b.prototype=new h,b.prototype.constructor=b}function i(b,o,h){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(h=o,o=10),this._init(b||0,o||10,h||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=hf.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,h){return o.cmp(h)>0?o:h},i.min=function(o,h){return o.cmp(h)<0?o:h},i.prototype._init=function(o,h,m){if(typeof o=="number")return this._initNumber(o,h,m);if(typeof o=="object")return this._initArray(o,h,m);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var S=0;o[0]==="-"&&(S++,this.negative=1),S<o.length&&(h===16?this._parseHex(o,S,m):(this._parseBase(o,h,S),m==="le"&&this._initArray(this.toArray(),h,m)))},i.prototype._initNumber=function(o,h,m){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},i.prototype._initArray=function(o,h,m){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x,_,I=0;if(m==="be")for(S=o.length-1,x=0;S>=0;S-=3)_=o[S]|o[S-1]<<8|o[S-2]<<16,this.words[x]|=_<<I&67108863,this.words[x+1]=_>>>26-I&67108863,I+=24,I>=26&&(I-=26,x++);else if(m==="le")for(S=0,x=0;S<o.length;S+=3)_=o[S]|o[S+1]<<8|o[S+2]<<16,this.words[x]|=_<<I&67108863,this.words[x+1]=_>>>26-I&67108863,I+=24,I>=26&&(I-=26,x++);return this._strip()};function d(b,o){var h=b.charCodeAt(o);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+b)}function p(b,o,h){var m=d(b,h);return h-1>=o&&(m|=d(b,h-1)<<4),m}i.prototype._parseHex=function(o,h,m){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x=0,_=0,I;if(m==="be")for(S=o.length-1;S>=h;S-=2)I=p(o,h,S)<<x,this.words[_]|=I&67108863,x>=18?(x-=18,_+=1,this.words[_]|=I>>>26):x+=8;else{var y=o.length-h;for(S=y%2===0?h+1:h;S<o.length;S+=2)I=p(o,h,S)<<x,this.words[_]|=I&67108863,x>=18?(x-=18,_+=1,this.words[_]|=I>>>26):x+=8}this._strip()};function v(b,o,h,m){for(var S=0,x=0,_=Math.min(b.length,h),I=o;I<_;I++){var y=b.charCodeAt(I)-48;S*=m,y>=49?x=y-49+10:y>=17?x=y-17+10:x=y,n(y>=0&&x<m,"Invalid character"),S+=x}return S}i.prototype._parseBase=function(o,h,m){this.words=[0],this.length=1;for(var S=0,x=1;x<=67108863;x*=h)S++;S--,x=x/h|0;for(var _=o.length-m,I=_%S,y=Math.min(_,_-I)+m,a=0,u=m;u<y;u+=S)a=v(o,u,u+S,h),this.imuln(x),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(I!==0){var w=1;for(a=v(o,u,o.length,h),u=0;u<I;u++)w*=h;this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function E(b,o){b.words=o.words,b.length=o.length,b.negative=o.negative,b.red=o.red}if(i.prototype._move=function(o){E(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=R}catch{i.prototype.inspect=R}else i.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,h){o=o||10,h=h|0||1;var m;if(o===16||o==="hex"){m="";for(var S=0,x=0,_=0;_<this.length;_++){var I=this.words[_],y=((I<<S|x)&16777215).toString(16);x=I>>>24-S&16777215,S+=2,S>=26&&(S-=26,_--),x!==0||_!==this.length-1?m=z[6-y.length]+y+m:m=y+m}for(x!==0&&(m=x.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(o===(o|0)&&o>=2&&o<=36){var a=C[o],u=q[o];m="";var w=this.clone();for(w.negative=0;!w.isZero();){var k=w.modrn(u).toString(o);w=w.idivn(u),w.isZero()?m=k+m:m=z[a-k.length]+k+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(o,h){return this.toArrayLike(c,o,h)}),i.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var M=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};i.prototype.toArrayLike=function(o,h,m){this._strip();var S=this.byteLength(),x=m||Math.max(1,S);n(S<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var _=M(o,x),I=h==="le"?"LE":"BE";return this["_toArrayLike"+I](_,S),_},i.prototype._toArrayLikeLE=function(o,h){for(var m=0,S=0,x=0,_=0;x<this.length;x++){var I=this.words[x]<<_|S;o[m++]=I&255,m<o.length&&(o[m++]=I>>8&255),m<o.length&&(o[m++]=I>>16&255),_===6?(m<o.length&&(o[m++]=I>>24&255),S=0,_=0):(S=I>>>24,_+=2)}if(m<o.length)for(o[m++]=S;m<o.length;)o[m++]=0},i.prototype._toArrayLikeBE=function(o,h){for(var m=o.length-1,S=0,x=0,_=0;x<this.length;x++){var I=this.words[x]<<_|S;o[m--]=I&255,m>=0&&(o[m--]=I>>8&255),m>=0&&(o[m--]=I>>16&255),_===6?(m>=0&&(o[m--]=I>>24&255),S=0,_=0):(S=I>>>24,_+=2)}if(m>=0)for(o[m--]=S;m>=0;)o[m--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var h=o,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},i.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,m=0;return(h&8191)===0&&(m+=13,h>>>=13),(h&127)===0&&(m+=7,h>>>=7),(h&15)===0&&(m+=4,h>>>=4),(h&3)===0&&(m+=2,h>>>=2),(h&1)===0&&m++,m},i.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function T(b){for(var o=new Array(b.bitLength()),h=0;h<o.length;h++){var m=h/26|0,S=h%26;o[h]=b.words[m]>>>S&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(o+=m,m!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&o.words[m];return this.length=h.length,this._strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var h,m;this.length>o.length?(h=this,m=o):(h=o,m=this);for(var S=0;S<m.length;S++)this.words[S]=h.words[S]^m.words[S];if(this!==h)for(;S<h.length;S++)this.words[S]=h.words[S];return this.length=h.length,this._strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,m=o%26;this._expand(h),m>0&&h--;for(var S=0;S<h;S++)this.words[S]=~this.words[S]&67108863;return m>0&&(this.words[S]=~this.words[S]&67108863>>26-m),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,h){n(typeof o=="number"&&o>=0);var m=o/26|0,S=o%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<S:this.words[m]=this.words[m]&~(1<<S),this._strip()},i.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var m,S;this.length>o.length?(m=this,S=o):(m=o,S=this);for(var x=0,_=0;_<S.length;_++)h=(m.words[_]|0)+(S.words[_]|0)+x,this.words[_]=h&67108863,x=h>>>26;for(;x!==0&&_<m.length;_++)h=(m.words[_]|0)+x,this.words[_]=h&67108863,x=h>>>26;if(this.length=m.length,x!==0)this.words[this.length]=x,this.length++;else if(m!==this)for(;_<m.length;_++)this.words[_]=m.words[_];return this},i.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var m=this.cmp(o);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,x;m>0?(S=this,x=o):(S=o,x=this);for(var _=0,I=0;I<x.length;I++)h=(S.words[I]|0)-(x.words[I]|0)+_,_=h>>26,this.words[I]=h&67108863;for(;_!==0&&I<S.length;I++)h=(S.words[I]|0)+_,_=h>>26,this.words[I]=h&67108863;if(_===0&&I<S.length&&S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this.length=Math.max(this.length,I),S!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function J(b,o,h){h.negative=o.negative^b.negative;var m=b.length+o.length|0;h.length=m,m=m-1|0;var S=b.words[0]|0,x=o.words[0]|0,_=S*x,I=_&67108863,y=_/67108864|0;h.words[0]=I;for(var a=1;a<m;a++){for(var u=y>>>26,w=y&67108863,k=Math.min(a,o.length-1),L=Math.max(0,a-b.length+1);L<=k;L++){var $=a-L|0;S=b.words[$]|0,x=o.words[L]|0,_=S*x+w,u+=_/67108864|0,w=_&67108863}h.words[a]=w|0,y=u|0}return y!==0?h.words[a]=y|0:h.length--,h._strip()}var Y=function(o,h,m){var S=o.words,x=h.words,_=m.words,I=0,y,a,u,w=S[0]|0,k=w&8191,L=w>>>13,$=S[1]|0,ee=$&8191,ie=$>>>13,Be=S[2]|0,ve=Be&8191,we=Be>>>13,Oe=S[3]|0,be=Oe&8191,Ae=Oe>>>13,Pt=S[4]|0,Re=Pt&8191,Ue=Pt>>>13,yr=S[5]|0,Ce=yr&8191,Te=yr>>>13,Bt=S[6]|0,Fe=Bt&8191,De=Bt>>>13,Ct=S[7]|0,je=Ct&8191,g=Ct>>>13,f=S[8]|0,l=f&8191,A=f>>>13,O=S[9]|0,U=O&8191,K=O>>>13,xe=x[0]|0,me=xe&8191,he=xe>>>13,Ne=x[1]|0,le=Ne&8191,Ke=Ne>>>13,Ts=x[2]|0,We=Ts&8191,He=Ts>>>13,Os=x[3]|0,Je=Os&8191,Ge=Os>>>13,Ls=x[4]|0,Ye=Ls&8191,Xe=Ls>>>13,Cs=x[5]|0,Qe=Cs&8191,et=Cs>>>13,Ns=x[6]|0,tt=Ns&8191,rt=Ns>>>13,Us=x[7]|0,nt=Us&8191,it=Us>>>13,Fs=x[8]|0,st=Fs&8191,ot=Fs>>>13,Ps=x[9]|0,at=Ps&8191,ut=Ps>>>13;m.negative=o.negative^h.negative,m.length=19,y=Math.imul(k,me),a=Math.imul(k,he),a=a+Math.imul(L,me)|0,u=Math.imul(L,he);var Yn=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,y=Math.imul(ee,me),a=Math.imul(ee,he),a=a+Math.imul(ie,me)|0,u=Math.imul(ie,he),y=y+Math.imul(k,le)|0,a=a+Math.imul(k,Ke)|0,a=a+Math.imul(L,le)|0,u=u+Math.imul(L,Ke)|0;var Xn=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,y=Math.imul(ve,me),a=Math.imul(ve,he),a=a+Math.imul(we,me)|0,u=Math.imul(we,he),y=y+Math.imul(ee,le)|0,a=a+Math.imul(ee,Ke)|0,a=a+Math.imul(ie,le)|0,u=u+Math.imul(ie,Ke)|0,y=y+Math.imul(k,We)|0,a=a+Math.imul(k,He)|0,a=a+Math.imul(L,We)|0,u=u+Math.imul(L,He)|0;var Qn=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,y=Math.imul(be,me),a=Math.imul(be,he),a=a+Math.imul(Ae,me)|0,u=Math.imul(Ae,he),y=y+Math.imul(ve,le)|0,a=a+Math.imul(ve,Ke)|0,a=a+Math.imul(we,le)|0,u=u+Math.imul(we,Ke)|0,y=y+Math.imul(ee,We)|0,a=a+Math.imul(ee,He)|0,a=a+Math.imul(ie,We)|0,u=u+Math.imul(ie,He)|0,y=y+Math.imul(k,Je)|0,a=a+Math.imul(k,Ge)|0,a=a+Math.imul(L,Je)|0,u=u+Math.imul(L,Ge)|0;var ei=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ei>>>26)|0,ei&=67108863,y=Math.imul(Re,me),a=Math.imul(Re,he),a=a+Math.imul(Ue,me)|0,u=Math.imul(Ue,he),y=y+Math.imul(be,le)|0,a=a+Math.imul(be,Ke)|0,a=a+Math.imul(Ae,le)|0,u=u+Math.imul(Ae,Ke)|0,y=y+Math.imul(ve,We)|0,a=a+Math.imul(ve,He)|0,a=a+Math.imul(we,We)|0,u=u+Math.imul(we,He)|0,y=y+Math.imul(ee,Je)|0,a=a+Math.imul(ee,Ge)|0,a=a+Math.imul(ie,Je)|0,u=u+Math.imul(ie,Ge)|0,y=y+Math.imul(k,Ye)|0,a=a+Math.imul(k,Xe)|0,a=a+Math.imul(L,Ye)|0,u=u+Math.imul(L,Xe)|0;var ti=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ti>>>26)|0,ti&=67108863,y=Math.imul(Ce,me),a=Math.imul(Ce,he),a=a+Math.imul(Te,me)|0,u=Math.imul(Te,he),y=y+Math.imul(Re,le)|0,a=a+Math.imul(Re,Ke)|0,a=a+Math.imul(Ue,le)|0,u=u+Math.imul(Ue,Ke)|0,y=y+Math.imul(be,We)|0,a=a+Math.imul(be,He)|0,a=a+Math.imul(Ae,We)|0,u=u+Math.imul(Ae,He)|0,y=y+Math.imul(ve,Je)|0,a=a+Math.imul(ve,Ge)|0,a=a+Math.imul(we,Je)|0,u=u+Math.imul(we,Ge)|0,y=y+Math.imul(ee,Ye)|0,a=a+Math.imul(ee,Xe)|0,a=a+Math.imul(ie,Ye)|0,u=u+Math.imul(ie,Xe)|0,y=y+Math.imul(k,Qe)|0,a=a+Math.imul(k,et)|0,a=a+Math.imul(L,Qe)|0,u=u+Math.imul(L,et)|0;var ri=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ri>>>26)|0,ri&=67108863,y=Math.imul(Fe,me),a=Math.imul(Fe,he),a=a+Math.imul(De,me)|0,u=Math.imul(De,he),y=y+Math.imul(Ce,le)|0,a=a+Math.imul(Ce,Ke)|0,a=a+Math.imul(Te,le)|0,u=u+Math.imul(Te,Ke)|0,y=y+Math.imul(Re,We)|0,a=a+Math.imul(Re,He)|0,a=a+Math.imul(Ue,We)|0,u=u+Math.imul(Ue,He)|0,y=y+Math.imul(be,Je)|0,a=a+Math.imul(be,Ge)|0,a=a+Math.imul(Ae,Je)|0,u=u+Math.imul(Ae,Ge)|0,y=y+Math.imul(ve,Ye)|0,a=a+Math.imul(ve,Xe)|0,a=a+Math.imul(we,Ye)|0,u=u+Math.imul(we,Xe)|0,y=y+Math.imul(ee,Qe)|0,a=a+Math.imul(ee,et)|0,a=a+Math.imul(ie,Qe)|0,u=u+Math.imul(ie,et)|0,y=y+Math.imul(k,tt)|0,a=a+Math.imul(k,rt)|0,a=a+Math.imul(L,tt)|0,u=u+Math.imul(L,rt)|0;var ni=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(je,me),a=Math.imul(je,he),a=a+Math.imul(g,me)|0,u=Math.imul(g,he),y=y+Math.imul(Fe,le)|0,a=a+Math.imul(Fe,Ke)|0,a=a+Math.imul(De,le)|0,u=u+Math.imul(De,Ke)|0,y=y+Math.imul(Ce,We)|0,a=a+Math.imul(Ce,He)|0,a=a+Math.imul(Te,We)|0,u=u+Math.imul(Te,He)|0,y=y+Math.imul(Re,Je)|0,a=a+Math.imul(Re,Ge)|0,a=a+Math.imul(Ue,Je)|0,u=u+Math.imul(Ue,Ge)|0,y=y+Math.imul(be,Ye)|0,a=a+Math.imul(be,Xe)|0,a=a+Math.imul(Ae,Ye)|0,u=u+Math.imul(Ae,Xe)|0,y=y+Math.imul(ve,Qe)|0,a=a+Math.imul(ve,et)|0,a=a+Math.imul(we,Qe)|0,u=u+Math.imul(we,et)|0,y=y+Math.imul(ee,tt)|0,a=a+Math.imul(ee,rt)|0,a=a+Math.imul(ie,tt)|0,u=u+Math.imul(ie,rt)|0,y=y+Math.imul(k,nt)|0,a=a+Math.imul(k,it)|0,a=a+Math.imul(L,nt)|0,u=u+Math.imul(L,it)|0;var ii=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(l,me),a=Math.imul(l,he),a=a+Math.imul(A,me)|0,u=Math.imul(A,he),y=y+Math.imul(je,le)|0,a=a+Math.imul(je,Ke)|0,a=a+Math.imul(g,le)|0,u=u+Math.imul(g,Ke)|0,y=y+Math.imul(Fe,We)|0,a=a+Math.imul(Fe,He)|0,a=a+Math.imul(De,We)|0,u=u+Math.imul(De,He)|0,y=y+Math.imul(Ce,Je)|0,a=a+Math.imul(Ce,Ge)|0,a=a+Math.imul(Te,Je)|0,u=u+Math.imul(Te,Ge)|0,y=y+Math.imul(Re,Ye)|0,a=a+Math.imul(Re,Xe)|0,a=a+Math.imul(Ue,Ye)|0,u=u+Math.imul(Ue,Xe)|0,y=y+Math.imul(be,Qe)|0,a=a+Math.imul(be,et)|0,a=a+Math.imul(Ae,Qe)|0,u=u+Math.imul(Ae,et)|0,y=y+Math.imul(ve,tt)|0,a=a+Math.imul(ve,rt)|0,a=a+Math.imul(we,tt)|0,u=u+Math.imul(we,rt)|0,y=y+Math.imul(ee,nt)|0,a=a+Math.imul(ee,it)|0,a=a+Math.imul(ie,nt)|0,u=u+Math.imul(ie,it)|0,y=y+Math.imul(k,st)|0,a=a+Math.imul(k,ot)|0,a=a+Math.imul(L,st)|0,u=u+Math.imul(L,ot)|0;var si=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(U,me),a=Math.imul(U,he),a=a+Math.imul(K,me)|0,u=Math.imul(K,he),y=y+Math.imul(l,le)|0,a=a+Math.imul(l,Ke)|0,a=a+Math.imul(A,le)|0,u=u+Math.imul(A,Ke)|0,y=y+Math.imul(je,We)|0,a=a+Math.imul(je,He)|0,a=a+Math.imul(g,We)|0,u=u+Math.imul(g,He)|0,y=y+Math.imul(Fe,Je)|0,a=a+Math.imul(Fe,Ge)|0,a=a+Math.imul(De,Je)|0,u=u+Math.imul(De,Ge)|0,y=y+Math.imul(Ce,Ye)|0,a=a+Math.imul(Ce,Xe)|0,a=a+Math.imul(Te,Ye)|0,u=u+Math.imul(Te,Xe)|0,y=y+Math.imul(Re,Qe)|0,a=a+Math.imul(Re,et)|0,a=a+Math.imul(Ue,Qe)|0,u=u+Math.imul(Ue,et)|0,y=y+Math.imul(be,tt)|0,a=a+Math.imul(be,rt)|0,a=a+Math.imul(Ae,tt)|0,u=u+Math.imul(Ae,rt)|0,y=y+Math.imul(ve,nt)|0,a=a+Math.imul(ve,it)|0,a=a+Math.imul(we,nt)|0,u=u+Math.imul(we,it)|0,y=y+Math.imul(ee,st)|0,a=a+Math.imul(ee,ot)|0,a=a+Math.imul(ie,st)|0,u=u+Math.imul(ie,ot)|0,y=y+Math.imul(k,at)|0,a=a+Math.imul(k,ut)|0,a=a+Math.imul(L,at)|0,u=u+Math.imul(L,ut)|0;var oi=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(U,le),a=Math.imul(U,Ke),a=a+Math.imul(K,le)|0,u=Math.imul(K,Ke),y=y+Math.imul(l,We)|0,a=a+Math.imul(l,He)|0,a=a+Math.imul(A,We)|0,u=u+Math.imul(A,He)|0,y=y+Math.imul(je,Je)|0,a=a+Math.imul(je,Ge)|0,a=a+Math.imul(g,Je)|0,u=u+Math.imul(g,Ge)|0,y=y+Math.imul(Fe,Ye)|0,a=a+Math.imul(Fe,Xe)|0,a=a+Math.imul(De,Ye)|0,u=u+Math.imul(De,Xe)|0,y=y+Math.imul(Ce,Qe)|0,a=a+Math.imul(Ce,et)|0,a=a+Math.imul(Te,Qe)|0,u=u+Math.imul(Te,et)|0,y=y+Math.imul(Re,tt)|0,a=a+Math.imul(Re,rt)|0,a=a+Math.imul(Ue,tt)|0,u=u+Math.imul(Ue,rt)|0,y=y+Math.imul(be,nt)|0,a=a+Math.imul(be,it)|0,a=a+Math.imul(Ae,nt)|0,u=u+Math.imul(Ae,it)|0,y=y+Math.imul(ve,st)|0,a=a+Math.imul(ve,ot)|0,a=a+Math.imul(we,st)|0,u=u+Math.imul(we,ot)|0,y=y+Math.imul(ee,at)|0,a=a+Math.imul(ee,ut)|0,a=a+Math.imul(ie,at)|0,u=u+Math.imul(ie,ut)|0;var ai=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(U,We),a=Math.imul(U,He),a=a+Math.imul(K,We)|0,u=Math.imul(K,He),y=y+Math.imul(l,Je)|0,a=a+Math.imul(l,Ge)|0,a=a+Math.imul(A,Je)|0,u=u+Math.imul(A,Ge)|0,y=y+Math.imul(je,Ye)|0,a=a+Math.imul(je,Xe)|0,a=a+Math.imul(g,Ye)|0,u=u+Math.imul(g,Xe)|0,y=y+Math.imul(Fe,Qe)|0,a=a+Math.imul(Fe,et)|0,a=a+Math.imul(De,Qe)|0,u=u+Math.imul(De,et)|0,y=y+Math.imul(Ce,tt)|0,a=a+Math.imul(Ce,rt)|0,a=a+Math.imul(Te,tt)|0,u=u+Math.imul(Te,rt)|0,y=y+Math.imul(Re,nt)|0,a=a+Math.imul(Re,it)|0,a=a+Math.imul(Ue,nt)|0,u=u+Math.imul(Ue,it)|0,y=y+Math.imul(be,st)|0,a=a+Math.imul(be,ot)|0,a=a+Math.imul(Ae,st)|0,u=u+Math.imul(Ae,ot)|0,y=y+Math.imul(ve,at)|0,a=a+Math.imul(ve,ut)|0,a=a+Math.imul(we,at)|0,u=u+Math.imul(we,ut)|0;var ui=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ui>>>26)|0,ui&=67108863,y=Math.imul(U,Je),a=Math.imul(U,Ge),a=a+Math.imul(K,Je)|0,u=Math.imul(K,Ge),y=y+Math.imul(l,Ye)|0,a=a+Math.imul(l,Xe)|0,a=a+Math.imul(A,Ye)|0,u=u+Math.imul(A,Xe)|0,y=y+Math.imul(je,Qe)|0,a=a+Math.imul(je,et)|0,a=a+Math.imul(g,Qe)|0,u=u+Math.imul(g,et)|0,y=y+Math.imul(Fe,tt)|0,a=a+Math.imul(Fe,rt)|0,a=a+Math.imul(De,tt)|0,u=u+Math.imul(De,rt)|0,y=y+Math.imul(Ce,nt)|0,a=a+Math.imul(Ce,it)|0,a=a+Math.imul(Te,nt)|0,u=u+Math.imul(Te,it)|0,y=y+Math.imul(Re,st)|0,a=a+Math.imul(Re,ot)|0,a=a+Math.imul(Ue,st)|0,u=u+Math.imul(Ue,ot)|0,y=y+Math.imul(be,at)|0,a=a+Math.imul(be,ut)|0,a=a+Math.imul(Ae,at)|0,u=u+Math.imul(Ae,ut)|0;var ci=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(ci>>>26)|0,ci&=67108863,y=Math.imul(U,Ye),a=Math.imul(U,Xe),a=a+Math.imul(K,Ye)|0,u=Math.imul(K,Xe),y=y+Math.imul(l,Qe)|0,a=a+Math.imul(l,et)|0,a=a+Math.imul(A,Qe)|0,u=u+Math.imul(A,et)|0,y=y+Math.imul(je,tt)|0,a=a+Math.imul(je,rt)|0,a=a+Math.imul(g,tt)|0,u=u+Math.imul(g,rt)|0,y=y+Math.imul(Fe,nt)|0,a=a+Math.imul(Fe,it)|0,a=a+Math.imul(De,nt)|0,u=u+Math.imul(De,it)|0,y=y+Math.imul(Ce,st)|0,a=a+Math.imul(Ce,ot)|0,a=a+Math.imul(Te,st)|0,u=u+Math.imul(Te,ot)|0,y=y+Math.imul(Re,at)|0,a=a+Math.imul(Re,ut)|0,a=a+Math.imul(Ue,at)|0,u=u+Math.imul(Ue,ut)|0;var fi=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(fi>>>26)|0,fi&=67108863,y=Math.imul(U,Qe),a=Math.imul(U,et),a=a+Math.imul(K,Qe)|0,u=Math.imul(K,et),y=y+Math.imul(l,tt)|0,a=a+Math.imul(l,rt)|0,a=a+Math.imul(A,tt)|0,u=u+Math.imul(A,rt)|0,y=y+Math.imul(je,nt)|0,a=a+Math.imul(je,it)|0,a=a+Math.imul(g,nt)|0,u=u+Math.imul(g,it)|0,y=y+Math.imul(Fe,st)|0,a=a+Math.imul(Fe,ot)|0,a=a+Math.imul(De,st)|0,u=u+Math.imul(De,ot)|0,y=y+Math.imul(Ce,at)|0,a=a+Math.imul(Ce,ut)|0,a=a+Math.imul(Te,at)|0,u=u+Math.imul(Te,ut)|0;var li=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(li>>>26)|0,li&=67108863,y=Math.imul(U,tt),a=Math.imul(U,rt),a=a+Math.imul(K,tt)|0,u=Math.imul(K,rt),y=y+Math.imul(l,nt)|0,a=a+Math.imul(l,it)|0,a=a+Math.imul(A,nt)|0,u=u+Math.imul(A,it)|0,y=y+Math.imul(je,st)|0,a=a+Math.imul(je,ot)|0,a=a+Math.imul(g,st)|0,u=u+Math.imul(g,ot)|0,y=y+Math.imul(Fe,at)|0,a=a+Math.imul(Fe,ut)|0,a=a+Math.imul(De,at)|0,u=u+Math.imul(De,ut)|0;var di=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(di>>>26)|0,di&=67108863,y=Math.imul(U,nt),a=Math.imul(U,it),a=a+Math.imul(K,nt)|0,u=Math.imul(K,it),y=y+Math.imul(l,st)|0,a=a+Math.imul(l,ot)|0,a=a+Math.imul(A,st)|0,u=u+Math.imul(A,ot)|0,y=y+Math.imul(je,at)|0,a=a+Math.imul(je,ut)|0,a=a+Math.imul(g,at)|0,u=u+Math.imul(g,ut)|0;var hi=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(U,st),a=Math.imul(U,ot),a=a+Math.imul(K,st)|0,u=Math.imul(K,ot),y=y+Math.imul(l,at)|0,a=a+Math.imul(l,ut)|0,a=a+Math.imul(A,at)|0,u=u+Math.imul(A,ut)|0;var pi=(I+y|0)+((a&8191)<<13)|0;I=(u+(a>>>13)|0)+(pi>>>26)|0,pi&=67108863,y=Math.imul(U,at),a=Math.imul(U,ut),a=a+Math.imul(K,at)|0,u=Math.imul(K,ut);var mi=(I+y|0)+((a&8191)<<13)|0;return I=(u+(a>>>13)|0)+(mi>>>26)|0,mi&=67108863,_[0]=Yn,_[1]=Xn,_[2]=Qn,_[3]=ei,_[4]=ti,_[5]=ri,_[6]=ni,_[7]=ii,_[8]=si,_[9]=oi,_[10]=ai,_[11]=ui,_[12]=ci,_[13]=fi,_[14]=li,_[15]=di,_[16]=hi,_[17]=pi,_[18]=mi,I!==0&&(_[19]=I,m.length++),m};Math.imul||(Y=J);function Z(b,o,h){h.negative=o.negative^b.negative,h.length=b.length+o.length;for(var m=0,S=0,x=0;x<h.length-1;x++){var _=S;S=0;for(var I=m&67108863,y=Math.min(x,o.length-1),a=Math.max(0,x-b.length+1);a<=y;a++){var u=x-a,w=b.words[u]|0,k=o.words[a]|0,L=w*k,$=L&67108863;_=_+(L/67108864|0)|0,$=$+I|0,I=$&67108863,_=_+($>>>26)|0,S+=_>>>26,_&=67108863}h.words[x]=I,m=_,_=S}return m!==0?h.words[x]=m:h.length--,h._strip()}function P(b,o,h){return Z(b,o,h)}i.prototype.mulTo=function(o,h){var m,S=this.length+o.length;return this.length===10&&o.length===10?m=Y(this,o,h):S<63?m=J(this,o,h):S<1024?m=Z(this,o,h):m=P(this,o,h),m},i.prototype.mul=function(o){var h=new i(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},i.prototype.mulf=function(o){var h=new i(null);return h.words=new Array(this.length+o.length),P(this,o,h)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var h=o<0;h&&(o=-o),n(typeof o=="number"),n(o<67108864);for(var m=0,S=0;S<this.length;S++){var x=(this.words[S]|0)*o,_=(x&67108863)+(m&67108863);m>>=26,m+=x/67108864|0,m+=_>>>26,this.words[S]=_&67108863}return m!==0&&(this.words[S]=m,this.length++),this.length=o===0?1:this.length,h?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var h=T(o);if(h.length===0)return new i(1);for(var m=this,S=0;S<h.length&&h[S]===0;S++,m=m.sqr());if(++S<h.length)for(var x=m.sqr();S<h.length;S++,x=x.sqr())h[S]!==0&&(m=m.mul(x));return m},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var h=o%26,m=(o-h)/26,S=67108863>>>26-h<<26-h,x;if(h!==0){var _=0;for(x=0;x<this.length;x++){var I=this.words[x]&S,y=(this.words[x]|0)-I<<h;this.words[x]=y|_,_=I>>>26-h}_&&(this.words[x]=_,this.length++)}if(m!==0){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,h,m){n(typeof o=="number"&&o>=0);var S;h?S=(h-h%26)/26:S=0;var x=o%26,_=Math.min((o-x)/26,this.length),I=67108863^67108863>>>x<<x,y=m;if(S-=_,S=Math.max(0,S),y){for(var a=0;a<_;a++)y.words[a]=this.words[a];y.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var u=0;for(a=this.length-1;a>=0&&(u!==0||a>=S);a--){var w=this.words[a]|0;this.words[a]=u<<26-x|w>>>x,u=w&I}return y&&u!==0&&(y.words[y.length++]=u),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,h,m){return n(this.negative===0),this.iushrn(o,h,m)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var h=o%26,m=(o-h)/26,S=1<<h;if(this.length<=m)return!1;var x=this.words[m];return!!(x&S)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var h=o%26,m=(o-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var S=67108863^67108863>>>h<<h;this.words[this.length-1]&=S}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,h,m){var S=o.length+m,x;this._expand(S);var _,I=0;for(x=0;x<o.length;x++){_=(this.words[x+m]|0)+I;var y=(o.words[x]|0)*h;_-=y&67108863,I=(_>>26)-(y/67108864|0),this.words[x+m]=_&67108863}for(;x<this.length-m;x++)_=(this.words[x+m]|0)+I,I=_>>26,this.words[x+m]=_&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,x=0;x<this.length;x++)_=-(this.words[x]|0)+I,I=_>>26,this.words[x]=_&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,h){var m=this.length-o.length,S=this.clone(),x=o,_=x.words[x.length-1]|0,I=this._countBits(_);m=26-I,m!==0&&(x=x.ushln(m),S.iushln(m),_=x.words[x.length-1]|0);var y=S.length-x.length,a;if(h!=="mod"){a=new i(null),a.length=y+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var w=S.clone()._ishlnsubmul(x,1,y);w.negative===0&&(S=w,a&&(a.words[y]=1));for(var k=y-1;k>=0;k--){var L=(S.words[x.length+k]|0)*67108864+(S.words[x.length+k-1]|0);for(L=Math.min(L/_|0,67108863),S._ishlnsubmul(x,L,k);S.negative!==0;)L--,S.negative=0,S._ishlnsubmul(x,1,k),S.isZero()||(S.negative^=1);a&&(a.words[k]=L)}return a&&a._strip(),S._strip(),h!=="div"&&m!==0&&S.iushrn(m),{div:a||null,mod:S}},i.prototype.divmod=function(o,h,m){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var S,x,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,h),h!=="mod"&&(S=_.div.neg()),h!=="div"&&(x=_.mod.neg(),m&&x.negative!==0&&x.iadd(o)),{div:S,mod:x}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),h),h!=="mod"&&(S=_.div.neg()),{div:S,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),h),h!=="div"&&(x=_.mod.neg(),m&&x.negative!==0&&x.isub(o)),{div:_.div,mod:x}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,h)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(o):h.mod,S=o.ushrn(1),x=o.andln(1),_=m.cmp(S);return _<0||x===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(o){var h=o<0;h&&(o=-o),n(o<=67108863);for(var m=(1<<26)%o,S=0,x=this.length-1;x>=0;x--)S=(m*S+(this.words[x]|0))%o;return h?-S:S},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var h=o<0;h&&(o=-o),n(o<=67108863);for(var m=0,S=this.length-1;S>=0;S--){var x=(this.words[S]|0)+m*67108864;this.words[S]=x/o|0,m=x%o}return this._strip(),h?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var h=this,m=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var S=new i(1),x=new i(0),_=new i(0),I=new i(1),y=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++y;for(var a=m.clone(),u=h.clone();!h.isZero();){for(var w=0,k=1;(h.words[0]&k)===0&&w<26;++w,k<<=1);if(w>0)for(h.iushrn(w);w-- >0;)(S.isOdd()||x.isOdd())&&(S.iadd(a),x.isub(u)),S.iushrn(1),x.iushrn(1);for(var L=0,$=1;(m.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(m.iushrn(L);L-- >0;)(_.isOdd()||I.isOdd())&&(_.iadd(a),I.isub(u)),_.iushrn(1),I.iushrn(1);h.cmp(m)>=0?(h.isub(m),S.isub(_),x.isub(I)):(m.isub(h),_.isub(S),I.isub(x))}return{a:_,b:I,gcd:m.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var h=this,m=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var S=new i(1),x=new i(0),_=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,y=1;(h.words[0]&y)===0&&I<26;++I,y<<=1);if(I>0)for(h.iushrn(I);I-- >0;)S.isOdd()&&S.iadd(_),S.iushrn(1);for(var a=0,u=1;(m.words[0]&u)===0&&a<26;++a,u<<=1);if(a>0)for(m.iushrn(a);a-- >0;)x.isOdd()&&x.iadd(_),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),S.isub(x)):(m.isub(h),x.isub(S))}var w;return h.cmpn(1)===0?w=S:w=x,w.cmpn(0)<0&&w.iadd(o),w},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),m=o.clone();h.negative=0,m.negative=0;for(var S=0;h.isEven()&&m.isEven();S++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var _=h;h=m,m=_}else if(x===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(S)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var h=o%26,m=(o-h)/26,S=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=S,this;for(var x=S,_=m;x!==0&&_<this.length;_++){var I=this.words[_]|0;I+=x,x=I>>>26,I&=67108863,this.words[_]=I}return x!==0&&(this.words[_]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(o=-o),n(o<=67108863,"Number is too big");var S=this.words[0]|0;m=S===o?0:S<o?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var S=this.words[m]|0,x=o.words[m]|0;if(S!==x){S<x?h=-1:S>x&&(h=1);break}}return h},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var W={k256:null,p224:null,p192:null,p25519:null};function G(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},G.prototype.ireduce=function(o){var h=o,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var S=m<this.n?-1:h.ucmp(this.p);return S===0?(h.words[0]=0,h.length=1):S>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},G.prototype.split=function(o,h){o.iushrn(this.n,0,h)},G.prototype.imulK=function(o){return o.imul(this.k)};function re(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(re,G),re.prototype.split=function(o,h){for(var m=4194303,S=Math.min(o.length,9),x=0;x<S;x++)h.words[x]=o.words[x];if(h.length=S,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(h.words[h.length++]=_&m,x=10;x<o.length;x++){var I=o.words[x]|0;o.words[x-10]=(I&m)<<4|_>>>22,_=I}_>>>=22,o.words[x-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},re.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,m=0;m<o.length;m++){var S=o.words[m]|0;h+=S*977,o.words[m]=h&67108863,h=S*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ae(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ae,G);function V(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,G);function N(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(N,G),N.prototype.imulK=function(o){for(var h=0,m=0;m<o.length;m++){var S=(o.words[m]|0)*19+h,x=S&67108863;S>>>=26,o.words[m]=x,h=S}return h!==0&&(o.words[o.length++]=h),o},i._prime=function(o){if(W[o])return W[o];var h;if(o==="k256")h=new re;else if(o==="p224")h=new ae;else if(o==="p192")h=new V;else if(o==="p25519")h=new N;else throw new Error("Unknown prime "+o);return W[o]=h,h};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,h){n((o.negative|h.negative)===0,"red works only with positives"),n(o.red&&o.red===h.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(E(o,o.umod(this.m)._forceRed(this)),o)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,h){this._verify2(o,h);var m=o.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},F.prototype.iadd=function(o,h){this._verify2(o,h);var m=o.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},F.prototype.sub=function(o,h){this._verify2(o,h);var m=o.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},F.prototype.isub=function(o,h){this._verify2(o,h);var m=o.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},F.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},F.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},F.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(o,m)}for(var S=this.m.subn(1),x=0;!S.isZero()&&S.andln(1)===0;)x++,S.iushrn(1);n(!S.isZero());var _=new i(1).toRed(this),I=_.redNeg(),y=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,y).cmp(I)!==0;)a.redIAdd(I);for(var u=this.pow(a,S),w=this.pow(o,S.addn(1).iushrn(1)),k=this.pow(o,S),L=x;k.cmp(_)!==0;){for(var $=k,ee=0;$.cmp(_)!==0;ee++)$=$.redSqr();n(ee<L);var ie=this.pow(u,new i(1).iushln(L-ee-1));w=w.redMul(ie),u=ie.redSqr(),k=k.redMul(u),L=ee}return w},F.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},F.prototype.pow=function(o,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var m=4,S=new Array(1<<m);S[0]=new i(1).toRed(this),S[1]=o;for(var x=2;x<S.length;x++)S[x]=this.mul(S[x-1],o);var _=S[0],I=0,y=0,a=h.bitLength()%26;for(a===0&&(a=26),x=h.length-1;x>=0;x--){for(var u=h.words[x],w=a-1;w>=0;w--){var k=u>>w&1;if(_!==S[0]&&(_=this.sqr(_)),k===0&&I===0){y=0;continue}I<<=1,I|=k,y++,!(y!==m&&(x!==0||w!==0))&&(_=this.mul(_,S[I]),y=0,I=0)}a=26}return _},F.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},F.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},i.mont=function(o){return new H(o)};function H(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(H,F),H.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},H.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},H.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var m=o.imul(h),S=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(S).iushrn(this.shift),_=x;return x.cmp(this.m)>=0?_=x.isub(this.m):x.cmpn(0)<0&&(_=x.iadd(this.m)),_._forceRed(this)},H.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new i(0)._forceRed(this);var m=o.mul(h),S=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(S).iushrn(this.shift),_=x;return x.cmp(this.m)>=0?_=x.isub(this.m):x.cmpn(0)<0&&(_=x.iadd(this.m)),_._forceRed(this)},H.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(r,pf)})(hn)),hn.exports}var mf=ha();const mo=is(mf);var fn={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var go;function pa(){return go||(go=1,(function(r,e){var t=ms(),n=t.Buffer;function s(c,d){for(var p in c)d[p]=c[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(s(t,e),e.Buffer=i);function i(c,d,p){return n(c,d,p)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,d,p)},i.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var v=n(c);return d!==void 0?typeof p=="string"?v.fill(d,p):v.fill(d):v.fill(0),v},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}})(fn,fn.exports)),fn.exports}var ki,yo;function gf(){if(yo)return ki;yo=1;var r=pa().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var c=t.charAt(i),d=c.charCodeAt(0);if(n[d]!==255)throw new TypeError(c+" is ambiguous");n[d]=i}var p=t.length,v=t.charAt(0),E=Math.log(p)/Math.log(256),R=Math.log(256)/Math.log(p);function z(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=r.from(M)),!r.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var T=0,J=0,Y=0,Z=M.length;Y!==Z&&M[Y]===0;)Y++,T++;for(var P=(Z-Y)*R+1>>>0,W=new Uint8Array(P);Y!==Z;){for(var G=M[Y],re=0,ae=P-1;(G!==0||re<J)&&ae!==-1;ae--,re++)G+=256*W[ae]>>>0,W[ae]=G%p>>>0,G=G/p>>>0;if(G!==0)throw new Error("Non-zero carry");J=re,Y++}for(var V=P-J;V!==P&&W[V]===0;)V++;for(var N=v.repeat(T);V<P;++V)N+=t.charAt(W[V]);return N}function C(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return r.alloc(0);for(var T=0,J=0,Y=0;M[T]===v;)J++,T++;for(var Z=(M.length-T)*E+1>>>0,P=new Uint8Array(Z);T<M.length;){var W=M.charCodeAt(T);if(W>255)return;var G=n[W];if(G===255)return;for(var re=0,ae=Z-1;(G!==0||re<Y)&&ae!==-1;ae--,re++)G+=p*P[ae]>>>0,P[ae]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");Y=re,T++}for(var V=Z-Y;V!==Z&&P[V]===0;)V++;var N=r.allocUnsafe(J+(Z-V));N.fill(0,0,J);for(var F=J;V!==Z;)N[F++]=P[V++];return N}function q(M){var T=C(M);if(T)return T;throw new Error("Non-base"+p+" character")}return{encode:z,decodeUnsafe:C,decode:q}}return ki=e,ki}var Ii,wo;function yf(){if(wo)return Ii;wo=1;var r=gf(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Ii=r(e),Ii}var wf=yf();const Et=is(wf);var Me={},Bi,vo;function vf(){if(vo)return Bi;vo=1;var r=pa().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var c=t.charAt(i),d=c.charCodeAt(0);if(n[d]!==255)throw new TypeError(c+" is ambiguous");n[d]=i}var p=t.length,v=t.charAt(0),E=Math.log(p)/Math.log(256),R=Math.log(256)/Math.log(p);function z(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=r.from(M)),!r.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var T=0,J=0,Y=0,Z=M.length;Y!==Z&&M[Y]===0;)Y++,T++;for(var P=(Z-Y)*R+1>>>0,W=new Uint8Array(P);Y!==Z;){for(var G=M[Y],re=0,ae=P-1;(G!==0||re<J)&&ae!==-1;ae--,re++)G+=256*W[ae]>>>0,W[ae]=G%p>>>0,G=G/p>>>0;if(G!==0)throw new Error("Non-zero carry");J=re,Y++}for(var V=P-J;V!==P&&W[V]===0;)V++;for(var N=v.repeat(T);V<P;++V)N+=t.charAt(W[V]);return N}function C(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return r.alloc(0);for(var T=0,J=0,Y=0;M[T]===v;)J++,T++;for(var Z=(M.length-T)*E+1>>>0,P=new Uint8Array(Z);T<M.length;){var W=M.charCodeAt(T);if(W>255)return;var G=n[W];if(G===255)return;for(var re=0,ae=Z-1;(G!==0||re<Y)&&ae!==-1;ae--,re++)G+=p*P[ae]>>>0,P[ae]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");Y=re,T++}for(var V=Z-Y;V!==Z&&P[V]===0;)V++;var N=r.allocUnsafe(J+(Z-V));N.fill(0,0,J);for(var F=J;V!==Z;)N[F++]=P[V++];return N}function q(M){var T=C(M);if(T)return T;throw new Error("Non-base"+p+" character")}return{encode:z,decodeUnsafe:C,decode:q}}return Bi=e,Bi}var Mi,bo;function bf(){if(bo)return Mi;bo=1;var r=vf(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Mi=r(e),Mi}function Wt(r,e,t){return e<=r&&r<=t}function $n(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function xf(r){for(var e=String(r),t=e.length,n=0,s=[];n<t;){var i=e.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===t-1)s.push(65533);else{var c=r.charCodeAt(n+1);if(56320<=c&&c<=57343){var d=i&1023,p=c&1023;s.push(65536+(d<<10)+p),n+=1}else s.push(65533)}n+=1}return s}function _f(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Mn=-1;function ws(r){this.tokens=[].slice.call(r)}ws.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Mn},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Br=-1;function Ri(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Rn="utf-8";function Tn(r,e){if(!(this instanceof Tn))return new Tn(r,e);if(r=r!==void 0?String(r).toLowerCase():Rn,r!==Rn)throw new Error("Encoding not supported. Only utf-8 is supported");e=$n(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Tn.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=$n(t),this._streaming||(this._decoder=new Ef({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new ws(n),i=[],c;!s.endOfStream()&&(c=this._decoder.handler(s,s.read()),c!==Br);)c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c));if(!this._streaming){do{if(c=this._decoder.handler(s,s.read()),c===Br)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),_f(i)}};function On(r,e){if(!(this instanceof On))return new On(r,e);if(r=r!==void 0?String(r).toLowerCase():Rn,r!==Rn)throw new Error("Encoding not supported. Only utf-8 is supported");e=$n(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}On.prototype={encode:function(e,t){e=e?String(e):"",t=$n(t),this._streaming||(this._encoder=new Sf(this._options)),this._streaming=!!t.stream;for(var n=[],s=new ws(xf(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Br);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Br;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Ef(r){var e=r.fatal,t=0,n=0,s=0,i=128,c=191;this.handler=function(d,p){if(p===Mn&&s!==0)return s=0,Ri(e);if(p===Mn)return Br;if(s===0){if(Wt(p,0,127))return p;if(Wt(p,194,223))s=1,t=p-192;else if(Wt(p,224,239))p===224&&(i=160),p===237&&(c=159),s=2,t=p-224;else if(Wt(p,240,244))p===240&&(i=144),p===244&&(c=143),s=3,t=p-240;else return Ri(e);return t=t<<6*s,null}if(!Wt(p,i,c))return t=s=n=0,i=128,c=191,d.prepend(p),Ri(e);if(i=128,c=191,n+=1,t+=p-128<<6*(s-n),n!==s)return null;var v=t;return t=s=n=0,v}}function Sf(r){r.fatal,this.handler=function(e,t){if(t===Mn)return Br;if(Wt(t,0,127))return t;var n,s;Wt(t,128,2047)?(n=1,s=192):Wt(t,2048,65535)?(n=2,s=224):Wt(t,65536,1114111)&&(n=3,s=240);for(var i=[(t>>6*n)+s];n>0;){var c=t>>6*(n-1);i.push(128|c&63),n-=1}return i}}const Af=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Tn,TextEncoder:On},Symbol.toStringTag,{value:"Module"})),kf=ns(Af);var xo;function If(){if(xo)return Me;xo=1;var r=Me&&Me.__createBinding||(Object.create?(function(V,N,F,H){H===void 0&&(H=F),Object.defineProperty(V,H,{enumerable:!0,get:function(){return N[F]}})}):(function(V,N,F,H){H===void 0&&(H=F),V[H]=N[F]})),e=Me&&Me.__setModuleDefault||(Object.create?(function(V,N){Object.defineProperty(V,"default",{enumerable:!0,value:N})}):function(V,N){V.default=N}),t=Me&&Me.__decorate||function(V,N,F,H){var b=arguments.length,o=b<3?N:H===null?H=Object.getOwnPropertyDescriptor(N,F):H,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(V,N,F,H);else for(var m=V.length-1;m>=0;m--)(h=V[m])&&(o=(b<3?h(o):b>3?h(N,F,o):h(N,F))||o);return b>3&&o&&Object.defineProperty(N,F,o),o},n=Me&&Me.__importStar||function(V){if(V&&V.__esModule)return V;var N={};if(V!=null)for(var F in V)F!=="default"&&Object.hasOwnProperty.call(V,F)&&r(N,V,F);return e(N,V),N},s=Me&&Me.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.deserializeUnchecked=Me.deserialize=Me.serialize=Me.BinaryReader=Me.BinaryWriter=Me.BorshError=Me.baseDecode=Me.baseEncode=void 0;const i=s(ha()),c=s(bf()),d=n(kf),p=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,v=new p("utf-8",{fatal:!0});function E(V){return typeof V=="string"&&(V=Buffer.from(V,"utf8")),c.default.encode(Buffer.from(V))}Me.baseEncode=E;function R(V){return Buffer.from(c.default.decode(V))}Me.baseDecode=R;const z=1024;class C extends Error{constructor(N){super(N),this.fieldPath=[],this.originalMessage=N}addToFieldPath(N){this.fieldPath.splice(0,0,N),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Me.BorshError=C;class q{constructor(){this.buf=Buffer.alloc(z),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(z)]))}writeU8(N){this.maybeResize(),this.buf.writeUInt8(N,this.length),this.length+=1}writeU16(N){this.maybeResize(),this.buf.writeUInt16LE(N,this.length),this.length+=2}writeU32(N){this.maybeResize(),this.buf.writeUInt32LE(N,this.length),this.length+=4}writeU64(N){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(N).toArray("le",8)))}writeU128(N){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(N).toArray("le",16)))}writeU256(N){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(N).toArray("le",32)))}writeU512(N){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(N).toArray("le",64)))}writeBuffer(N){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),N,Buffer.alloc(z)]),this.length+=N.length}writeString(N){this.maybeResize();const F=Buffer.from(N,"utf8");this.writeU32(F.length),this.writeBuffer(F)}writeFixedArray(N){this.writeBuffer(Buffer.from(N))}writeArray(N,F){this.maybeResize(),this.writeU32(N.length);for(const H of N)this.maybeResize(),F(H)}toArray(){return this.buf.subarray(0,this.length)}}Me.BinaryWriter=q;function M(V,N,F){const H=F.value;F.value=function(...b){try{return H.apply(this,b)}catch(o){if(o instanceof RangeError){const h=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new C("Reached the end of buffer when deserializing")}throw o}}}class T{constructor(N){this.buf=N,this.offset=0}readU8(){const N=this.buf.readUInt8(this.offset);return this.offset+=1,N}readU16(){const N=this.buf.readUInt16LE(this.offset);return this.offset+=2,N}readU32(){const N=this.buf.readUInt32LE(this.offset);return this.offset+=4,N}readU64(){const N=this.readBuffer(8);return new i.default(N,"le")}readU128(){const N=this.readBuffer(16);return new i.default(N,"le")}readU256(){const N=this.readBuffer(32);return new i.default(N,"le")}readU512(){const N=this.readBuffer(64);return new i.default(N,"le")}readBuffer(N){if(this.offset+N>this.buf.length)throw new C(`Expected buffer length ${N} isn't within bounds`);const F=this.buf.slice(this.offset,this.offset+N);return this.offset+=N,F}readString(){const N=this.readU32(),F=this.readBuffer(N);try{return v.decode(F)}catch(H){throw new C(`Error decoding UTF-8 string: ${H}`)}}readFixedArray(N){return new Uint8Array(this.readBuffer(N))}readArray(N){const F=this.readU32(),H=Array();for(let b=0;b<F;++b)H.push(N());return H}}t([M],T.prototype,"readU8",null),t([M],T.prototype,"readU16",null),t([M],T.prototype,"readU32",null),t([M],T.prototype,"readU64",null),t([M],T.prototype,"readU128",null),t([M],T.prototype,"readU256",null),t([M],T.prototype,"readU512",null),t([M],T.prototype,"readString",null),t([M],T.prototype,"readFixedArray",null),t([M],T.prototype,"readArray",null),Me.BinaryReader=T;function J(V){return V.charAt(0).toUpperCase()+V.slice(1)}function Y(V,N,F,H,b){try{if(typeof H=="string")b[`write${J(H)}`](F);else if(H instanceof Array)if(typeof H[0]=="number"){if(F.length!==H[0])throw new C(`Expecting byte array of length ${H[0]}, but got ${F.length} bytes`);b.writeFixedArray(F)}else if(H.length===2&&typeof H[1]=="number"){if(F.length!==H[1])throw new C(`Expecting byte array of length ${H[1]}, but got ${F.length} bytes`);for(let o=0;o<H[1];o++)Y(V,null,F[o],H[0],b)}else b.writeArray(F,o=>{Y(V,N,o,H[0],b)});else if(H.kind!==void 0)switch(H.kind){case"option":{F==null?b.writeU8(0):(b.writeU8(1),Y(V,N,F,H.type,b));break}case"map":{b.writeU32(F.size),F.forEach((o,h)=>{Y(V,N,h,H.key,b),Y(V,N,o,H.value,b)});break}default:throw new C(`FieldType ${H} unrecognized`)}else Z(V,F,b)}catch(o){throw o instanceof C&&o.addToFieldPath(N),o}}function Z(V,N,F){if(typeof N.borshSerialize=="function"){N.borshSerialize(F);return}const H=V.get(N.constructor);if(!H)throw new C(`Class ${N.constructor.name} is missing in schema`);if(H.kind==="struct")H.fields.map(([b,o])=>{Y(V,b,N[b],o,F)});else if(H.kind==="enum"){const b=N[H.field];for(let o=0;o<H.values.length;++o){const[h,m]=H.values[o];if(h===b){F.writeU8(o),Y(V,h,N[h],m,F);break}}}else throw new C(`Unexpected schema kind: ${H.kind} for ${N.constructor.name}`)}function P(V,N,F=q){const H=new F;return Z(V,N,H),H.toArray()}Me.serialize=P;function W(V,N,F,H){try{if(typeof F=="string")return H[`read${J(F)}`]();if(F instanceof Array){if(typeof F[0]=="number")return H.readFixedArray(F[0]);if(typeof F[1]=="number"){const b=[];for(let o=0;o<F[1];o++)b.push(W(V,null,F[0],H));return b}else return H.readArray(()=>W(V,N,F[0],H))}if(F.kind==="option")return H.readU8()?W(V,N,F.type,H):void 0;if(F.kind==="map"){let b=new Map;const o=H.readU32();for(let h=0;h<o;h++){const m=W(V,N,F.key,H),S=W(V,N,F.value,H);b.set(m,S)}return b}return G(V,F,H)}catch(b){throw b instanceof C&&b.addToFieldPath(N),b}}function G(V,N,F){if(typeof N.borshDeserialize=="function")return N.borshDeserialize(F);const H=V.get(N);if(!H)throw new C(`Class ${N.name} is missing in schema`);if(H.kind==="struct"){const b={};for(const[o,h]of V.get(N).fields)b[o]=W(V,o,h,F);return new N(b)}if(H.kind==="enum"){const b=F.readU8();if(b>=H.values.length)throw new C(`Enum index: ${b} is out of range`);const[o,h]=H.values[b],m=W(V,o,h,F);return new N({[o]:m})}throw new C(`Unexpected schema kind: ${H.kind} for ${N.constructor.name}`)}function re(V,N,F,H=T){const b=new H(F),o=G(V,N,b);if(b.offset<F.length)throw new C(`Unexpected ${F.length-b.offset} bytes after deserialized data`);return o}Me.deserialize=re;function ae(V,N,F,H=T){const b=new H(F);return G(V,N,b)}return Me.deserializeUnchecked=ae,Me}var Ti=If(),j={},_o;function Bf(){if(_o)return j;_o=1,Object.defineProperty(j,"__esModule",{value:!0}),j.s16=j.s8=j.nu64be=j.u48be=j.u40be=j.u32be=j.u24be=j.u16be=j.nu64=j.u48=j.u40=j.u32=j.u24=j.u16=j.u8=j.offset=j.greedy=j.Constant=j.UTF8=j.CString=j.Blob=j.Boolean=j.BitField=j.BitStructure=j.VariantLayout=j.Union=j.UnionLayoutDiscriminator=j.UnionDiscriminator=j.Structure=j.Sequence=j.DoubleBE=j.Double=j.FloatBE=j.Float=j.NearInt64BE=j.NearInt64=j.NearUInt64BE=j.NearUInt64=j.IntBE=j.Int=j.UIntBE=j.UInt=j.OffsetLayout=j.GreedyCount=j.ExternalLayout=j.bindConstructorLayout=j.nameWithProperty=j.Layout=j.uint8ArrayToBuffer=j.checkUint8Array=void 0,j.constant=j.utf8=j.cstr=j.blob=j.unionLayoutDiscriminator=j.union=j.seq=j.bits=j.struct=j.f64be=j.f64=j.f32be=j.f32=j.ns64be=j.s48be=j.s40be=j.s32be=j.s24be=j.s16be=j.ns64=j.s48=j.s40=j.s32=j.s24=void 0;const r=ms();function e(a){if(!(a instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}j.checkUint8Array=e;function t(a){return e(a),r.Buffer.from(a.buffer,a.byteOffset,a.length)}j.uint8ArrayToBuffer=t;let n=class{constructor(u,w){if(!Number.isInteger(u))throw new TypeError("span must be an integer");this.span=u,this.property=w}makeDestinationObject(){return{}}getSpan(u,w){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(u){const w=Object.create(this.constructor.prototype);return Object.assign(w,this),w.property=u,w}fromArray(u){}};j.Layout=n;function s(a,u){return u.property?a+"["+u.property+"]":a}j.nameWithProperty=s;function i(a,u){if(typeof a!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(a,"layout_"))throw new Error("Class is already bound to a layout");if(!(u&&u instanceof n))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(u,"boundConstructor_"))throw new Error("layout is already bound to a constructor");a.layout_=u,u.boundConstructor_=a,u.makeDestinationObject=(()=>new a),Object.defineProperty(a.prototype,"encode",{value(w,k){return u.encode(this,w,k)},writable:!0}),Object.defineProperty(a,"decode",{value(w,k){return u.decode(w,k)},writable:!0})}j.bindConstructorLayout=i;class c extends n{isCount(){throw new Error("ExternalLayout is abstract")}}j.ExternalLayout=c;class d extends c{constructor(u=1,w){if(!Number.isInteger(u)||0>=u)throw new TypeError("elementSpan must be a (positive) integer");super(-1,w),this.elementSpan=u}isCount(){return!0}decode(u,w=0){e(u);const k=u.length-w;return Math.floor(k/this.elementSpan)}encode(u,w,k){return 0}}j.GreedyCount=d;class p extends c{constructor(u,w=0,k){if(!(u instanceof n))throw new TypeError("layout must be a Layout");if(!Number.isInteger(w))throw new TypeError("offset must be integer or undefined");super(u.span,k||u.property),this.layout=u,this.offset=w}isCount(){return this.layout instanceof v||this.layout instanceof E}decode(u,w=0){return this.layout.decode(u,w+this.offset)}encode(u,w,k=0){return this.layout.encode(u,w,k+this.offset)}}j.OffsetLayout=p;class v extends n{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return t(u).readUIntLE(w,this.span)}encode(u,w,k=0){return t(w).writeUIntLE(u,k,this.span),this.span}}j.UInt=v;class E extends n{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return t(u).readUIntBE(w,this.span)}encode(u,w,k=0){return t(w).writeUIntBE(u,k,this.span),this.span}}j.UIntBE=E;class R extends n{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return t(u).readIntLE(w,this.span)}encode(u,w,k=0){return t(w).writeIntLE(u,k,this.span),this.span}}j.Int=R;class z extends n{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return t(u).readIntBE(w,this.span)}encode(u,w,k=0){return t(w).writeIntBE(u,k,this.span),this.span}}j.IntBE=z;const C=Math.pow(2,32);function q(a){const u=Math.floor(a/C),w=a-u*C;return{hi32:u,lo32:w}}function M(a,u){return a*C+u}class T extends n{constructor(u){super(8,u)}decode(u,w=0){const k=t(u),L=k.readUInt32LE(w),$=k.readUInt32LE(w+4);return M($,L)}encode(u,w,k=0){const L=q(u),$=t(w);return $.writeUInt32LE(L.lo32,k),$.writeUInt32LE(L.hi32,k+4),8}}j.NearUInt64=T;class J extends n{constructor(u){super(8,u)}decode(u,w=0){const k=t(u),L=k.readUInt32BE(w),$=k.readUInt32BE(w+4);return M(L,$)}encode(u,w,k=0){const L=q(u),$=t(w);return $.writeUInt32BE(L.hi32,k),$.writeUInt32BE(L.lo32,k+4),8}}j.NearUInt64BE=J;class Y extends n{constructor(u){super(8,u)}decode(u,w=0){const k=t(u),L=k.readUInt32LE(w),$=k.readInt32LE(w+4);return M($,L)}encode(u,w,k=0){const L=q(u),$=t(w);return $.writeUInt32LE(L.lo32,k),$.writeInt32LE(L.hi32,k+4),8}}j.NearInt64=Y;class Z extends n{constructor(u){super(8,u)}decode(u,w=0){const k=t(u),L=k.readInt32BE(w),$=k.readUInt32BE(w+4);return M(L,$)}encode(u,w,k=0){const L=q(u),$=t(w);return $.writeInt32BE(L.hi32,k),$.writeUInt32BE(L.lo32,k+4),8}}j.NearInt64BE=Z;class P extends n{constructor(u){super(4,u)}decode(u,w=0){return t(u).readFloatLE(w)}encode(u,w,k=0){return t(w).writeFloatLE(u,k),4}}j.Float=P;class W extends n{constructor(u){super(4,u)}decode(u,w=0){return t(u).readFloatBE(w)}encode(u,w,k=0){return t(w).writeFloatBE(u,k),4}}j.FloatBE=W;class G extends n{constructor(u){super(8,u)}decode(u,w=0){return t(u).readDoubleLE(w)}encode(u,w,k=0){return t(w).writeDoubleLE(u,k),8}}j.Double=G;class re extends n{constructor(u){super(8,u)}decode(u,w=0){return t(u).readDoubleBE(w)}encode(u,w,k=0){return t(w).writeDoubleBE(u,k),8}}j.DoubleBE=re;class ae extends n{constructor(u,w,k){if(!(u instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(w instanceof c&&w.isCount()||Number.isInteger(w)&&0<=w))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let L=-1;!(w instanceof c)&&0<u.span&&(L=w*u.span),super(L,k),this.elementLayout=u,this.count=w}getSpan(u,w=0){if(0<=this.span)return this.span;let k=0,L=this.count;if(L instanceof c&&(L=L.decode(u,w)),0<this.elementLayout.span)k=L*this.elementLayout.span;else{let $=0;for(;$<L;)k+=this.elementLayout.getSpan(u,w+k),++$}return k}decode(u,w=0){const k=[];let L=0,$=this.count;for($ instanceof c&&($=$.decode(u,w));L<$;)k.push(this.elementLayout.decode(u,w)),w+=this.elementLayout.getSpan(u,w),L+=1;return k}encode(u,w,k=0){const L=this.elementLayout,$=u.reduce((ee,ie)=>ee+L.encode(ie,w,k+ee),0);return this.count instanceof c&&this.count.encode(u.length,w,k),$}}j.Sequence=ae;class V extends n{constructor(u,w,k){if(!(Array.isArray(u)&&u.reduce(($,ee)=>$&&ee instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof w=="boolean"&&k===void 0&&(k=w,w=void 0);for(const $ of u)if(0>$.span&&$.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let L=-1;try{L=u.reduce(($,ee)=>$+ee.getSpan(),0)}catch{}super(L,w),this.fields=u,this.decodePrefixes=!!k}getSpan(u,w=0){if(0<=this.span)return this.span;let k=0;try{k=this.fields.reduce((L,$)=>{const ee=$.getSpan(u,w);return w+=ee,L+ee},0)}catch{throw new RangeError("indeterminate span")}return k}decode(u,w=0){e(u);const k=this.makeDestinationObject();for(const L of this.fields)if(L.property!==void 0&&(k[L.property]=L.decode(u,w)),w+=L.getSpan(u,w),this.decodePrefixes&&u.length===w)break;return k}encode(u,w,k=0){const L=k;let $=0,ee=0;for(const ie of this.fields){let Be=ie.span;if(ee=0<Be?Be:0,ie.property!==void 0){const ve=u[ie.property];ve!==void 0&&(ee=ie.encode(ve,w,k),0>Be&&(Be=ie.getSpan(w,k)))}$=k,k+=Be}return $+ee-L}fromArray(u){const w=this.makeDestinationObject();for(const k of this.fields)k.property!==void 0&&0<u.length&&(w[k.property]=u.shift());return w}layoutFor(u){if(typeof u!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===u)return w}offsetOf(u){if(typeof u!="string")throw new TypeError("property must be string");let w=0;for(const k of this.fields){if(k.property===u)return w;0>k.span?w=-1:0<=w&&(w+=k.span)}}}j.Structure=V;class N{constructor(u){this.property=u}decode(u,w){throw new Error("UnionDiscriminator is abstract")}encode(u,w,k){throw new Error("UnionDiscriminator is abstract")}}j.UnionDiscriminator=N;class F extends N{constructor(u,w){if(!(u instanceof c&&u.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(w||u.property||"variant"),this.layout=u}decode(u,w){return this.layout.decode(u,w)}encode(u,w,k){return this.layout.encode(u,w,k)}}j.UnionLayoutDiscriminator=F;class H extends n{constructor(u,w,k){let L;if(u instanceof v||u instanceof E)L=new F(new p(u));else if(u instanceof c&&u.isCount())L=new F(u);else if(u instanceof N)L=u;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(w===void 0&&(w=null),!(w===null||w instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(w!==null){if(0>w.span)throw new Error("defaultLayout must have constant span");w.property===void 0&&(w=w.replicate("content"))}let $=-1;w&&($=w.span,0<=$&&(u instanceof v||u instanceof E)&&($+=L.layout.span)),super($,k),this.discriminator=L,this.usesPrefixDiscriminator=u instanceof v||u instanceof E,this.defaultLayout=w,this.registry={};let ee=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ie){return ee(ie)},this.configGetSourceVariant=function(ie){ee=ie.bind(this)}}getSpan(u,w=0){if(0<=this.span)return this.span;const k=this.getVariant(u,w);if(!k)throw new Error("unable to determine span for unrecognized variant");return k.getSpan(u,w)}defaultGetSourceVariant(u){if(Object.prototype.hasOwnProperty.call(u,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(u,this.defaultLayout.property))return;const w=this.registry[u[this.discriminator.property]];if(w&&(!w.layout||w.property&&Object.prototype.hasOwnProperty.call(u,w.property)))return w}else for(const w in this.registry){const k=this.registry[w];if(k.property&&Object.prototype.hasOwnProperty.call(u,k.property))return k}throw new Error("unable to infer src variant")}decode(u,w=0){let k;const L=this.discriminator,$=L.decode(u,w),ee=this.registry[$];if(ee===void 0){const ie=this.defaultLayout;let Be=0;this.usesPrefixDiscriminator&&(Be=L.layout.span),k=this.makeDestinationObject(),k[L.property]=$,k[ie.property]=ie.decode(u,w+Be)}else k=ee.decode(u,w);return k}encode(u,w,k=0){const L=this.getSourceVariant(u);if(L===void 0){const $=this.discriminator,ee=this.defaultLayout;let ie=0;return this.usesPrefixDiscriminator&&(ie=$.layout.span),$.encode(u[$.property],w,k),ie+ee.encode(u[ee.property],w,k+ie)}return L.encode(u,w,k)}addVariant(u,w,k){const L=new b(this,u,w,k);return this.registry[u]=L,L}getVariant(u,w=0){let k;return u instanceof Uint8Array?k=this.discriminator.decode(u,w):k=u,this.registry[k]}}j.Union=H;class b extends n{constructor(u,w,k,L){if(!(u instanceof H))throw new TypeError("union must be a Union");if(!Number.isInteger(w)||0>w)throw new TypeError("variant must be a (non-negative) integer");if(typeof k=="string"&&L===void 0&&(L=k,k=null),k){if(!(k instanceof n))throw new TypeError("layout must be a Layout");if(u.defaultLayout!==null&&0<=k.span&&k.span>u.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof L!="string")throw new TypeError("variant must have a String property")}let $=u.span;0>u.span&&($=k?k.span:0,0<=$&&u.usesPrefixDiscriminator&&($+=u.discriminator.layout.span)),super($,L),this.union=u,this.variant=w,this.layout=k||null}getSpan(u,w=0){if(0<=this.span)return this.span;let k=0;this.union.usesPrefixDiscriminator&&(k=this.union.discriminator.layout.span);let L=0;return this.layout&&(L=this.layout.getSpan(u,w+k)),k+L}decode(u,w=0){const k=this.makeDestinationObject();if(this!==this.union.getVariant(u,w))throw new Error("variant mismatch");let L=0;return this.union.usesPrefixDiscriminator&&(L=this.union.discriminator.layout.span),this.layout?k[this.property]=this.layout.decode(u,w+L):this.property?k[this.property]=!0:this.union.usesPrefixDiscriminator&&(k[this.union.discriminator.property]=this.variant),k}encode(u,w,k=0){let L=0;if(this.union.usesPrefixDiscriminator&&(L=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(u,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,w,k);let $=L;if(this.layout&&(this.layout.encode(u[this.property],w,k+L),$+=this.layout.getSpan(w,k+L),0<=this.union.span&&$>this.union.span))throw new Error("encoded variant overruns containing union");return $}fromArray(u){if(this.layout)return this.layout.fromArray(u)}}j.VariantLayout=b;function o(a){return 0>a&&(a+=4294967296),a}class h extends n{constructor(u,w,k){if(!(u instanceof v||u instanceof E))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof w=="string"&&k===void 0&&(k=w,w=!1),4<u.span)throw new RangeError("word cannot exceed 32 bits");super(u.span,k),this.word=u,this.msb=!!w,this.fields=[];let L=0;this._packedSetValue=function($){return L=o($),this},this._packedGetValue=function(){return L}}decode(u,w=0){const k=this.makeDestinationObject(),L=this.word.decode(u,w);this._packedSetValue(L);for(const $ of this.fields)$.property!==void 0&&(k[$.property]=$.decode(u));return k}encode(u,w,k=0){const L=this.word.decode(w,k);this._packedSetValue(L);for(const $ of this.fields)if($.property!==void 0){const ee=u[$.property];ee!==void 0&&$.encode(ee)}return this.word.encode(this._packedGetValue(),w,k)}addField(u,w){const k=new m(this,u,w);return this.fields.push(k),k}addBoolean(u){const w=new S(this,u);return this.fields.push(w),w}fieldFor(u){if(typeof u!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===u)return w}}j.BitStructure=h;class m{constructor(u,w,k){if(!(u instanceof h))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(w)||0>=w)throw new TypeError("bits must be positive integer");const L=8*u.span,$=u.fields.reduce((ee,ie)=>ee+ie.bits,0);if(w+$>L)throw new Error("bits too long for span remainder ("+(L-$)+" of "+L+" remain)");this.container=u,this.bits=w,this.valueMask=(1<<w)-1,w===32&&(this.valueMask=4294967295),this.start=$,this.container.msb&&(this.start=L-$-w),this.wordMask=o(this.valueMask<<this.start),this.property=k}decode(u,w){const k=this.container._packedGetValue();return o(k&this.wordMask)>>>this.start}encode(u){if(typeof u!="number"||!Number.isInteger(u)||u!==o(u&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const w=this.container._packedGetValue(),k=o(u<<this.start);this.container._packedSetValue(o(w&~this.wordMask)|k)}}j.BitField=m;class S extends m{constructor(u,w){super(u,1,w)}decode(u,w){return!!super.decode(u,w)}encode(u){typeof u=="boolean"&&(u=+u),super.encode(u)}}j.Boolean=S;class x extends n{constructor(u,w){if(!(u instanceof c&&u.isCount()||Number.isInteger(u)&&0<=u))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let k=-1;u instanceof c||(k=u),super(k,w),this.length=u}getSpan(u,w){let k=this.span;return 0>k&&(k=this.length.decode(u,w)),k}decode(u,w=0){let k=this.span;return 0>k&&(k=this.length.decode(u,w)),t(u).slice(w,w+k)}encode(u,w,k){let L=this.length;if(this.length instanceof c&&(L=u.length),!(u instanceof Uint8Array&&L===u.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+L+") Uint8Array as src");if(k+L>w.length)throw new RangeError("encoding overruns Uint8Array");const $=t(u);return t(w).write($.toString("hex"),k,L,"hex"),this.length instanceof c&&this.length.encode(L,w,k),L}}j.Blob=x;class _ extends n{constructor(u){super(-1,u)}getSpan(u,w=0){e(u);let k=w;for(;k<u.length&&u[k]!==0;)k+=1;return 1+k-w}decode(u,w=0){const k=this.getSpan(u,w);return t(u).slice(w,w+k-1).toString("utf-8")}encode(u,w,k=0){typeof u!="string"&&(u=String(u));const L=r.Buffer.from(u,"utf8"),$=L.length;if(k+$>w.length)throw new RangeError("encoding overruns Buffer");const ee=t(w);return L.copy(ee,k),ee[k+$]=0,$+1}}j.CString=_;class I extends n{constructor(u,w){if(typeof u=="string"&&w===void 0&&(w=u,u=void 0),u===void 0)u=-1;else if(!Number.isInteger(u))throw new TypeError("maxSpan must be an integer");super(-1,w),this.maxSpan=u}getSpan(u,w=0){return e(u),u.length-w}decode(u,w=0){const k=this.getSpan(u,w);if(0<=this.maxSpan&&this.maxSpan<k)throw new RangeError("text length exceeds maxSpan");return t(u).slice(w,w+k).toString("utf-8")}encode(u,w,k=0){typeof u!="string"&&(u=String(u));const L=r.Buffer.from(u,"utf8"),$=L.length;if(0<=this.maxSpan&&this.maxSpan<$)throw new RangeError("text length exceeds maxSpan");if(k+$>w.length)throw new RangeError("encoding overruns Buffer");return L.copy(t(w),k),$}}j.UTF8=I;class y extends n{constructor(u,w){super(0,w),this.value=u}decode(u,w){return this.value}encode(u,w,k){return 0}}return j.Constant=y,j.greedy=((a,u)=>new d(a,u)),j.offset=((a,u,w)=>new p(a,u,w)),j.u8=(a=>new v(1,a)),j.u16=(a=>new v(2,a)),j.u24=(a=>new v(3,a)),j.u32=(a=>new v(4,a)),j.u40=(a=>new v(5,a)),j.u48=(a=>new v(6,a)),j.nu64=(a=>new T(a)),j.u16be=(a=>new E(2,a)),j.u24be=(a=>new E(3,a)),j.u32be=(a=>new E(4,a)),j.u40be=(a=>new E(5,a)),j.u48be=(a=>new E(6,a)),j.nu64be=(a=>new J(a)),j.s8=(a=>new R(1,a)),j.s16=(a=>new R(2,a)),j.s24=(a=>new R(3,a)),j.s32=(a=>new R(4,a)),j.s40=(a=>new R(5,a)),j.s48=(a=>new R(6,a)),j.ns64=(a=>new Y(a)),j.s16be=(a=>new z(2,a)),j.s24be=(a=>new z(3,a)),j.s32be=(a=>new z(4,a)),j.s40be=(a=>new z(5,a)),j.s48be=(a=>new z(6,a)),j.ns64be=(a=>new Z(a)),j.f32=(a=>new P(a)),j.f32be=(a=>new W(a)),j.f64=(a=>new G(a)),j.f64be=(a=>new re(a)),j.struct=((a,u,w)=>new V(a,u,w)),j.bits=((a,u,w)=>new h(a,u,w)),j.seq=((a,u,w)=>new ae(a,u,w)),j.union=((a,u,w)=>new H(a,u,w)),j.unionLayoutDiscriminator=((a,u)=>new F(a,u)),j.blob=((a,u)=>new x(a,u)),j.cstr=(a=>new _(a)),j.utf8=((a,u)=>new I(a,u)),j.constant=((a,u)=>new y(a,u)),j}var B=Bf(),Mf=8078e3,Rf=8078001,Tf=8078004,Of=8078005,Lf=8078006,Cf=8078011;function ma(r){return Array.isArray(r)?"%5B"+r.map(ma).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function Nf([r,e]){return`${r}=${ma(e)}`}function Uf(r){const e=Object.entries(r).map(Nf).join("&");return btoa(e)}function Ff(r,e={}){{let t=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(t+=` '${Uf(e)}'`),`${t}\``}}var _r=class extends Error{cause=this.cause;context;constructor(...[r,e]){let t,n;if(e){const{cause:i,...c}=e;i&&(n={cause:i}),Object.keys(c).length>0&&(t=c)}const s=Ff(r,t);super(s,n),this.context={__code:r,...t},this.name="SolanaError"}};function Pf(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function zf(r){return Object.freeze({...r,encode:e=>{const t=new Uint8Array(Pf(e,r));return r.write(e,t,0),t}})}function Df(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}function wr(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function jf(r,e){if(wr(r)!==wr(e))throw new _r(Tf);if(wr(r)&&wr(e)&&r.fixedSize!==e.fixedSize)throw new _r(Of,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!wr(r)&&!wr(e)&&r.maxSize!==e.maxSize)throw new _r(Lf,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function qf(r,e,t=0){if(e.length-t<=0)throw new _r(Mf,{codecDescription:r})}function $f(r,e,t,n=0){const s=t.length-n;if(s<e)throw new _r(Rf,{bytesLength:s,codecDescription:r,expected:e})}function Zf(r,e,t,n){if(n<e||n>t)throw new _r(Cf,{codecDescription:r,max:t,min:e,value:n})}function ga(r){return r?.endian!==1}function Vf(r){return zf({fixedSize:r.size,write(e,t,n){r.range&&Zf(r.name,r.range[0],r.range[1],e);const s=new ArrayBuffer(r.size);return r.set(new DataView(s),e,ga(r.config)),t.set(new Uint8Array(s),n),n+r.size}})}function Kf(r){return Df({fixedSize:r.size,read(e,t=0){qf(r.name,e,t),$f(r.name,r.size,e,t);const n=new DataView(Wf(e,t,r.size));return[r.get(n,ga(r.config)),t+r.size]}})}function Wf(r,e,t){const n=r.byteOffset+(e??0),s=t??r.byteLength;return r.buffer.slice(n,n+s)}var Hf=(r={})=>Vf({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Jf=(r={})=>Kf({config:r,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),Gf=(r={})=>jf(Hf(r),Jf(r));class Yf extends TypeError{constructor(e,t){let n;const{message:s,explanation:i,...c}=e,{path:d}=e,p=d.length===0?s:`At path: ${d.join(".")} -- ${s}`;super(i??p),i!=null&&(this.cause=p),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Xf(r){return sn(r)&&typeof r[Symbol.iterator]=="function"}function sn(r){return typeof r=="object"&&r!=null}function Ln(r){return sn(r)&&!Array.isArray(r)}function Ut(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function Qf(r){const{done:e,value:t}=r.next();return e?void 0:t}function el(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=e,{type:c}=t,{refinement:d,message:p=`Expected a value of type \`${c}\`${d?` with refinement \`${d}\``:""}, but received: \`${Ut(n)}\``}=r;return{value:n,type:c,refinement:d,key:s[s.length-1],path:s,branch:i,...r,message:p}}function*Eo(r,e,t,n){Xf(r)||(r=[r]);for(const s of r){const i=el(s,e,t,n);i&&(yield i)}}function*vs(r,e,t={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:c=!1}=t,d={path:n,branch:s,mask:c};i&&(r=e.coercer(r,d));let p="valid";for(const v of e.validator(r,d))v.explanation=t.message,p="not_valid",yield[v,void 0];for(let[v,E,R]of e.entries(r,d)){const z=vs(E,R,{path:v===void 0?n:[...n,v],branch:v===void 0?s:[...s,E],coerce:i,mask:c,message:t.message});for(const C of z)C[0]?(p=C[0].refinement!=null?"not_refined":"not_valid",yield[C[0],void 0]):i&&(E=C[1],v===void 0?r=E:r instanceof Map?r.set(v,E):r instanceof Set?r.add(E):sn(r)&&(E!==void 0||v in r)&&(r[v]=E))}if(p!=="not_valid")for(const v of e.refiner(r,d))v.explanation=t.message,p="not_refined",yield[v,void 0];p==="valid"&&(yield[void 0,r])}let qt=class{constructor(e){const{type:t,schema:n,validator:s,refiner:i,coercer:c=p=>p,entries:d=function*(){}}=e;this.type=t,this.schema=n,this.entries=d,this.coercer=c,s?this.validator=(p,v)=>{const E=s(p,v);return Eo(E,v,this,p)}:this.validator=()=>[],i?this.refiner=(p,v)=>{const E=i(p,v);return Eo(E,v,this,p)}:this.refiner=()=>[]}assert(e,t){return tl(e,this,t)}create(e,t){return jr(e,this,t)}is(e){return ya(e,this)}mask(e,t){return rl(e,this,t)}validate(e,t={}){return on(e,this,t)}};function tl(r,e,t){const n=on(r,e,{message:t});if(n[0])throw n[0]}function jr(r,e,t){const n=on(r,e,{coerce:!0,message:t});if(n[0])throw n[0];return n[1]}function rl(r,e,t){const n=on(r,e,{coerce:!0,mask:!0,message:t});if(n[0])throw n[0];return n[1]}function ya(r,e){return!on(r,e)[0]}function on(r,e,t={}){const n=vs(r,e,t),s=Qf(n);return s[0]?[new Yf(s[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,s[1]]}function hr(r,e){return new qt({type:r,schema:null,validator:e})}function nl(){return hr("any",()=>!0)}function se(r){return new qt({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ut(e)}`}})}function jt(){return hr("boolean",r=>typeof r=="boolean")}function bs(r){return hr("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${Ut(e)}`)}function ze(r){const e=Ut(r),t=typeof r;return new qt({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${e}\`, but received: ${Ut(n)}`}})}function il(){return hr("never",()=>!1)}function oe(r){return new qt({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function D(){return hr("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${Ut(r)}`)}function fe(r){return new qt({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function wa(r,e){return new qt({type:"record",schema:null,*entries(t){if(sn(t))for(const n in t){const s=t[n];yield[n,n,r],yield[n,s,e]}},validator(t){return Ln(t)||`Expected an object, but received: ${Ut(t)}`},coercer(t){return Ln(t)?{...t}:t}})}function te(){return hr("string",r=>typeof r=="string"||`Expected a string, but received: ${Ut(r)}`)}function xs(r){const e=il();return new qt({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let s=0;s<n;s++)yield[s,t[s],r[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Ut(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function X(r){const e=Object.keys(r);return new qt({type:"type",schema:r,*entries(t){if(sn(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return Ln(t)||`Expected an object, but received: ${Ut(t)}`},coercer(t){return Ln(t)?{...t}:t}})}function St(r){const e=r.map(t=>t.type).join(" | ");return new qt({type:"union",schema:null,coercer(t,n){for(const s of r){const[i,c]=s.validate(t,{coerce:!0,mask:n.mask});if(!i)return c}return t},validator(t,n){const s=[];for(const i of r){const[...c]=vs(t,i,n),[d]=c;if(d[0])for(const[p]of c)p&&s.push(p);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ut(t)}`,...s]}})}function Cr(){return hr("unknown",()=>!0)}function an(r,e,t){return new qt({...r,coercer:(n,s)=>ya(n,e)?r.coercer(t(n,s),s):r.coercer(n,s)})}var ln,sl=new Uint8Array(16);function va(){if(!ln&&(ln=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ln))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ln(sl)}const ol=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zn(r){return typeof r=="string"&&ol.test(r)}var dt=[];for(var Oi=0;Oi<256;++Oi)dt.push((Oi+256).toString(16).substr(1));function Vn(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(dt[r[e+0]]+dt[r[e+1]]+dt[r[e+2]]+dt[r[e+3]]+"-"+dt[r[e+4]]+dt[r[e+5]]+"-"+dt[r[e+6]]+dt[r[e+7]]+"-"+dt[r[e+8]]+dt[r[e+9]]+"-"+dt[r[e+10]]+dt[r[e+11]]+dt[r[e+12]]+dt[r[e+13]]+dt[r[e+14]]+dt[r[e+15]]).toLowerCase();if(!Zn(t))throw TypeError("Stringified UUID is invalid");return t}var So,Li,Ci=0,Ni=0;function al(r,e,t){var n=e&&t||0,s=e||new Array(16);r=r||{};var i=r.node||So,c=r.clockseq!==void 0?r.clockseq:Li;if(i==null||c==null){var d=r.random||(r.rng||va)();i==null&&(i=So=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),c==null&&(c=Li=(d[6]<<8|d[7])&16383)}var p=r.msecs!==void 0?r.msecs:Date.now(),v=r.nsecs!==void 0?r.nsecs:Ni+1,E=p-Ci+(v-Ni)/1e4;if(E<0&&r.clockseq===void 0&&(c=c+1&16383),(E<0||p>Ci)&&r.nsecs===void 0&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ci=p,Ni=v,Li=c,p+=122192928e5;var R=((p&268435455)*1e4+v)%4294967296;s[n++]=R>>>24&255,s[n++]=R>>>16&255,s[n++]=R>>>8&255,s[n++]=R&255;var z=p/4294967296*1e4&268435455;s[n++]=z>>>8&255,s[n++]=z&255,s[n++]=z>>>24&15|16,s[n++]=z>>>16&255,s[n++]=c>>>8|128,s[n++]=c&255;for(var C=0;C<6;++C)s[n+C]=i[C];return e||Vn(s)}function ba(r){if(!Zn(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function ul(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var cl="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fl="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function xa(r,e,t){function n(s,i,c,d){if(typeof s=="string"&&(s=ul(s)),typeof i=="string"&&(i=ba(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+s.length);if(p.set(i),p.set(s,i.length),p=t(p),p[6]=p[6]&15|e,p[8]=p[8]&63|128,c){d=d||0;for(var v=0;v<16;++v)c[d+v]=p[v];return c}return Vn(p)}try{n.name=r}catch{}return n.DNS=cl,n.URL=fl,n}function ll(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return dl(hl(pl(r),r.length*8))}function dl(r){for(var e=[],t=r.length*32,n="0123456789abcdef",s=0;s<t;s+=8){var i=r[s>>5]>>>s%32&255,c=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(c)}return e}function _a(r){return(r+64>>>9<<4)+14+1}function hl(r,e){r[e>>5]|=128<<e%32,r[_a(e)-1]=e;for(var t=1732584193,n=-271733879,s=-1732584194,i=271733878,c=0;c<r.length;c+=16){var d=t,p=n,v=s,E=i;t=mt(t,n,s,i,r[c],7,-680876936),i=mt(i,t,n,s,r[c+1],12,-389564586),s=mt(s,i,t,n,r[c+2],17,606105819),n=mt(n,s,i,t,r[c+3],22,-1044525330),t=mt(t,n,s,i,r[c+4],7,-176418897),i=mt(i,t,n,s,r[c+5],12,1200080426),s=mt(s,i,t,n,r[c+6],17,-1473231341),n=mt(n,s,i,t,r[c+7],22,-45705983),t=mt(t,n,s,i,r[c+8],7,1770035416),i=mt(i,t,n,s,r[c+9],12,-1958414417),s=mt(s,i,t,n,r[c+10],17,-42063),n=mt(n,s,i,t,r[c+11],22,-1990404162),t=mt(t,n,s,i,r[c+12],7,1804603682),i=mt(i,t,n,s,r[c+13],12,-40341101),s=mt(s,i,t,n,r[c+14],17,-1502002290),n=mt(n,s,i,t,r[c+15],22,1236535329),t=gt(t,n,s,i,r[c+1],5,-165796510),i=gt(i,t,n,s,r[c+6],9,-1069501632),s=gt(s,i,t,n,r[c+11],14,643717713),n=gt(n,s,i,t,r[c],20,-373897302),t=gt(t,n,s,i,r[c+5],5,-701558691),i=gt(i,t,n,s,r[c+10],9,38016083),s=gt(s,i,t,n,r[c+15],14,-660478335),n=gt(n,s,i,t,r[c+4],20,-405537848),t=gt(t,n,s,i,r[c+9],5,568446438),i=gt(i,t,n,s,r[c+14],9,-1019803690),s=gt(s,i,t,n,r[c+3],14,-187363961),n=gt(n,s,i,t,r[c+8],20,1163531501),t=gt(t,n,s,i,r[c+13],5,-1444681467),i=gt(i,t,n,s,r[c+2],9,-51403784),s=gt(s,i,t,n,r[c+7],14,1735328473),n=gt(n,s,i,t,r[c+12],20,-1926607734),t=yt(t,n,s,i,r[c+5],4,-378558),i=yt(i,t,n,s,r[c+8],11,-2022574463),s=yt(s,i,t,n,r[c+11],16,1839030562),n=yt(n,s,i,t,r[c+14],23,-35309556),t=yt(t,n,s,i,r[c+1],4,-1530992060),i=yt(i,t,n,s,r[c+4],11,1272893353),s=yt(s,i,t,n,r[c+7],16,-155497632),n=yt(n,s,i,t,r[c+10],23,-1094730640),t=yt(t,n,s,i,r[c+13],4,681279174),i=yt(i,t,n,s,r[c],11,-358537222),s=yt(s,i,t,n,r[c+3],16,-722521979),n=yt(n,s,i,t,r[c+6],23,76029189),t=yt(t,n,s,i,r[c+9],4,-640364487),i=yt(i,t,n,s,r[c+12],11,-421815835),s=yt(s,i,t,n,r[c+15],16,530742520),n=yt(n,s,i,t,r[c+2],23,-995338651),t=wt(t,n,s,i,r[c],6,-198630844),i=wt(i,t,n,s,r[c+7],10,1126891415),s=wt(s,i,t,n,r[c+14],15,-1416354905),n=wt(n,s,i,t,r[c+5],21,-57434055),t=wt(t,n,s,i,r[c+12],6,1700485571),i=wt(i,t,n,s,r[c+3],10,-1894986606),s=wt(s,i,t,n,r[c+10],15,-1051523),n=wt(n,s,i,t,r[c+1],21,-2054922799),t=wt(t,n,s,i,r[c+8],6,1873313359),i=wt(i,t,n,s,r[c+15],10,-30611744),s=wt(s,i,t,n,r[c+6],15,-1560198380),n=wt(n,s,i,t,r[c+13],21,1309151649),t=wt(t,n,s,i,r[c+4],6,-145523070),i=wt(i,t,n,s,r[c+11],10,-1120210379),s=wt(s,i,t,n,r[c+2],15,718787259),n=wt(n,s,i,t,r[c+9],21,-343485551),t=er(t,d),n=er(n,p),s=er(s,v),i=er(i,E)}return[t,n,s,i]}function pl(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(_a(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function er(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function ml(r,e){return r<<e|r>>>32-e}function Kn(r,e,t,n,s,i){return er(ml(er(er(e,r),er(n,i)),s),t)}function mt(r,e,t,n,s,i,c){return Kn(e&t|~e&n,r,e,s,i,c)}function gt(r,e,t,n,s,i,c){return Kn(e&n|t&~n,r,e,s,i,c)}function yt(r,e,t,n,s,i,c){return Kn(e^t^n,r,e,s,i,c)}function wt(r,e,t,n,s,i,c){return Kn(t^(e|~n),r,e,s,i,c)}var gl=xa("v3",48,ll);function yl(r,e,t){r=r||{};var n=r.random||(r.rng||va)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=n[s];return e}return Vn(n)}function wl(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Ui(r,e){return r<<e|r>>>32-e}function vl(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),d=new Array(c),p=0;p<c;++p){for(var v=new Uint32Array(16),E=0;E<16;++E)v[E]=r[p*64+E*4]<<24|r[p*64+E*4+1]<<16|r[p*64+E*4+2]<<8|r[p*64+E*4+3];d[p]=v}d[c-1][14]=(r.length-1)*8/Math.pow(2,32),d[c-1][14]=Math.floor(d[c-1][14]),d[c-1][15]=(r.length-1)*8&4294967295;for(var R=0;R<c;++R){for(var z=new Uint32Array(80),C=0;C<16;++C)z[C]=d[R][C];for(var q=16;q<80;++q)z[q]=Ui(z[q-3]^z[q-8]^z[q-14]^z[q-16],1);for(var M=t[0],T=t[1],J=t[2],Y=t[3],Z=t[4],P=0;P<80;++P){var W=Math.floor(P/20),G=Ui(M,5)+wl(W,T,J,Y)+Z+e[W]+z[P]>>>0;Z=Y,Y=J,J=Ui(T,30)>>>0,T=M,M=G}t[0]=t[0]+M>>>0,t[1]=t[1]+T>>>0,t[2]=t[2]+J>>>0,t[3]=t[3]+Y>>>0,t[4]=t[4]+Z>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var bl=xa("v5",80,vl);const xl="00000000-0000-0000-0000-000000000000";function _l(r){if(!Zn(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const El=Object.freeze(Object.defineProperty({__proto__:null,NIL:xl,parse:ba,stringify:Vn,v1:al,v3:gl,v4:yl,v5:bl,validate:Zn,version:_l},Symbol.toStringTag,{value:"Module"})),Ea=ns(El);var Fi,Ao;function Sl(){if(Ao)return Fi;Ao=1;const r=Ea.v4;return Fi=function(t,n,s,i){if(typeof t!="string")throw new TypeError(t+" must be a string");i=i||{};const c=typeof i.version=="number"?i.version:2;if(c!==1&&c!==2)throw new TypeError(c+" must be 1 or 2");const d={method:t};if(c===2&&(d.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");d.params=n}if(typeof s>"u"){const p=typeof i.generator=="function"?i.generator:function(){return r()};d.id=p(d,i)}else c===2&&s===null?i.notificationIdNull&&(d.id=null):d.id=s;return d},Fi}var Pi,ko;function Al(){if(ko)return Pi;ko=1;const r=Ea.v4,e=Sl(),t=function(n,s){if(!(this instanceof t))return new t(n,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return r()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=n};return Pi=t,t.prototype.request=function(n,s,i,c){const d=this;let p=null;const v=Array.isArray(n)&&typeof s=="function";if(this.options.version===1&&v)throw new TypeError("JSON-RPC 1.0 does not support batching");if(v||!v&&n&&typeof n=="object"&&typeof s=="function")c=s,p=n;else{typeof i=="function"&&(c=i,i=void 0);const z=typeof c=="function";try{p=e(n,s,i,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(C){if(z)return c(C);throw C}if(!z)return p}let R;try{R=JSON.stringify(p,this.options.replacer)}catch(z){return c(z)}return this.callServer(R,function(z,C){d._parseResponse(z,C,c)}),p},t.prototype._parseResponse=function(n,s,i){if(n){i(n);return}if(!s)return i();let c;try{c=JSON.parse(s,this.options.reviver)}catch(d){return i(d)}if(i.length===3)if(Array.isArray(c)){const d=function(v){return typeof v.error<"u"},p=function(v){return!d(v)};return i(null,c.filter(d),c.filter(p))}else return i(null,c.error,c.result);i(null,c)},Pi}Al();var zi={exports:{}},Io;function kl(){return Io||(Io=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(p,v,E){this.fn=p,this.context=v,this.once=E||!1}function i(p,v,E,R,z){if(typeof E!="function")throw new TypeError("The listener must be a function");var C=new s(E,R||p,z),q=t?t+v:v;return p._events[q]?p._events[q].fn?p._events[q]=[p._events[q],C]:p._events[q].push(C):(p._events[q]=C,p._eventsCount++),p}function c(p,v){--p._eventsCount===0?p._events=new n:delete p._events[v]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var v=[],E,R;if(this._eventsCount===0)return v;for(R in E=this._events)e.call(E,R)&&v.push(t?R.slice(1):R);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(E)):v},d.prototype.listeners=function(v){var E=t?t+v:v,R=this._events[E];if(!R)return[];if(R.fn)return[R.fn];for(var z=0,C=R.length,q=new Array(C);z<C;z++)q[z]=R[z].fn;return q},d.prototype.listenerCount=function(v){var E=t?t+v:v,R=this._events[E];return R?R.fn?1:R.length:0},d.prototype.emit=function(v,E,R,z,C,q){var M=t?t+v:v;if(!this._events[M])return!1;var T=this._events[M],J=arguments.length,Y,Z;if(T.fn){switch(T.once&&this.removeListener(v,T.fn,void 0,!0),J){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,E),!0;case 3:return T.fn.call(T.context,E,R),!0;case 4:return T.fn.call(T.context,E,R,z),!0;case 5:return T.fn.call(T.context,E,R,z,C),!0;case 6:return T.fn.call(T.context,E,R,z,C,q),!0}for(Z=1,Y=new Array(J-1);Z<J;Z++)Y[Z-1]=arguments[Z];T.fn.apply(T.context,Y)}else{var P=T.length,W;for(Z=0;Z<P;Z++)switch(T[Z].once&&this.removeListener(v,T[Z].fn,void 0,!0),J){case 1:T[Z].fn.call(T[Z].context);break;case 2:T[Z].fn.call(T[Z].context,E);break;case 3:T[Z].fn.call(T[Z].context,E,R);break;case 4:T[Z].fn.call(T[Z].context,E,R,z);break;default:if(!Y)for(W=1,Y=new Array(J-1);W<J;W++)Y[W-1]=arguments[W];T[Z].fn.apply(T[Z].context,Y)}}return!0},d.prototype.on=function(v,E,R){return i(this,v,E,R,!1)},d.prototype.once=function(v,E,R){return i(this,v,E,R,!0)},d.prototype.removeListener=function(v,E,R,z){var C=t?t+v:v;if(!this._events[C])return this;if(!E)return c(this,C),this;var q=this._events[C];if(q.fn)q.fn===E&&(!z||q.once)&&(!R||q.context===R)&&c(this,C);else{for(var M=0,T=[],J=q.length;M<J;M++)(q[M].fn!==E||z&&!q[M].once||R&&q[M].context!==R)&&T.push(q[M]);T.length?this._events[C]=T.length===1?T[0]:T:c(this,C)}return this},d.prototype.removeAllListeners=function(v){var E;return v?(E=t?t+v:v,this._events[E]&&c(this,E)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,r.exports=d})(zi)),zi.exports}kl();function Bo(r){try{return ys.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Sa=(r,e)=>ys.sign(r,e.slice(0,32)),Il=ys.verify,_s=r=>Ee.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ee.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ee.Buffer.from(r);class Bl{constructor(e){Object.assign(this,e)}encode(){return Ee.Buffer.from(Ti.serialize(pn,this))}static decode(e){return Ti.deserialize(pn,this,e)}static decodeUnchecked(e){return Ti.deserializeUnchecked(pn,this,e)}}const pn=new Map;var Aa;const Ml=32,rr=32;function Rl(r){return r._bn!==void 0}let Mo=1;class ye extends Bl{constructor(e){if(super({}),this._bn=void 0,Rl(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Et.decode(e);if(t.length!=rr)throw new Error("Invalid public key input");this._bn=new mo(t)}else this._bn=new mo(e);if(this._bn.byteLength()>rr)throw new Error("Invalid public key input")}}static unique(){const e=new ye(Mo);return Mo+=1,new ye(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Et.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ee.Buffer);if(e.length===rr)return e;const t=Ee.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const s=Ee.Buffer.concat([e.toBuffer(),Ee.Buffer.from(t),n.toBuffer()]),i=Ds(s);return new ye(i)}static createProgramAddressSync(e,t){let n=Ee.Buffer.alloc(0);e.forEach(function(i){if(i.length>Ml)throw new TypeError("Max seed length exceeded");n=Ee.Buffer.concat([n,_s(i)])}),n=Ee.Buffer.concat([n,t.toBuffer(),Ee.Buffer.from("ProgramDerivedAddress")]);const s=Ds(n);if(Bo(s))throw new Error("Invalid seeds, address must fall off the curve");return new ye(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,s;for(;n!=0;){try{const i=e.concat(Ee.Buffer.from([n]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ye(e);return Bo(t.toBytes())}}Aa=ye;ye.default=new Aa("11111111111111111111111111111111");pn.set(ye,{kind:"struct",fields:[["_bn","u256"]]});new ye("BPFLoader1111111111111111111111111111111111");const Er=1232,Es=127,Cn=64;class Nn{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,c)=>{n.set(i.toBase58(),c)});const s=i=>{const c=n.get(i.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(c=>s(c.pubkey)),data:i.data}))}}const Se=(r="publicKey")=>B.blob(32,r),Tl=(r="signature")=>B.blob(64,r),xr=(r="string")=>{const e=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(i,c)=>t(i,c).chars.toString(),s.encode=(i,c,d)=>{const p={chars:Ee.Buffer.from(i,"utf8")};return n(p,c,d)},s.alloc=i=>B.u32().span+B.u32().span+Ee.Buffer.from(i,"utf8").length,s},Ol=(r="authorized")=>B.struct([Se("staker"),Se("withdrawer")],r),Ll=(r="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),Se("custodian")],r),Cl=(r="voteInit")=>B.struct([Se("nodePubkey"),Se("authorizedVoter"),Se("authorizedWithdrawer"),B.u8("commission")],r),Nl=(r="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),Se("currentAuthorityDerivedKeyOwnerPubkey"),xr("currentAuthorityDerivedKeySeed"),Se("newAuthorized")],r);function Mt(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Rt(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function ft(r,e){if(!r)throw new Error(e||"Assertion failed")}class Wn{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,s=c=>{const d=c.toBase58();let p=n.get(d);return p===void 0&&(p={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(d,p)),p},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const c of e){s(c.programId).isInvoked=!0;for(const d of c.keys){const p=s(d.pubkey);p.isSigner||=d.isSigner,p.isWritable||=d.isWritable}}return new Wn(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ft(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,p])=>p.isSigner&&p.isWritable),n=e.filter(([,p])=>p.isSigner&&!p.isWritable),s=e.filter(([,p])=>!p.isSigner&&p.isWritable),i=e.filter(([,p])=>!p.isSigner&&!p.isWritable),c={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{ft(t.length>0,"Expected at least one writable signer key");const[p]=t[0];ft(p===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...t.map(([p])=>new ye(p)),...n.map(([p])=>new ye(p)),...s.map(([p])=>new ye(p)),...i.map(([p])=>new ye(p))];return[c,d]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,s=new Array;for(const[i,c]of this.keyMetaMap.entries())if(t(c)){const d=new ye(i),p=e.findIndex(v=>v.equals(d));p>=0&&(ft(p<256,"Max lookup table index exceeded"),n.push(p),s.push(d),this.keyMetaMap.delete(i))}return[n,s]}}const ka="Reached end of buffer unexpectedly";function Ht(r){if(r.length===0)throw new Error(ka);return r.shift()}function Tt(r,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>r.length:t>=r.length)throw new Error(ka);return r.splice(...e)}class Mr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ye(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Et.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Nn(this.staticAccountKeys)}static compile(e){const t=Wn.compile(e.instructions,e.payerKey),[n,s]=t.getMessageComponents(),c=new Nn(s).compileInstructions(e.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:Et.encode(d.data)}));return new Mr({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Rt(t,e);const n=this.instructions.map(R=>{const{accounts:z,programIdIndex:C}=R,q=Array.from(Et.decode(R.data));let M=[];Rt(M,z.length);let T=[];return Rt(T,q.length),{programIdIndex:C,keyIndicesCount:Ee.Buffer.from(M),keyIndices:z,dataLength:Ee.Buffer.from(T),data:q}});let s=[];Rt(s,n.length);let i=Ee.Buffer.alloc(Er);Ee.Buffer.from(s).copy(i);let c=s.length;n.forEach(R=>{const C=B.struct([B.u8("programIdIndex"),B.blob(R.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),R.keyIndices.length,"keyIndices"),B.blob(R.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),R.data.length,"data")]).encode(R,i,c);c+=C}),i=i.slice(0,c);const d=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(t.length,"keyCount"),B.seq(Se("key"),e,"keys"),Se("recentBlockhash")]),p={numRequiredSignatures:Ee.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ee.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ee.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ee.Buffer.from(t),keys:this.accountKeys.map(R=>_s(R.toBytes())),recentBlockhash:Et.decode(this.recentBlockhash)};let v=Ee.Buffer.alloc(2048);const E=d.encode(p,v);return i.copy(v,E),v.slice(0,E+i.length)}static from(e){let t=[...e];const n=Ht(t);if(n!==(n&Es))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Ht(t),i=Ht(t),c=Mt(t);let d=[];for(let z=0;z<c;z++){const C=Tt(t,0,rr);d.push(new ye(Ee.Buffer.from(C)))}const p=Tt(t,0,rr),v=Mt(t);let E=[];for(let z=0;z<v;z++){const C=Ht(t),q=Mt(t),M=Tt(t,0,q),T=Mt(t),J=Tt(t,0,T),Y=Et.encode(Ee.Buffer.from(J));E.push({programIdIndex:C,accounts:M,data:Y})}const R={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Et.encode(Ee.Buffer.from(p)),accountKeys:d,instructions:E};return new Mr(R)}}class Un{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Nn(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const s=e-n,i=this.addressTableLookups.reduce((c,d)=>c+d.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,c=n-t-this.header.numReadonlyUnsignedAccounts;return s<c}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=e.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=Wn.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const E of i){const R=t.extractTableLookup(E);if(R!==void 0){const[z,{writable:C,readonly:q}]=R;n.push(z),s.writable.push(...C),s.readonly.push(...q)}}const[c,d]=t.getMessageComponents(),v=new Nn(d,s).compileInstructions(e.instructions);return new Un({header:c,staticAccountKeys:d,recentBlockhash:e.recentBlockhash,compiledInstructions:v,addressTableLookups:n})}serialize(){const e=Array();Rt(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Rt(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Rt(i,this.addressTableLookups.length);const c=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(e.length,"staticAccountKeysLength"),B.seq(Se(),this.staticAccountKeys.length,"staticAccountKeys"),Se("recentBlockhash"),B.blob(n.length,"instructionsLength"),B.blob(t.length,"serializedInstructions"),B.blob(i.length,"addressTableLookupsLength"),B.blob(s.length,"serializedAddressTableLookups")]),d=new Uint8Array(Er),v=c.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:Et.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},d);return d.slice(0,v)}serializeInstructions(){let e=0;const t=new Uint8Array(Er);for(const n of this.compiledInstructions){const s=Array();Rt(s,n.accountKeyIndexes.length);const i=Array();Rt(i,n.data.length);const c=B.struct([B.u8("programIdIndex"),B.blob(s.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(i.length,"encodedDataLength"),B.blob(n.data.length,"data")]);e+=c.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Er);for(const n of this.addressTableLookups){const s=Array();Rt(s,n.writableIndexes.length);const i=Array();Rt(i,n.readonlyIndexes.length);const c=B.struct([Se("accountKey"),B.blob(s.length,"encodedWritableIndexesLength"),B.seq(B.u8(),n.writableIndexes.length,"writableIndexes"),B.blob(i.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=c.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Ht(t),s=n&Es;ft(n!==s,"Expected versioned message but received legacy message");const i=s;ft(i===0,`Expected versioned message with version 0 but found version ${i}`);const c={numRequiredSignatures:Ht(t),numReadonlySignedAccounts:Ht(t),numReadonlyUnsignedAccounts:Ht(t)},d=[],p=Mt(t);for(let q=0;q<p;q++)d.push(new ye(Tt(t,0,rr)));const v=Et.encode(Tt(t,0,rr)),E=Mt(t),R=[];for(let q=0;q<E;q++){const M=Ht(t),T=Mt(t),J=Tt(t,0,T),Y=Mt(t),Z=new Uint8Array(Tt(t,0,Y));R.push({programIdIndex:M,accountKeyIndexes:J,data:Z})}const z=Mt(t),C=[];for(let q=0;q<z;q++){const M=new ye(Tt(t,0,rr)),T=Mt(t),J=Tt(t,0,T),Y=Mt(t),Z=Tt(t,0,Y);C.push({accountKey:M,writableIndexes:J,readonlyIndexes:Z})}return new Un({header:c,staticAccountKeys:d,recentBlockhash:v,compiledInstructions:R,addressTableLookups:C})}}const Ss={deserializeMessageVersion(r){const e=r[0],t=e&Es;return t===e?"legacy":t},deserialize:r=>{const e=Ss.deserializeMessageVersion(r);if(e==="legacy")return Mr.from(r);if(e===0)return Un.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Ul=Ee.Buffer.alloc(Cn).fill(0);class Ro{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ee.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Fn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ro(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let M=0;M<t.length;M++)if(t[M].programId===void 0)throw new Error(`Transaction instruction index ${M} has undefined program id`);const s=[],i=[];t.forEach(M=>{M.keys.forEach(J=>{i.push({...J})});const T=M.programId.toString();s.includes(T)||s.push(T)}),s.forEach(M=>{i.push({pubkey:new ye(M),isSigner:!1,isWritable:!1})});const c=[];i.forEach(M=>{const T=M.pubkey.toString(),J=c.findIndex(Y=>Y.pubkey.toString()===T);J>-1?(c[J].isWritable=c[J].isWritable||M.isWritable,c[J].isSigner=c[J].isSigner||M.isSigner):c.push(M)}),c.sort(function(M,T){if(M.isSigner!==T.isSigner)return M.isSigner?-1:1;if(M.isWritable!==T.isWritable)return M.isWritable?-1:1;const J={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return M.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",J)});const d=c.findIndex(M=>M.pubkey.equals(n));if(d>-1){const[M]=c.splice(d,1);M.isSigner=!0,M.isWritable=!0,c.unshift(M)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const M of this.signatures){const T=c.findIndex(J=>J.pubkey.equals(M.publicKey));if(T>-1)c[T].isSigner||(c[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${M.publicKey.toString()}`)}let p=0,v=0,E=0;const R=[],z=[];c.forEach(({pubkey:M,isSigner:T,isWritable:J})=>{T?(R.push(M.toString()),p+=1,J||(v+=1)):(z.push(M.toString()),J||(E+=1))});const C=R.concat(z),q=t.map(M=>{const{data:T,programId:J}=M;return{programIdIndex:C.indexOf(J.toString()),accounts:M.keys.map(Y=>C.indexOf(Y.pubkey.toString())),data:Et.encode(T)}});return q.forEach(M=>{ft(M.programIdIndex>=0),M.accounts.forEach(T=>ft(T>=0))}),new Mr({header:{numRequiredSignatures:p,numReadonlySignedAccounts:v,numReadonlyUnsignedAccounts:E},accountKeys:C,recentBlockhash:e,instructions:q})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const s=n.toString();return t.has(s)?!1:(t.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(s=>{const i=Sa(n,s.secretKey);this._addSignature(s.publicKey,_s(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ft(t.length===64);const n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ee.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(n.missing||=[]).push(i):Il(s,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,t);if(i){let c="Signature verification failed.";throw i.invalid&&(c+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),i.missing&&(c+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,n=[];Rt(n,t.length);const s=n.length+t.length*64+e.length,i=Ee.Buffer.alloc(s);return ft(t.length<256),Ee.Buffer.from(n).copy(i,0),t.forEach(({signature:c},d)=>{c!==null&&(ft(c.length===64,"signature has invalid length"),Ee.Buffer.from(c).copy(i,n.length+d*64))}),e.copy(i,n.length+t.length*64),ft(i.length<=Er,`Transaction too large: ${i.length} > ${Er}`),i}get keys(){return ft(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ft(this.instructions.length===1),this.instructions[0].programId}get data(){return ft(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=Mt(t);let s=[];for(let i=0;i<n;i++){const c=Tt(t,0,Cn);s.push(Et.encode(Ee.Buffer.from(c)))}return Fn.populate(Mr.from(t),s)}static populate(e,t=[]){const n=new Fn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const c={signature:s==Et.encode(Ul)?null:Et.decode(s),publicKey:e.accountKeys[i]};n.signatures.push(c)}),e.instructions.forEach(s=>{const i=s.accounts.map(c=>{const d=e.accountKeys[c];return{pubkey:d,isSigner:n.signatures.some(p=>p.publicKey.toString()===d.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new Ro({keys:i,programId:e.accountKeys[s.programIdIndex],data:Et.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}}class As{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)ft(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const n=[];for(let s=0;s<e.header.numRequiredSignatures;s++)n.push(new Uint8Array(Cn));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Rt(t,this.signatures.length);const n=B.struct([B.blob(t.length,"encodedSignaturesLength"),B.seq(Tl(),this.signatures.length,"signatures"),B.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const n=[],s=Mt(t);for(let c=0;c<s;c++)n.push(new Uint8Array(Tt(t,0,Cn)));const i=Ss.deserialize(new Uint8Array(t));return new As(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=n.findIndex(c=>c.equals(s.publicKey));ft(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Sa(t,s.secretKey)}}addSignature(e,t){ft(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));ft(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}new ye("SysvarC1ock11111111111111111111111111111111");new ye("SysvarEpochSchedu1e111111111111111111111111");new ye("Sysvar1nstructions1111111111111111111111111");new ye("SysvarRecentB1ockHashes11111111111111111111");new ye("SysvarRent111111111111111111111111111111111");new ye("SysvarRewards111111111111111111111111111111");new ye("SysvarS1otHashes111111111111111111111111111");new ye("SysvarS1otHistory11111111111111111111111111");new ye("SysvarStakeHistory1111111111111111111111111");const Fl=B.nu64("lamportsPerSignature"),Pl=B.struct([B.u32("version"),B.u32("state"),Se("authorizedPubkey"),Se("nonce"),B.struct([Fl],"feeCalculator")]);Pl.span;function Rr(r){const e=B.blob(8,r),t=e.decode.bind(e),n=e.encode.bind(e),s=e,i=Gf();return s.decode=(c,d)=>{const p=t(c,d);return i.decode(p)},s.encode=(c,d,p)=>{const v=i.encode(c);return n(v,d,p)},s}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),Se("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),Se("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),Rr("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),Se("base"),xr("seed"),B.ns64("lamports"),B.ns64("space"),Se("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),Se("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),Se("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),Se("base"),xr("seed"),B.ns64("space"),Se("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Se("base"),xr("seed"),Se("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),Rr("lamports"),xr("seed"),Se("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new ye("11111111111111111111111111111111");new ye("BPFLoader2111111111111111111111111111111111");B.struct([B.u32("typeIndex"),Rr("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(Se(),B.offset(B.u8(),-1),"authority")]);const Ze=an(bs(ye),te(),r=>new ye(r)),Ia=xs([te(),ze("base64")]),ks=an(bs(Ee.Buffer),Ia,r=>Ee.Buffer.from(r[0],"base64"));function Ba(r){return St([X({jsonrpc:ze("2.0"),id:te(),result:r}),X({jsonrpc:ze("2.0"),id:te(),error:X({code:Cr(),message:te(),data:fe(nl())})})])}const zl=Ba(Cr());function Le(r){return an(Ba(r),zl,e=>"error"in e?e:{...e,result:jr(e.result,r)})}function Ft(r){return Le(X({context:X({slot:D()}),value:r}))}function Hn(r){return X({context:X({slot:D()}),value:r})}const Dl=X({foundation:D(),foundationTerm:D(),initial:D(),taper:D(),terminal:D()});Le(se(oe(X({epoch:D(),effectiveSlot:D(),amount:D(),postBalance:D(),commission:fe(oe(D()))}))));const jl=se(X({slot:D(),prioritizationFee:D()})),ql=X({total:D(),validator:D(),foundation:D(),epoch:D()}),$l=X({epoch:D(),slotIndex:D(),slotsInEpoch:D(),absoluteSlot:D(),blockHeight:fe(D()),transactionCount:fe(D())}),Zl=X({slotsPerEpoch:D(),leaderScheduleSlotOffset:D(),warmup:jt(),firstNormalEpoch:D(),firstNormalSlot:D()}),Vl=wa(te(),se(D())),pr=oe(St([X({}),te()])),Kl=X({err:pr}),Wl=ze("receivedSignature");X({"solana-core":te(),"feature-set":fe(D())});const Hl=X({program:te(),programId:Ze,parsed:Cr()}),Jl=X({programId:Ze,accounts:se(Ze),data:te()});Ft(X({err:oe(St([X({}),te()])),logs:oe(se(te())),accounts:fe(oe(se(oe(X({executable:jt(),owner:te(),lamports:D(),data:se(te()),rentEpoch:fe(D())}))))),unitsConsumed:fe(D()),returnData:fe(oe(X({programId:te(),data:xs([te(),ze("base64")])}))),innerInstructions:fe(oe(se(X({index:D(),instructions:se(St([Hl,Jl]))}))))}));Ft(X({byIdentity:wa(te(),se(D())),range:X({firstSlot:D(),lastSlot:D()})}));Le(Dl);Le(ql);Le(jl);Le($l);Le(Zl);Le(Vl);Le(D());Ft(X({total:D(),circulating:D(),nonCirculating:D(),nonCirculatingAccounts:se(Ze)}));const Gl=X({amount:te(),uiAmount:oe(D()),decimals:D(),uiAmountString:fe(te())});Ft(se(X({address:Ze,amount:te(),uiAmount:oe(D()),decimals:D(),uiAmountString:fe(te())})));Ft(se(X({pubkey:Ze,account:X({executable:jt(),owner:Ze,lamports:D(),data:ks,rentEpoch:D()})})));const es=X({program:te(),parsed:Cr(),space:D()});Ft(se(X({pubkey:Ze,account:X({executable:jt(),owner:Ze,lamports:D(),data:es,rentEpoch:D()})})));Ft(se(X({lamports:D(),address:Ze})));const Is=X({executable:jt(),owner:Ze,lamports:D(),data:ks,rentEpoch:D()});X({pubkey:Ze,account:Is});const Yl=an(St([bs(Ee.Buffer),es]),St([Ia,es]),r=>Array.isArray(r)?jr(r,ks):r),Xl=X({executable:jt(),owner:Ze,lamports:D(),data:Yl,rentEpoch:D()});X({pubkey:Ze,account:Xl});X({state:St([ze("active"),ze("inactive"),ze("activating"),ze("deactivating")]),active:D(),inactive:D()});Le(se(X({signature:te(),slot:D(),err:pr,memo:oe(te()),blockTime:fe(oe(D()))})));Le(se(X({signature:te(),slot:D(),err:pr,memo:oe(te()),blockTime:fe(oe(D()))})));X({subscription:D(),result:Hn(Is)});const Ql=X({pubkey:Ze,account:Is});X({subscription:D(),result:Hn(Ql)});const ed=X({parent:D(),slot:D(),root:D()});X({subscription:D(),result:ed});const td=St([X({type:St([ze("firstShredReceived"),ze("completed"),ze("optimisticConfirmation"),ze("root")]),slot:D(),timestamp:D()}),X({type:ze("createdBank"),parent:D(),slot:D(),timestamp:D()}),X({type:ze("frozen"),slot:D(),timestamp:D(),stats:X({numTransactionEntries:D(),numSuccessfulTransactions:D(),numFailedTransactions:D(),maxTransactionsPerEntry:D()})}),X({type:ze("dead"),slot:D(),timestamp:D(),err:te()})]);X({subscription:D(),result:td});X({subscription:D(),result:Hn(St([Kl,Wl]))});X({subscription:D(),result:D()});X({pubkey:te(),gossip:oe(te()),tpu:oe(te()),rpc:oe(te()),version:oe(te())});const To=X({votePubkey:te(),nodePubkey:te(),activatedStake:D(),epochVoteAccount:jt(),epochCredits:se(xs([D(),D(),D()])),commission:D(),lastVote:D(),rootSlot:oe(D())});Le(X({current:se(To),delinquent:se(To)}));const rd=St([ze("processed"),ze("confirmed"),ze("finalized")]),nd=X({slot:D(),confirmations:oe(D()),err:pr,confirmationStatus:fe(rd)});Ft(se(oe(nd)));Le(D());const Ma=X({accountKey:Ze,writableIndexes:se(D()),readonlyIndexes:se(D())}),Bs=X({signatures:se(te()),message:X({accountKeys:se(te()),header:X({numRequiredSignatures:D(),numReadonlySignedAccounts:D(),numReadonlyUnsignedAccounts:D()}),instructions:se(X({accounts:se(D()),data:te(),programIdIndex:D()})),recentBlockhash:te(),addressTableLookups:fe(se(Ma))})}),Ra=X({pubkey:Ze,signer:jt(),writable:jt(),source:fe(St([ze("transaction"),ze("lookupTable")]))}),Ta=X({accountKeys:se(Ra),signatures:se(te())}),Oa=X({parsed:Cr(),program:te(),programId:Ze}),La=X({accounts:se(Ze),data:te(),programId:Ze}),id=St([La,Oa]),sd=St([X({parsed:Cr(),program:te(),programId:te()}),X({accounts:se(te()),data:te(),programId:te()})]),Ca=an(id,sd,r=>"accounts"in r?jr(r,La):jr(r,Oa)),Na=X({signatures:se(te()),message:X({accountKeys:se(Ra),instructions:se(Ca),recentBlockhash:te(),addressTableLookups:fe(oe(se(Ma)))})}),Pn=X({accountIndex:D(),mint:te(),owner:fe(te()),programId:fe(te()),uiTokenAmount:Gl}),Ua=X({writable:se(Ze),readonly:se(Ze)}),Jn=X({err:pr,fee:D(),innerInstructions:fe(oe(se(X({index:D(),instructions:se(X({accounts:se(D()),data:te(),programIdIndex:D()}))})))),preBalances:se(D()),postBalances:se(D()),logMessages:fe(oe(se(te()))),preTokenBalances:fe(oe(se(Pn))),postTokenBalances:fe(oe(se(Pn))),loadedAddresses:fe(Ua),computeUnitsConsumed:fe(D()),costUnits:fe(D())}),Ms=X({err:pr,fee:D(),innerInstructions:fe(oe(se(X({index:D(),instructions:se(Ca)})))),preBalances:se(D()),postBalances:se(D()),logMessages:fe(oe(se(te()))),preTokenBalances:fe(oe(se(Pn))),postTokenBalances:fe(oe(se(Pn))),loadedAddresses:fe(Ua),computeUnitsConsumed:fe(D()),costUnits:fe(D())}),Nr=St([ze(0),ze("legacy")]),mr=X({pubkey:te(),lamports:D(),postBalance:oe(D()),rewardType:oe(te()),commission:fe(oe(D()))});Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),transactions:se(X({transaction:Bs,meta:oe(Jn),version:fe(Nr)})),rewards:fe(se(mr)),blockTime:oe(D()),blockHeight:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),rewards:fe(se(mr)),blockTime:oe(D()),blockHeight:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),transactions:se(X({transaction:Ta,meta:oe(Jn),version:fe(Nr)})),rewards:fe(se(mr)),blockTime:oe(D()),blockHeight:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),transactions:se(X({transaction:Na,meta:oe(Ms),version:fe(Nr)})),rewards:fe(se(mr)),blockTime:oe(D()),blockHeight:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),transactions:se(X({transaction:Ta,meta:oe(Ms),version:fe(Nr)})),rewards:fe(se(mr)),blockTime:oe(D()),blockHeight:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),rewards:fe(se(mr)),blockTime:oe(D()),blockHeight:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),transactions:se(X({transaction:Bs,meta:oe(Jn)})),rewards:fe(se(mr)),blockTime:oe(D())})));Le(oe(X({blockhash:te(),previousBlockhash:te(),parentSlot:D(),signatures:se(te()),blockTime:oe(D())})));Le(oe(X({slot:D(),meta:oe(Jn),blockTime:fe(oe(D())),transaction:Bs,version:fe(Nr)})));Le(oe(X({slot:D(),transaction:Na,meta:oe(Ms),blockTime:fe(oe(D())),version:fe(Nr)})));Ft(X({blockhash:te(),lastValidBlockHeight:D()}));Ft(jt());const od=X({slot:D(),numTransactions:D(),numSlots:D(),samplePeriodSecs:D()});Le(se(od));Ft(oe(X({feeCalculator:X({lamportsPerSignature:D()})})));Le(te());Le(te());const ad=X({err:pr,logs:se(te()),signature:te()});X({result:Hn(ad),subscription:D()});Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),Rr("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),Rr(),B.seq(Se(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new ye("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),Rr("microLamports")])}});new ye("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new ye("Ed25519SigVerify111111111111111111111111111");Du.utils.isValidPrivateKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new ye("KeccakSecp256k11111111111111111111111111111");var Fa;new ye("StakeConfig11111111111111111111111111111111");class Pa{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Fa=Pa;Pa.default=new Fa(0,0,ye.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),Ol(),Ll()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Se("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),Se("newAuthorized"),B.u32("stakeAuthorizationType"),xr("authoritySeed"),Se("authorityOwner")])}});new ye("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),Cl()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Se("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Nl()])}});new ye("Vote111111111111111111111111111111111111111");new ye("Va1idator1nfo111111111111111111111111111111");X({name:te(),website:fe(te()),details:fe(te()),iconUrl:fe(te()),keybaseUsername:fe(te())});new ye("Vote111111111111111111111111111111111111111");B.struct([Se("nodePubkey"),Se("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),Se("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([Se("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);const ud=r=>({request:r,signMessage:e=>r({method:"signMessage",params:{message:e}}),signTransaction:e=>r({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>r({method:"signAndSendTransaction",params:e})});function Oo(r){return Buffer.from(r.serialize({verifySignatures:!1})).toString("base64")}function cd(r){const e=Buffer.from(r,"base64");return Ss.deserializeMessageVersion(e)==="legacy"?As.deserialize(e):Fn.from(e)}function fd(r){return async t=>{if(t.method==="connect")return await r(t);if(t.method==="signMessage")return await r(t);if(t.method==="signAndSendTransaction"){const{transaction:n}=t.params,s={transaction:Oo(n)};return await r({method:"signAndSendTransaction",params:s})}if(t.method==="signTransaction"){const{transaction:n}=t.params,s={transaction:Oo(n)},{signedTransaction:i}=await r({method:"signTransaction",params:s});return{signedTransaction:cd(i)}}}}const ld=({miniAppHost:r,emitter:e})=>{let t,n=null;return{visible:!1,get onback(){return n},set onback(s){n&&e.removeListener("backNavigationTriggered",n),n=s,s&&e.addListener("backNavigationTriggered",s)},async show(){await r.updateBackState({visible:!0}),this.visible=!0},async hide(){await r.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){t=dd({back:this,emitter:e})},async disableWebNavigation(){t?.(),t=void 0}}};function dd({emitter:r,back:e}){const t=hd();if(t)return pd({emitter:r,back:e,navigation:t});if(typeof window<"u")return md({emitter:r,back:e,window})}function hd(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function pd({emitter:r,back:e,navigation:t}){function n(){t.canGoBack?e.show():e.hide()}function s(){e.visible&&t.canGoBack&&t.back()}return t.addEventListener("navigatesuccess",n),r.addListener("backNavigationTriggered",s),()=>{t.removeEventListener("navigatesuccess",n),r.removeListener("backNavigationTriggered",s)}}function md({emitter:r,back:e,window:t}){e.show();function n(){e.visible&&t.history.back()}return r.addListener("backNavigationTriggered",n),()=>{r.removeListener("backNavigationTriggered",n)}}var Di={exports:{}},Lo;function gd(){return Lo||(Lo=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(p,v,E){this.fn=p,this.context=v,this.once=E||!1}function i(p,v,E,R,z){if(typeof E!="function")throw new TypeError("The listener must be a function");var C=new s(E,R||p,z),q=t?t+v:v;return p._events[q]?p._events[q].fn?p._events[q]=[p._events[q],C]:p._events[q].push(C):(p._events[q]=C,p._eventsCount++),p}function c(p,v){--p._eventsCount===0?p._events=new n:delete p._events[v]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var v=[],E,R;if(this._eventsCount===0)return v;for(R in E=this._events)e.call(E,R)&&v.push(t?R.slice(1):R);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(E)):v},d.prototype.listeners=function(v){var E=t?t+v:v,R=this._events[E];if(!R)return[];if(R.fn)return[R.fn];for(var z=0,C=R.length,q=new Array(C);z<C;z++)q[z]=R[z].fn;return q},d.prototype.listenerCount=function(v){var E=t?t+v:v,R=this._events[E];return R?R.fn?1:R.length:0},d.prototype.emit=function(v,E,R,z,C,q){var M=t?t+v:v;if(!this._events[M])return!1;var T=this._events[M],J=arguments.length,Y,Z;if(T.fn){switch(T.once&&this.removeListener(v,T.fn,void 0,!0),J){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,E),!0;case 3:return T.fn.call(T.context,E,R),!0;case 4:return T.fn.call(T.context,E,R,z),!0;case 5:return T.fn.call(T.context,E,R,z,C),!0;case 6:return T.fn.call(T.context,E,R,z,C,q),!0}for(Z=1,Y=new Array(J-1);Z<J;Z++)Y[Z-1]=arguments[Z];T.fn.apply(T.context,Y)}else{var P=T.length,W;for(Z=0;Z<P;Z++)switch(T[Z].once&&this.removeListener(v,T[Z].fn,void 0,!0),J){case 1:T[Z].fn.call(T[Z].context);break;case 2:T[Z].fn.call(T[Z].context,E);break;case 3:T[Z].fn.call(T[Z].context,E,R);break;case 4:T[Z].fn.call(T[Z].context,E,R,z);break;default:if(!Y)for(W=1,Y=new Array(J-1);W<J;W++)Y[W-1]=arguments[W];T[Z].fn.apply(T[Z].context,Y)}}return!0},d.prototype.on=function(v,E,R){return i(this,v,E,R,!1)},d.prototype.once=function(v,E,R){return i(this,v,E,R,!0)},d.prototype.removeListener=function(v,E,R,z){var C=t?t+v:v;if(!this._events[C])return this;if(!E)return c(this,C),this;var q=this._events[C];if(q.fn)q.fn===E&&(!z||q.once)&&(!R||q.context===R)&&c(this,C);else{for(var M=0,T=[],J=q.length;M<J;M++)(q[M].fn!==E||z&&!q[M].once||R&&q[M].context!==R)&&T.push(q[M]);T.length?this._events[C]=T.length===1?T[0]:T:c(this,C)}return this},d.prototype.removeAllListeners=function(v){var E;return v?(E=t?t+v:v,this._events[E]&&c(this,E)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,r.exports=d})(Di)),Di.exports}var yd=gd();const za=is(yd),wd="0.1.1";function vd(){return wd}let bd=class ts extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof ts){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),s=t.cause instanceof ts&&t.cause.docsPath||t.docsPath,c=`https://oxlib.sh${s??""}`,d=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${c}`:void 0]:[]].filter(p=>typeof p=="string").join(`
`);super(d,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${vd()}`}),this.cause=t.cause,this.details=n,this.docs=c,this.docsPath=s,this.shortMessage=e}walk(e){return Da(this,e)}};function Da(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause?Da(r.cause,e):e?null:r}function ja(r,e={}){const{raw:t=!1}=e,n=r;if(t)return r;if(n.error){const{code:s}=n.error,i=s===Tr.code?Tr:s===qr.code?qr:s===Yr.code?Yr:s===Jr.code?Jr:s===Wr.code?Wr:s===Gr.code?Gr:s===Kr.code?Kr:s===Xr.code?Xr:s===$r.code?$r:s===Zr.code?Zr:s===Vr.code?Vr:s===Hr.code?Hr:It;throw new i(n.error)}return n.result}let It=class extends Error{constructor(e){const{code:t,message:n,data:s}=e;super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=s}};class qr extends It{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:qr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $r extends It{constructor(e={}){super({message:"Requested resource not found.",...e,code:$r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Zr extends It{constructor(e={}){super({message:"Requested resource not available.",...e,code:Zr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(Zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Vr extends It{constructor(e={}){super({message:"Transaction creation failed.",...e,code:Vr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(Vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Kr extends It{constructor(e={}){super({message:"Method is not implemented.",...e,code:Kr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(Kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Wr extends It{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:Wr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(Wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Hr extends It{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:Hr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(Hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Jr extends It{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:Jr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(Jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Gr extends It{constructor(e={}){super({message:"Method does not exist.",...e,code:Gr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(Gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Yr extends It{constructor(e={}){super({message:"Invalid method parameters.",...e,code:Yr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(Yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Tr extends It{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:Tr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(Tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Xr extends It{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:Xr.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class gr extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class qa extends gr{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(qa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class $a extends gr{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty($a,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Za extends gr{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(Za,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Va extends gr{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(Va,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ka extends gr{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(Ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function xd(){const r=new za;return{get eventNames(){return r.eventNames.bind(r)},get listenerCount(){return r.listenerCount.bind(r)},get listeners(){return r.listeners.bind(r)},addListener:r.addListener.bind(r),emit:r.emit.bind(r),off:r.off.bind(r),on:r.on.bind(r),once:r.once.bind(r),removeAllListeners:r.removeAllListeners.bind(r),removeListener:r.removeListener.bind(r)}}function _d(r,e={}){const{includeEvents:t=!0}=e;if(!r)throw new Ed;return{...t?{on:r.on?.bind(r),removeListener:r.removeListener?.bind(r)}:{},async request(n){const s=await r.request(n);return s&&typeof s=="object"&&"jsonrpc"in s?ja(s):s}}}class Ed extends bd{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function Sd(r={}){let e=r.id??0;return{prepare(t){return Ad({id:e++,...t})},get id(){return e}}}function Ad(r){return{...r,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wa=Symbol("Comlink.proxy"),kd=Symbol("Comlink.endpoint"),Id=Symbol("Comlink.releaseProxy"),ji=Symbol("Comlink.finalizer"),mn=Symbol("Comlink.thrown"),Ha=r=>typeof r=="object"&&r!==null||typeof r=="function",Bd={canHandle:r=>Ha(r)&&r[Wa],serialize(r){const{port1:e,port2:t}=new MessageChannel;return Ga(r,e),[t,[t]]},deserialize(r){return r.start(),Xa(r)}},Md={canHandle:r=>Ha(r)&&mn in r,serialize({value:r}){let e;return r instanceof Error?e={isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:e={isError:!1,value:r},[e,[]]},deserialize(r){throw r.isError?Object.assign(new Error(r.value.message),r.value):r.value}},Ja=new Map([["proxy",Bd],["throw",Md]]);function Rd(r,e){for(const t of r)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function Ga(r,e=globalThis,t=["*"]){e.addEventListener("message",function n(s){if(!s||!s.data)return;if(!Rd(t,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}const{id:i,type:c,path:d}=Object.assign({path:[]},s.data),p=(s.data.argumentList||[]).map(sr);let v;try{const E=d.slice(0,-1).reduce((z,C)=>z[C],r),R=d.reduce((z,C)=>z[C],r);switch(c){case"GET":v=R;break;case"SET":E[d.slice(-1)[0]]=sr(s.data.value),v=!0;break;case"APPLY":v=R.apply(E,p);break;case"CONSTRUCT":{const z=new R(...p);v=Ud(z)}break;case"ENDPOINT":{const{port1:z,port2:C}=new MessageChannel;Ga(r,C),v=Nd(z,[z])}break;case"RELEASE":v=void 0;break;default:return}}catch(E){v={value:E,[mn]:0}}Promise.resolve(v).catch(E=>({value:E,[mn]:0})).then(E=>{const[R,z]=jn(E);e.postMessage(Object.assign(Object.assign({},R),{id:i}),z),c==="RELEASE"&&(e.removeEventListener("message",n),Ya(e),ji in r&&typeof r[ji]=="function"&&r[ji]())}).catch(E=>{const[R,z]=jn({value:new TypeError("Unserializable return value"),[mn]:0});e.postMessage(Object.assign(Object.assign({},R),{id:i}),z)})}),e.start&&e.start()}function Td(r){return r.constructor.name==="MessagePort"}function Ya(r){Td(r)&&r.close()}function Xa(r,e){const t=new Map;return r.addEventListener("message",function(s){const{data:i}=s;if(!i||!i.id)return;const c=t.get(i.id);if(c)try{c(i)}finally{t.delete(i.id)}}),rs(r,t,[],e)}function dn(r){if(r)throw new Error("Proxy has been released and is not useable")}function Qa(r){return br(r,new Map,{type:"RELEASE"}).then(()=>{Ya(r)})}const zn=new WeakMap,Dn="FinalizationRegistry"in globalThis&&new FinalizationRegistry(r=>{const e=(zn.get(r)||0)-1;zn.set(r,e),e===0&&Qa(r)});function Od(r,e){const t=(zn.get(e)||0)+1;zn.set(e,t),Dn&&Dn.register(r,e,r)}function Ld(r){Dn&&Dn.unregister(r)}function rs(r,e,t=[],n=function(){}){let s=!1;const i=new Proxy(n,{get(c,d){if(dn(s),d===Id)return()=>{Ld(i),Qa(r),e.clear(),s=!0};if(d==="then"){if(t.length===0)return{then:()=>i};const p=br(r,e,{type:"GET",path:t.map(v=>v.toString())}).then(sr);return p.then.bind(p)}return rs(r,e,[...t,d])},set(c,d,p){dn(s);const[v,E]=jn(p);return br(r,e,{type:"SET",path:[...t,d].map(R=>R.toString()),value:v},E).then(sr)},apply(c,d,p){dn(s);const v=t[t.length-1];if(v===kd)return br(r,e,{type:"ENDPOINT"}).then(sr);if(v==="bind")return rs(r,e,t.slice(0,-1));const[E,R]=Co(p);return br(r,e,{type:"APPLY",path:t.map(z=>z.toString()),argumentList:E},R).then(sr)},construct(c,d){dn(s);const[p,v]=Co(d);return br(r,e,{type:"CONSTRUCT",path:t.map(E=>E.toString()),argumentList:p},v).then(sr)}});return Od(i,r),i}function Cd(r){return Array.prototype.concat.apply([],r)}function Co(r){const e=r.map(jn);return[e.map(t=>t[0]),Cd(e.map(t=>t[1]))]}const eu=new WeakMap;function Nd(r,e){return eu.set(r,e),r}function Ud(r){return Object.assign(r,{[Wa]:!0})}function Fd(r,e=globalThis,t="*"){return{postMessage:(n,s)=>r.postMessage(n,t,s),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function jn(r){for(const[e,t]of Ja)if(t.canHandle(r)){const[n,s]=t.serialize(r);return[{type:"HANDLER",name:e,value:n},s]}return[{type:"RAW",value:r},eu.get(r)||[]]}function sr(r){switch(r.type){case"HANDLER":return Ja.get(r.name).deserialize(r.value);case"RAW":return r.value}}function br(r,e,t,n){return new Promise(s=>{const i=Pd();e.set(i,s),r.start&&r.start(),r.postMessage(Object.assign({id:i},t),n)})}function Pd(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const zd={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},Dd={postMessage:r=>{window.ReactNativeWebView.postMessage(JSON.stringify(r))},addEventListener:(r,e,...t)=>{document.addEventListener("FarcasterFrameCallback",e,...t)},removeEventListener:(r,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},jd=typeof window>"u"?zd:window?.ReactNativeWebView?Dd:Fd(window?.parent??window),ge=Xa(jd),Rs=xd(),qd=Sd();function $d({code:r,details:e}){switch(r){case 4001:return new qa;case 4100:return new $a;case 4200:return new Za;case 4900:return new Va;case 4901:return new Ka;default:return new gr(r,e??"Unknown provider RPC error")}}const Qr=_d({...Rs,async request(r){const e=qd.prepare(r);try{const t=await ge.ethProviderRequestV2(e).then(n=>ja(n,{request:e,raw:!0}));if(t.error)throw $d(t.error);return t.result}catch(t){if(t instanceof Error&&t.message.match(/cannot read property 'apply'/i))return await ge.ethProviderRequest(e);throw t instanceof gr||t instanceof It?t:new Tr({message:t instanceof Error?t.message:void 0})}}});async function Zd(){try{const r=await ge.getCapabilities();return!r.includes("wallet.getEthereumProvider")&&!r.includes("wallet.getEvmProvider")?void 0:Qr}catch{return Qr}}function tu(r){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(r)});window.dispatchEvent(e);const t=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",t),()=>window.removeEventListener("eip6963:requestProvider",t)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{ge.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",r=>{if(r instanceof MessageEvent){const e=r.data;Rs.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",r=>{if(r instanceof MessageEvent){const e=r.data;e.event==="eip6963:announceProvider"&&tu({info:e.info,provider:Qr})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{ge.eip6963RequestProvider()}),window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEthProviderEvent"){const e=r.data;Rs.emit(e.event,...e.params)}}),window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEvent"){const e=r.data.event;e.event==="eip6963:announceProvider"&&tu({info:e.info,provider:Qr})}}));new TextEncoder;const ru=new TextDecoder,Vd=r=>{const e=atob(r),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},Kd=r=>{let e=r;e instanceof Uint8Array&&(e=ru.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Vd(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},Wd=Kd;function Hd(r){return typeof r=="object"&&r!==null}function Jd(r){if(!Hd(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}class At extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}At.code="ERR_JOSE_GENERIC";class Gd extends At{constructor(e,t,n="unspecified",s="unspecified"){super(e,{cause:{claim:n,reason:s,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=s,this.payload=t}}Gd.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class Yd extends At{constructor(e,t,n="unspecified",s="unspecified"){super(e,{cause:{claim:n,reason:s,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=s,this.payload=t}}Yd.code="ERR_JWT_EXPIRED";class Xd extends At{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Xd.code="ERR_JOSE_ALG_NOT_ALLOWED";class Qd extends At{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Qd.code="ERR_JOSE_NOT_SUPPORTED";class eh extends At{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}eh.code="ERR_JWE_DECRYPTION_FAILED";class th extends At{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}th.code="ERR_JWE_INVALID";class rh extends At{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}rh.code="ERR_JWS_INVALID";class Yt extends At{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}Yt.code="ERR_JWT_INVALID";class nh extends At{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}nh.code="ERR_JWK_INVALID";class ih extends At{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}ih.code="ERR_JWKS_INVALID";class sh extends At{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}sh.code="ERR_JWKS_NO_MATCHING_KEY";class oh extends At{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}oh.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class ah extends At{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}ah.code="ERR_JWKS_TIMEOUT";class uh extends At{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}uh.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function ch(r){if(typeof r!="string")throw new Yt("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:t}=r.split(".");if(t===5)throw new Yt("Only JWTs using Compact JWS serialization can be decoded");if(t!==3)throw new Yt("Invalid JWT");if(!e)throw new Yt("JWTs must contain a payload");let n;try{n=Wd(e)}catch{throw new Yt("Failed to base64url decode the payload")}let s;try{s=JSON.parse(ru.decode(n))}catch{throw new Yt("Failed to parse the decoded payload as JSON")}if(!Jd(s))throw new Yt("Invalid JWT Claims Set");return s}function fh(r){return ch(r)}class Gn extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof Gn){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&typeof t.cause.details=="string"?t.cause.details:t.cause?.message?t.cause.message:t.details})(),s=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n?["",n?`Details: ${n}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(s,t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=n,this.shortMessage=e}}class nu extends Gn{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class lh extends Gn{constructor(e){super(e),this.name="InvalidToken"}}async function dh({origin:r}){const e=await fetch(`${r}/nonce`,{method:"POST"});if(!e.ok)throw new nu({status:e.status});return await e.json()}async function hh({origin:r},e){const t=await fetch(`${r}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok)throw new nu({status:t.status});const n=await t.json();if(n.valid===!1)throw new lh(n.message??"unknown");return{token:n.token}}function ph(r={}){return{origin:r.origin??"https://auth.farcaster.xyz"}}function mh(r={}){const e=ph(r);return{generateNonce:()=>dh(e),verifySiwf:t=>hh(e,t)}}const gh=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,yh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function wh(r){const{scheme:e,statement:t,...n}=r.match(gh)?.groups??{},{chainId:s,expirationTime:i,issuedAt:c,notBefore:d,requestId:p,...v}=r.match(yh)?.groups??{},E=r.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...v,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...c?{issuedAt:new Date(c)}:{},...d?{notBefore:new Date(d)}:{},...p?{requestId:p}:{},...E?{resources:E}:{},...e?{scheme:e}:{},...t?{statement:t}:{}}}const No=(()=>{let r,e;async function t(n){const s=mh({origin:n.quickAuthServerOrigin}),{nonce:i}=await s.generateNonce(),c=await ge.signIn({nonce:i,acceptAuthAddress:!0});if(c.result){const d=wh(c.result.message);if(!d.domain)throw new Error("Missing domain on SIWE message");const p=await s.verifySiwf({domain:d.domain,message:c.result.message,signature:c.result.signature});return r={token:p.token,payload:fh(p.token)},p}throw c.error.type==="rejected_by_user"?new na:new Error("Unreachable")}return{get token(){if(r&&new Date(r.payload.exp*1e3)>new Date(Date.now()+15e3))return r.token},async getToken(n={}){const s=n.force??!1;return r&&!s&&new Date(r.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:r.token}:(e||(e=t(n)),e.finally(()=>{e=void 0}),e)},async fetch(n,s){const{token:i}=await this.getToken(),c=new Headers(s?.headers);return c.set("Authorization",`Bearer ${i}`),fetch(n,{...s,headers:c})}}})();function vh(){const r=new za;return{get eventNames(){return r.eventNames.bind(r)},get listenerCount(){return r.listenerCount.bind(r)},get listeners(){return r.listeners.bind(r)},addListener:r.addListener.bind(r),emit:r.emit.bind(r),off:r.off.bind(r),on:r.on.bind(r),once:r.once.bind(r),removeAllListeners:r.removeAllListeners.bind(r),removeListener:r.removeListener.bind(r)}}const vt=vh(),{solanaProviderRequest:Uo}=ge;let iu;Uo&&(iu=ud(fd(Uo)));async function Fo(){let r;try{r=await ge.getCapabilities()}catch{}if(r?.includes("wallet.getSolanaProvider"))return iu}let Po=null;async function bh(r=1e3){if(Po===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([ge.context.then(t=>!!t),new Promise(t=>{setTimeout(()=>t(!1),r)})]).catch(()=>!1);return e&&(Po=!0),e}const zo=async()=>{const r=await ge.addFrame();if(r.result)return r.result;throw r.error.type==="invalid_domain_manifest"?new ju:r.error.type==="rejected_by_user"?new qu:new Error("Unreachable")},Mh={...vt,getCapabilities:ge.getCapabilities,getChains:ge.getChains,isInMiniApp:bh,context:ge.context,back:ld({miniAppHost:ge,emitter:vt}),quickAuth:No,actions:{setPrimaryButton:ge.setPrimaryButton.bind(ge),ready:async(r={})=>await ge.ready(r),close:ge.close.bind(ge),viewCast:ge.viewCast.bind(ge),viewProfile:ge.viewProfile.bind(ge),openMiniApp:ge.openMiniApp.bind(ge),signIn:async r=>{const e=await ge.signIn(r);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new na:new Error("Unreachable")},openUrl:r=>{const e=typeof r=="string"?r:r.url;return ge.openUrl(e.trim())},addFrame:zo,addMiniApp:zo,composeCast(r={}){return ge.composeCast(r)},viewToken:ge.viewToken.bind(ge),sendToken:ge.sendToken.bind(ge),swapToken:ge.swapToken.bind(ge),requestCameraAndMicrophoneAccess:ge.requestCameraAndMicrophoneAccess.bind(ge)},experimental:{getSolanaProvider:Fo,signManifest:async r=>{const e=await ge.signManifest(r);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new $u:e.error.type==="invalid_domain"?new Zu:e.error.type==="generic_error"?new Vu(e.error.message):new Error("Unreachable")},quickAuth(r){return No.getToken(r)}},wallet:{ethProvider:Qr,getEthereumProvider:Zd,getSolanaProvider:Fo},haptics:{impactOccurred:ge.impactOccurred.bind(ge),notificationOccurred:ge.notificationOccurred.bind(ge),selectionChanged:ge.selectionChanged.bind(ge)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",r=>{if(r instanceof MessageEvent){const e=r.data;e.event==="primary_button_clicked"?vt.emit("primaryButtonClicked"):e.event==="miniapp_added"?vt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?vt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?vt.emit("miniAppRemoved"):e.event==="notifications_enabled"?vt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?vt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&vt.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEvent"){const e=r.data.event;e.event==="primary_button_clicked"?vt.emit("primaryButtonClicked"):e.event==="miniapp_added"?vt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?vt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?vt.emit("miniAppRemoved"):e.event==="notifications_enabled"?vt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?vt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&vt.emit("backNavigationTriggered")}});export{Ic as actionLaunchFrameSchema,Bc as actionLaunchMiniAppSchema,Rc as actionSchema,Mc as actionViewTokenSchema,Ac as aspectRatioSchema,Tc as buttonSchema,fa as buttonTitleSchema,_c as caip19TokenSchema,Hc as chains,Lr as createSimpleStringSchema,ud as createSolanaWalletProvider,Mh as default,jc as descriptionSchema,so as domainMiniAppConfigSchema,Sc as domainSchema,kc as encodedJsonFarcasterSignatureSchema,Oc as eventMiniAppAddedSchema,Lc as eventMiniAppRemovedSchema,Cc as eventNotificationsEnabledSchema,ps as hexColorSchema,ge as miniAppHost,Uc as miniAppHostCapabilityList,hs as miniAppNameSchema,Wc as noindexSchema,la as notificationDetailsSchema,Nc as notificationsDisabledSchema,Kc as ogDescriptionSchema,Vc as ogTitleSchema,Fc as primaryCategories,Pc as primaryCategorySchema,No as quickAuth,Gc as requiredCapabilitiesSchema,Jc as requiredChainsSchema,qc as screenshotUrlsSchema,Mh as sdk,_t as secureUrlSchema,Dc as subtitleSchema,Zc as taglineSchema,$c as tagsSchema,fd as unwrapSolanaProviderRequest,zc as versionSchema};
//# sourceMappingURL=index-B60Zbnjd.js.map
